!function(e,t,n){"use strict";function r(e){return function(){var t,n=arguments[0];for(t="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.4.9/"+(e?e+"/":"")+n,n=1;n<arguments.length;n++){t=t+(1==n?"?":"&")+"p"+(n-1)+"=";var r,i=encodeURIComponent;r=arguments[n],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,t+=i(r)}return Error(t)}}function i(e){if(null==e||A(e))return!1;if(ir(e)||w(e)||Vn&&e instanceof Vn)return!0;var t="length"in Object(e)&&e.length;return x(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function a(e,t,n){var r,o;if(e)if(E(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(ir(e)||i(e)){var s="object"!=typeof e;for(r=0,o=e.length;o>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else if(_(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)Gn.call(e,r)&&t.call(n,e[r],r,e);return e}function o(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function u(){return++nr}function l(e,t,n){for(var r=e.$$hashKey,i=0,a=t.length;a>i;++i){var o=t[i];if(b(o)||E(o))for(var s=Object.keys(o),u=0,c=s.length;c>u;u++){var f=s[u],d=o[f];n&&b(d)?C(d)?e[f]=new Date(d.valueOf()):S(d)?e[f]=new RegExp(d):d.nodeName?e[f]=d.cloneNode(!0):N(d)?e[f]=d.clone():(b(e[f])||(e[f]=ir(d)?[]:{}),l(e[f],[d],!0)):e[f]=d}}return r?e.$$hashKey=r:delete e.$$hashKey,e}function c(e){return l(e,Xn.call(arguments,1),!1)}function f(e){return l(e,Xn.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function p(e,t){return c(Object.create(e),t)}function h(){}function g(e){return e}function m(e){return function(){return e}}function v(e){return E(e.toString)&&e.toString!==Zn}function $(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!==e&&"object"==typeof e}function _(e){return null!==e&&"object"==typeof e&&!Qn(e)}function w(e){return"string"==typeof e}function x(e){return"number"==typeof e}function C(e){return"[object Date]"===Zn.call(e)}function E(e){return"function"==typeof e}function S(e){return"[object RegExp]"===Zn.call(e)}function A(e){return e&&e.window===e}function k(e){return e&&e.$evalAsync&&e.$watch}function T(e){return"boolean"==typeof e}function O(e){return e&&x(e.length)&&ar.test(Zn.call(e))}function N(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function I(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function P(e){return Wn(e.nodeName||e[0]&&e[0].nodeName)}function M(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function j(e,t){function n(e,t){var n,i=t.$$hashKey;if(ir(e)){n=0;for(var a=e.length;a>n;n++)t.push(r(e[n]))}else if(_(e))for(n in e)t[n]=r(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=r(e[n]));else for(n in e)Gn.call(e,n)&&(t[n]=r(e[n]));return i?t.$$hashKey=i:delete t.$$hashKey,t}function r(e){if(!b(e))return e;var t=i.indexOf(e);if(-1!==t)return o[t];if(A(e)||k(e))throw er("cpws");var r,t=!1;return ir(e)?(r=[],t=!0):O(e)?r=new e.constructor(e):C(e)?r=new Date(e.getTime()):S(e)?(r=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),r.lastIndex=e.lastIndex):E(e.cloneNode)?r=e.cloneNode(!0):(r=Object.create(Qn(e)),t=!0),i.push(e),o.push(r),t?n(e,r):r}var i=[],o=[];if(t){if(O(t))throw er("cpta");if(e===t)throw er("cpi");return ir(t)?t.length=0:a(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),i.push(e),o.push(t),n(e,t)}return r(e)}function L(e,t){if(ir(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(b(e))for(n in t=t||{},e)("$"!==n.charAt(0)||"$"!==n.charAt(1))&&(t[n]=e[n]);return t||e}function R(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r=typeof e;if(r==typeof t&&"object"==r){if(!ir(e)){if(C(e))return C(t)?R(e.getTime(),t.getTime()):!1;if(S(e))return S(t)?e.toString()==t.toString():!1;if(k(e)||k(t)||A(e)||A(t)||ir(t)||C(t)||S(t))return!1;r=le();for(n in e)if("$"!==n.charAt(0)&&!E(e[n])){if(!R(e[n],t[n]))return!1;r[n]=!0}for(n in t)if(!(n in r)&&"$"!==n.charAt(0)&&y(t[n])&&!E(t[n]))return!1;return!0}if(!ir(t))return!1;if((r=e.length)==t.length){for(n=0;r>n;n++)if(!R(e[n],t[n]))return!1;return!0}}return!1}function D(e,t,n){return e.concat(Xn.call(t,n))}function F(e,t){var n=2<arguments.length?Xn.call(arguments,2):[];return!E(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,D(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function U(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:A(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":k(r)&&(i="$SCOPE"),i}function H(e,t){return"undefined"==typeof e?n:(x(t)||(t=t?2:null),JSON.stringify(e,U,t))}function V(e){return w(e)?JSON.parse(e):e}function z(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function q(e,t,n){n=n?-1:1;var r=z(t,e.getTimezoneOffset());return t=e,e=n*(r-e.getTimezoneOffset()),t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function B(e){e=Vn(e).clone();try{e.empty()}catch(t){}var n=Vn("<div>").append(e).html();try{return e[0].nodeType===pr?Wn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Wn(t)})}catch(r){return Wn(n)}}function W(e){try{return decodeURIComponent(e)}catch(t){}}function G(e){var t={};return a((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=W(r),y(r)&&(i=y(i)?W(i):!0,Gn.call(t,r)?ir(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function K(e){var t=[];return a(e,function(e,n){ir(e)?a(e,function(e){t.push(Y(n,!0)+(!0===e?"":"="+Y(e,!0)))}):t.push(Y(n,!0)+(!0===e?"":"="+Y(e,!0)))}),t.length?t.join("&"):""}function X(e){return Y(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function J(e,t){var n,r,i=cr.length;for(r=0;i>r;++r)if(n=cr[r]+t,w(n=e.getAttribute(n)))return n;return null}function Z(e,t){var n,r,i={};a(cr,function(t){t+="app",!n&&e.hasAttribute&&e.hasAttribute(t)&&(n=e,r=e.getAttribute(t))}),a(cr,function(t){t+="app";var i;!n&&(i=e.querySelector("["+t.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(t))}),n&&(i.strictDi=null!==J(n,"strict-di"),t(n,r?[r]:[],i))}function Q(n,r,i){b(i)||(i={}),i=c({strictDi:!1},i);var o=function(){if(n=Vn(n),n.injector()){var e=n[0]===t?"document":B(n);throw er("btstrpd",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}return r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng"),e=Fe(r,i.strictDi),e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e},s=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!u.test(e.name)?o():(e.name=e.name.replace(u,""),tr.resumeBootstrap=function(e){return a(e,function(e){r.push(e)}),o()},void(E(tr.resumeDeferredBootstrap)&&tr.resumeDeferredBootstrap()))}function ee(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function te(e){if(e=tr.element(e).injector(),!e)throw er("test");return e.get("$$testability")}function ne(e,t){return t=t||"_",e.replace(fr,function(e,n){return(n?t:"")+e.toLowerCase()})}function re(){var t;if(!dr){var r=lr();(zn=$(r)?e.jQuery:r?e[r]:n)&&zn.fn.on?(Vn=zn,c(zn.fn,{scope:Ar.scope,isolateScope:Ar.isolateScope,controller:Ar.controller,injector:Ar.injector,inheritedData:Ar.inheritedData}),t=zn.cleanData,zn.cleanData=function(e){var n;if(rr)rr=!1;else for(var r,i=0;null!=(r=e[i]);i++)(n=zn._data(r,"events"))&&n.$destroy&&zn(r).triggerHandler("$destroy");t(e)}):Vn=ge,tr.element=Vn,dr=!0}}function ie(e,t,n){if(!e)throw er("areq",t||"?",n||"required");return e}function ae(e,t,n){return n&&ir(e)&&(e=e[e.length-1]),ie(E(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function oe(e,t){if("hasOwnProperty"===e)throw er("badname",t)}function se(e,t,n){if(!t)return e;t=t.split(".");for(var r,i=e,a=t.length,o=0;a>o;o++)r=t[o],e&&(e=(i=e)[r]);return!n&&E(e)?F(i,e):e}function ue(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Vn(Xn.call(e,0,i))),t.push(n));return t||e}function le(){return Object.create(null)}function ce(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||r,t(e,"module",function(){var e={};return function(r,a,o){if("hasOwnProperty"===r)throw i("badname","module");return a&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function t(e,t){return function(n,a){return a&&E(a)&&(a.$$moduleName=r),i.push([e,t,arguments]),c}}if(!a)throw n("nomod",r);var i=[],s=[],u=[],l=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:u,requires:a,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(e){return u.push(e),this}};return o&&l(o),c})}})}function fe(t){c(t,{bootstrap:Q,copy:j,extend:c,merge:f,equals:R,element:Vn,forEach:a,injector:Fe,noop:h,bind:F,toJson:H,fromJson:V,identity:g,isUndefined:$,isDefined:y,isString:w,isFunction:E,isObject:b,isNumber:x,isElement:N,isArray:ir,version:hr,isDate:C,lowercase:Wn,uppercase:Kn,callbacks:{counter:0},getTestability:te,$$minErr:r,$$csp:ur,reloadWithDebugInfo:ee}),(qn=ce(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Xt}),e.provider("$compile",Ke).directive({a:Ti,input:Bi,textarea:Bi,form:Pi,script:Pa,select:La,style:Da,option:Ra,ngBind:Ki,ngBindHtml:Yi,ngBindTemplate:Xi,ngClass:Zi,ngClassEven:ea,ngClassOdd:Qi,ngCloak:ta,ngController:na,ngForm:Mi,ngHide:Aa,ngIf:aa,ngInclude:oa,ngInit:ua,ngNonBindable:ba,ngPluralize:Ca,ngRepeat:Ea,ngShow:Sa,ngStyle:ka,ngSwitch:Ta,ngSwitchWhen:Oa,ngSwitchDefault:Na,ngOptions:xa,ngTransclude:Ia,ngModel:va,ngList:la,ngChange:Ji,pattern:Ua,ngPattern:Ua,required:Fa,ngRequired:Fa,minlength:Va,ngMinlength:Va,maxlength:Ha,ngMaxlength:Ha,ngValue:Gi,ngModelOptions:ya}).directive({ngInclude:sa}).directive(Oi).directive(ra),e.provider({$anchorScroll:Ue,$animate:Ur,$animateCss:zr,$$animateJs:Dr,$$animateQueue:Fr,$$AnimateRunner:Vr,$$animateAsyncRun:Hr,$browser:Be,$cacheFactory:We,$controller:Ze,$document:Qe,$exceptionHandler:et,$filter:cn,$$forceReflow:Kr,$interpolate:dt,$interval:pt,$http:ut,$httpParamSerializer:nt,$httpParamSerializerJQLike:rt,$httpBackend:ct,$xhrFactory:lt,$location:Et,$log:St,$parse:zt,$rootScope:Kt,$q:qt,$$q:Bt,$sce:Qt,$sceDelegate:Zt,$sniffer:en,$templateCache:Ge,$templateRequest:tn,$$testability:nn,$timeout:rn,$window:sn,$$rAF:Gt,$$jqLite:je,$$HashMap:Nr,$$cookieReader:ln})}])}function de(e){return e.replace(vr,function(e,t,n,r){return r?n.toUpperCase():n}).replace($r,"Moz$1")}function pe(e){return e=e.nodeType,1===e||!e||9===e}function he(e,t){var n,r,i=t.createDocumentFragment(),o=[];if(wr.test(e)){for(n=n||i.appendChild(t.createElement("div")),r=(xr.exec(e)||["",""])[1].toLowerCase(),r=Er[r]||Er._default,n.innerHTML=r[1]+e.replace(Cr,"<$1></$2>")+r[2],r=r[0];r--;)n=n.lastChild;o=D(o,n.childNodes),n=i.firstChild,n.textContent=""}else o.push(t.createTextNode(e));return i.textContent="",i.innerHTML="",a(o,function(e){i.appendChild(e)}),i}function ge(e){if(e instanceof ge)return e;var n;if(w(e)&&(e=or(e),n=!0),!(this instanceof ge)){if(n&&"<"!=e.charAt(0))throw br("nosel");return new ge(e)}if(n){n=t;var r;e=(r=_r.exec(e))?[n.createElement(r[1])]:(r=he(e,n))?r.childNodes:[]}Ee(this,e)}function me(e){return e.cloneNode(!0)}function ve(e,t){if(t||ye(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)ye(n[r])}function $e(e,t,n,r){if(y(r))throw br("offargs");var i=(r=be(e))&&r.events,o=r&&r.handle;if(o)if(t){var s=function(t){var r=i[t];y(n)&&M(r||[],n),y(n)&&r&&0<r.length||(e.removeEventListener(t,o,!1),delete i[t])};a(t.split(" "),function(e){s(e),yr[e]&&s(yr[e])})}else for(t in i)"$destroy"!==t&&e.removeEventListener(t,o,!1),delete i[t]}function ye(e,t){var r=e.ng339,i=r&&gr[r];i&&(t?delete i.data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),$e(e)),delete gr[r],e.ng339=n))}function be(e,t){var r=e.ng339,r=r&&gr[r];return t&&!r&&(e.ng339=r=++mr,r=gr[r]={events:{},data:{},handle:n}),r}function _e(e,t,n){if(pe(e)){var r=y(n),i=!r&&t&&!b(t),a=!t;if(e=(e=be(e,!i))&&e.data,r)e[t]=n;else{if(a)return e;if(i)return e&&e[t];c(e,t)}}}function we(e,t){return e.getAttribute?-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" "):!1}function xe(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",or((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+or(t)+" "," ")))})}function Ce(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=or(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",or(n))}}function Ee(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Se(e,t){return Ae(e,"$"+(t||"ngController")+"Controller")}function Ae(e,t,n){for(9==e.nodeType&&(e=e.documentElement),t=ir(t)?t:[t];e;){for(var r=0,i=t.length;i>r;r++)if(y(n=Vn.data(e,t[r])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function ke(e){for(ve(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Te(e,t){t||ve(e);var n=e.parentNode;n&&n.removeChild(e)}function Oe(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Vn(n).on("load",t)}function Ne(e,t){var n=kr[t.toLowerCase()];return n&&Tr[P(e)]&&n}function Ie(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],a=i?i.length:0;if(a){if($(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=i.specialHandlerWrapper||Pe;a>1&&(i=L(i));for(var u=0;a>u;u++)n.isImmediatePropagationStopped()||s(e,n,i[u])}};return n.elem=e,n}function Pe(e,t,n){n.call(e,t)}function Me(e,t,n){var r=t.relatedTarget;r&&(r===e||Sr.call(e,r))||n.call(e,t)}function je(){this.$get=function(){return c(ge,{hasClass:function(e,t){return e.attr&&(e=e[0]),we(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ce(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),xe(e,t)}})}}function Le(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"==n||"object"==n&&null!==e?e.$$hashKey=n+":"+(t||u)():n+":"+e)}function Re(e,t){if(t){var n=0;this.nextUid=function(){return++n}}a(e,this.put,this)}function De(e){return(e=e.toString().replace(jr,"").match(Ir))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Fe(e,t){function r(e){return function(t,n){return b(t)?void a(t,s(e)):e(t,n)}}function i(e,t){if(oe(e,"service"),(E(t)||ir(t))&&(t=g.instantiate(t)),!t.$get)throw Lr("pget",e);return h[e+"Provider"]=t}function o(e,t){return function(){var n=y.invoke(t,this);if($(n))throw Lr("undef",e);return n}}function u(e,t,n){return i(e,{$get:!1!==n?o(e,t):t})}function l(e){ie($(e)||ir(e),"modulesToLoad","not an array");var t,n=[];return a(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=g.get(r[0]);i[r[1]].apply(i,r[2])}}if(!p.get(e)){p.put(e,!0);try{w(e)?(t=qn(e),n=n.concat(l(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):E(e)?n.push(g.invoke(e)):ir(e)?n.push(g.invoke(e)):ae(e,"module")}catch(i){throw ir(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Lr("modulerr",e,i.stack||i.message||i)}}}),n}function c(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===f)throw Lr("cdep",t+" <- "+d.join(" <- "));return e[t]}try{return d.unshift(t),e[t]=f,e[t]=n(t,r)}catch(i){throw e[t]===f&&delete e[t],i}finally{d.shift()}}function i(e,n,i,a){"string"==typeof i&&(a=i,i=null);var o,s,u,l=[],c=Fe.$$annotate(e,t,a);for(s=0,o=c.length;o>s;s++){if(u=c[s],"string"!=typeof u)throw Lr("itkn",u);l.push(i&&i.hasOwnProperty(u)?i[u]:r(u,a))}return ir(e)&&(e=e[o]),e.apply(n,l)}return{invoke:i,instantiate:function(e,t,n){var r=Object.create((ir(e)?e[e.length-1]:e).prototype||null);return e=i(e,r,t,n),b(e)||E(e)?e:r},get:r,annotate:Fe.$$annotate,has:function(t){return h.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var f={},d=[],p=new Re([],!0),h={$provide:{provider:r(i),factory:r(u),service:r(function(e,t){return u(e,["$injector",function(e){return e.instantiate(t)}])}),value:r(function(e,t){return u(e,m(t),!1)}),constant:r(function(e,t){oe(e,"constant"),h[e]=t,v[e]=t}),decorator:function(e,t){var n=g.get(e+"Provider"),r=n.$get;n.$get=function(){var e=y.invoke(r,n);return y.invoke(t,null,{$delegate:e})}}}},g=h.$injector=c(h,function(e,t){throw tr.isString(t)&&d.push(t),Lr("unpr",d.join(" <- "))}),v={},y=v.$injector=c(v,function(e,t){var r=g.get(e+"Provider",t);return y.invoke(r.$get,r,n,e)});return a(l(e),function(e){e&&y.invoke(e)}),y}function Ue(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===P(e)?(t=e,!0):void 0}),t}function a(e){if(e){e.scrollIntoView();var n;n=o.yOffset,E(n)?n=n():N(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):x(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function o(e){e=w(e)?e:n.hash();var t;e?(t=s.getElementById(e))?a(t):(t=i(s.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Oe(function(){r.$evalAsync(o)})}),o}]}function He(e,t){return e||t?e?t?(ir(e)&&(e=e.join(" ")),ir(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Ve(e){w(e)&&(e=e.split(" "));var t=le();return a(e,function(e){e.length&&(t[e]=!0)}),t}function ze(e){return b(e)?e:{}}function qe(e,t,n,r){function i(e){try{e.apply(null,Xn.call(arguments,1))}finally{if(m--,0===m)for(;v.length;)try{v.pop()()}catch(t){n.error(t)}}}function o(){x=null,s(),u()}function s(){e:{try{y=f.state;break e}catch(e){}y=void 0}y=$(y)?null:y,R(y,S)&&(y=S),S=y}function u(){(_!==l.url()||b!==y)&&(_=l.url(),b=y,a(C,function(e){e(l.url(),y)}))}var l=this,c=e.location,f=e.history,d=e.setTimeout,p=e.clearTimeout,g={};l.isMock=!1;var m=0,v=[];l.$$completeOutstandingRequest=i,l.$$incOutstandingRequestCount=function(){m++},l.notifyWhenNoOutstandingRequests=function(e){0===m?e():v.push(e)};var y,b,_=c.href,w=t.find("base"),x=null;s(),b=y,l.url=function(t,n,i){if($(i)&&(i=null),c!==e.location&&(c=e.location),f!==e.history&&(f=e.history),t){var a=b===i;if(_===t&&(!r.history||a))return l;var o=_&&$t(_)===$t(t);return _=t,b=i,!r.history||o&&a?((!o||x)&&(x=t),n?c.replace(t):o?(n=c,i=t.indexOf("#"),i=-1===i?"":t.substr(i),n.hash=i):c.href=t,c.href!==t&&(x=t)):(f[n?"replaceState":"pushState"](i,"",t),s(),b=y),l}return x||c.href.replace(/%27/g,"'")},l.state=function(){return y};var C=[],E=!1,S=null;l.onUrlChange=function(t){return E||(r.history&&Vn(e).on("popstate",o),Vn(e).on("hashchange",o),E=!0),C.push(t),t},l.$$applicationDestroyed=function(){Vn(e).off("hashchange popstate",o)},l.$$checkUrlChange=u,l.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(e,t){var n;return m++,n=d(function(){delete g[n],i(e)},t||0),g[n]=!0,n},l.defer.cancel=function(e){return g[e]?(delete g[e],p(e),i(h),!0):!1}}function Be(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new qe(e,r,t,n)}]}function We(){this.$get=function(){function e(e,n){function i(e){e!=d&&(p?p==e&&(p=e.n):p=e,a(e.n,e.p),a(e,d),d=e,d.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid",e);var o=0,s=c({},n,{id:e}),u=le(),l=n&&n.capacity||Number.MAX_VALUE,f=le(),d=null,p=null;return t[e]={put:function(e,t){if(!$(t)){if(l<Number.MAX_VALUE){var n=f[e]||(f[e]={key:e});i(n)}return e in u||o++,u[e]=t,o>l&&this.remove(p.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=f[e];if(!t)return;i(t)}return u[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=f[e];if(!t)return;t==d&&(d=t.p),t==p&&(p=t.n),a(t.n,t.p),delete f[e]}e in u&&(delete u[e],o--)},removeAll:function(){u=le(),o=0,f=le(),d=p=null},destroy:function(){f=s=u=null,delete t[e]},info:function(){return c({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Ge(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Ke(e,r){function i(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return a(e,function(e,a){var o=e.match(r);if(!o)throw qr("iscp",t,a,e,n?"controller bindings definition":"isolate scope definition");i[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a}}),i}function o(e){var t=e.charAt(0);if(!t||t!==Wn(t))throw qr("baddir",e);if(e!==e.trim())throw qr("baddir",e)}var u={},l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,d=I("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,_=/^(on[a-z]+|formaction)$/;this.directive=function C(t,n){return oe(t,"directive"),w(t)?(o(t),ie(n,"directiveFactory"),u.hasOwnProperty(t)||(u[t]=[],e.factory(t+"Directive",["$injector","$exceptionHandler",function(e,n){var r=[];return a(u[t],function(a,o){try{var s=e.invoke(a);E(s)?s={compile:m(s)}:!s.compile&&s.link&&(s.compile=m(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var u=s,l=s,c=s.name,f={isolateScope:null,bindToController:null};if(b(l.scope)&&(!0===l.bindToController?(f.bindToController=i(l.scope,c,!0),f.isolateScope={}):f.isolateScope=i(l.scope,c,!1)),b(l.bindToController)&&(f.bindToController=i(l.bindToController,c,!0)),b(f.bindToController)){var d=l.controller,p=l.controllerAs;if(!d)throw qr("noctrl",c);var h;e:if(p&&w(p))h=p;else{if(w(d)){var g=Gr.exec(d);if(g){h=g[3];break e}}h=void 0}if(!h)throw qr("noident",c)}var v=u.$$bindings=f;b(v.isolateScope)&&(s.$$isolateBindings=v.isolateScope),s.$$moduleName=a.$$moduleName,r.push(s)}catch($){n($)}}),r}])),u[t].push(n)):a(t,s(C)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var x=!0;this.debugInfoEnabled=function(e){return y(e)?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,r,i,o,s,m,y,C,S,A){function T(e,t){try{e.addClass(t)}catch(n){}}function O(e,t,n,r,i){e instanceof Vn||(e=Vn(e)),a(e,function(t,n){t.nodeType==pr&&t.nodeValue.match(/\S+/)&&(e[n]=Vn(t).wrap("<span></span>").parent()[0])});var o=N(e,t,e,n,r,i);O.$$addScopeClass(e);var s=null;return function(t,n,r){ie(t,"scope"),i&&i.needsNewScope&&(t=t.$parent.$new()),r=r||{};var a=r.parentBoundTranscludeFn,u=r.transcludeControllers;if(r=r.futureParentElement,a&&a.$$boundTransclude&&(a=a.$$boundTransclude),s||(s=(r=r&&r[0])&&"foreignobject"!==P(r)&&r.toString().match(/SVG/)?"svg":"html"),r="html"!==s?Vn(X(s,Vn("<div>").append(e).html())):n?Ar.clone.call(e):e,u)for(var l in u)r.data("$"+l+"Controller",u[l].instance);return O.$$addScopeInfo(r,t),n&&n(r,t),o&&o(t,r,r,a),r}}function N(e,t,r,i,a,o){function s(e,r,i,a){var o,s,u,l,c,f,h;if(d)for(h=Array(r.length),l=0;l<p.length;l+=3)o=p[l],h[o]=r[o];else h=r;for(l=0,c=p.length;c>l;)s=h[p[l++]],r=p[l++],o=p[l++],r?(r.scope?(u=e.$new(),O.$$addScopeInfo(Vn(s),u)):u=e,f=r.transcludeOnThisElement?I(e,r.transclude,a):!r.templateOnThisElement&&a?a:!a&&t?I(e,t):null,r(o,u,s,i,f)):o&&o(e,s.childNodes,n,a)}for(var u,l,c,f,d,p=[],h=0;h<e.length;h++)u=new re,l=j(e[h],[],u,0===h?i:n,a),(o=l.length?F(l,e[h],u,t,r,null,[],[],o):null)&&o.scope&&O.$$addScopeClass(u.$$element),u=o&&o.terminal||!(c=e[h].childNodes)||!c.length?null:N(c,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||u)&&(p.push(h,o,u),f=!0,d=d||o),o=null;return f?s:null}function I(e,t,n){return function(r,i,a,o,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}}function j(e,t,n,r,i){var a,o=n.$attr;switch(e.nodeType){case 1:H(t,Xe(P(e)),"E",r,i);for(var s,u,c,d=e.attributes,p=0,h=d&&d.length;h>p;p++){var g=!1,m=!1;s=d[p],a=s.name,u=or(s.value),s=Xe(a),(c=ue.test(s))&&(a=a.replace(Br,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()})),(s=s.match(ce))&&V(s[1])&&(g=a,m=a.substr(0,a.length-5)+"end",a=a.substr(0,a.length-6)),s=Xe(a.toLowerCase()),o[s]=a,(c||!n.hasOwnProperty(s))&&(n[s]=u,Ne(e,s)&&(n[s]=!0)),J(e,t,u,s,c),H(t,s,"A",r,i,g,m)}if(e=e.className,b(e)&&(e=e.animVal),w(e)&&""!==e)for(;a=f.exec(e);)s=Xe(a[2]),H(t,s,"C",r,i)&&(n[s]=or(a[3])),e=e.substr(a.index+a[0].length);break;case pr:if(11===Hn)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===pr;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);K(t,e.nodeValue);break;case 8:try{(a=l.exec(e.nodeValue))&&(s=Xe(a[1]),H(t,s,"M",r,i)&&(n[s]=or(a[2])))}catch(v){}}return t.sort(W),t}function L(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw qr("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Vn(r)}function D(e,t,n){return function(r,i,a,o,s){return i=L(i[0],t,n),e(r,i,a,o,s)}}function F(e,r,a,o,s,u,l,c,f){function d(e,t,n,r){e&&(n&&(e=D(e,n,r)),e.require=$.require,e.directiveName=y,(T===$||$.$$isolateScope)&&(e=Q(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=D(t,n,r)),t.require=$.require,t.directiveName=y,(T===$||$.$$isolateScope)&&(t=Q(t,{isolateScope:!0})),c.push(t))}function p(e,t,n,r){var i;if(w(t)){var a=t.match(v);t=t.substring(a[0].length);var o=a[1]||a[3],a="?"===a[2];if("^^"===o?n=n.parent():i=(i=r&&r[t])&&i.instance,i||(r="$"+t+"Controller",i=o?n.inheritedData(r):n.data(r)),!i&&!a)throw qr("ctreq",t,e)}else if(ir(t))for(i=[],o=0,a=t.length;a>o;o++)i[o]=p(e,t[o],n,r);return i||null}function h(e,t,n,r,i,a){var o,s=le();for(o in r){var u=r[o],l={$scope:u===T||u.$$isolateScope?i:a,$element:e,$attrs:t,$transclude:n},c=u.controller;"@"==c&&(c=t[u.name]),l=m(c,l,!0,u.controllerAs),s[u.name]=l,R||e.data("$"+u.name+"Controller",l.instance)}return s}function g(e,t,i,o,s){function u(e,t,r){var i;return k(e)||(r=t,t=e,e=n),R&&(i=m),r||(r=R?$.parent():$),s(e,t,i,r,C)}var f,d,g,m,v,$,y;r===i?(o=a,$=a.$$element):($=Vn(i),o=new re($,a)),g=t,T?d=t.$new(!0):S&&(g=t.$parent),s&&(v=u,v.$$boundTransclude=s),A&&(m=h($,o,v,A,d,t)),T&&(O.$$addScopeInfo($,d,!0,!(N&&(N===T||N===T.$$originalDirective))),O.$$addScopeClass($,!0),d.$$isolateBindings=T.$$isolateBindings,(y=te(t,o,d,d.$$isolateBindings,T))&&d.$on("$destroy",y));for(var b in m){y=A[b];var _=m[b],w=y.$$bindings.bindToController;_.identifier&&w&&(f=te(g,o,_.instance,w,y));var x=_();x!==_.instance&&(_.instance=x,$.data("$"+y.name+"Controller",x),f&&f(),f=te(g,o,_.instance,w,y))}for(V=0,W=l.length;W>V;V++)f=l[V],ee(f,f.isolateScope?d:t,$,o,f.require&&p(f.directiveName,f.require,$,m),v);var C=t;for(T&&(T.template||null===T.templateUrl)&&(C=d),e&&e(C,i.childNodes,n,s),V=c.length-1;V>=0;V--)f=c[V],ee(f,f.isolateScope?d:t,$,o,f.require&&p(f.directiveName,f.require,$,m),v)}f=f||{};for(var $,y,_,x,C=-Number.MAX_VALUE,S=f.newScopeDirective,A=f.controllerDirectives,T=f.newIsolateScopeDirective,N=f.templateDirective,I=f.nonTlbTranscludeDirective,P=!1,M=!1,R=f.hasElementTranscludeDirective,F=a.$$element=Vn(r),H=o,V=0,W=e.length;W>V;V++){$=e[V];var K=$.$$start,Y=$.$$end;if(K&&(F=L(r,K,Y)),_=n,C>$.priority)break;if((_=$.scope)&&($.templateUrl||(b(_)?(G("new/isolated scope",T||S,$,F),T=$):G("new/isolated scope",T,$,F)),S=S||$),y=$.name,!$.templateUrl&&$.controller&&(_=$.controller,A=A||le(),G("'"+y+"' controller",A[y],$,F),A[y]=$),(_=$.transclude)&&(P=!0,$.$$tlb||(G("transclusion",I,$,F),I=$),"element"==_?(R=!0,C=$.priority,_=F,F=a.$$element=Vn(t.createComment(" "+y+": "+a[y]+" ")),r=F[0],Z(s,Xn.call(_,0),r),H=O(_,o,C,u&&u.name,{nonTlbTranscludeDirective:I})):(_=Vn(me(r)).contents(),F.empty(),H=O(_,o,n,n,{needsNewScope:$.$$isolateScope||$.$$newScope}))),$.template)if(M=!0,G("template",N,$,F),N=$,_=E($.template)?$.template(F,a):$.template,_=se(_),$.replace){if(u=$,_=wr.test(_)?Je(X($.templateNamespace,or(_))):[],r=_[0],1!=_.length||1!==r.nodeType)throw qr("tplrt",y,"");Z(s,F,r),_={$attr:{}};var J=j(r,[],_),ne=e.splice(V+1,e.length-(V+1));(T||S)&&U(J,T,S),e=e.concat(J).concat(ne),z(a,_),W=e.length}else F.html(_);if($.templateUrl)M=!0,G("template",N,$,F),N=$,$.replace&&(u=$),g=q(e.splice(V,e.length-V),F,a,s,P&&H,l,c,{controllerDirectives:A,newScopeDirective:S!==$&&S,newIsolateScopeDirective:T,templateDirective:N,nonTlbTranscludeDirective:I}),W=e.length;else if($.compile)try{x=$.compile(F,a,H),E(x)?d(null,x,K,Y):x&&d(x.pre,x.post,K,Y)}catch(ie){i(ie,B(F))}$.terminal&&(g.terminal=!0,C=Math.max(C,$.priority))}return g.scope=S&&!0===S.scope,g.transcludeOnThisElement=P,g.templateOnThisElement=M,g.transclude=H,f.hasElementTranscludeDirective=R,g}function U(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=p(e[r],{$$isolateScope:t,$$newScope:n})}function H(t,n,r,a,o,s,l){if(n===o)return null;if(o=null,u.hasOwnProperty(n)){var c;n=e.get(n+"Directive");for(var f=0,d=n.length;d>f;f++)try{c=n[f],($(a)||a>c.priority)&&-1!=c.restrict.indexOf(r)&&(s&&(c=p(c,{$$start:s,$$end:l})),t.push(c),o=c)}catch(h){i(h)}}return o}function V(t){if(u.hasOwnProperty(t))for(var n=e.get(t+"Directive"),r=0,i=n.length;i>r;r++)if(t=n[r],t.multiElement)return!0;return!1}function z(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;a(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),a(t,function(t,a){"class"==a?(T(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function q(e,t,n,r,i,s,u,l){var c,f,d=[],h=t[0],g=e.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=E(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,$=g.templateNamespace;return t.empty(),o(v).then(function(o){var p,y;if(o=se(o),g.replace){if(o=wr.test(o)?Je(X($,or(o))):[],p=o[0],1!=o.length||1!==p.nodeType)throw qr("tplrt",g.name,v);o={$attr:{}},Z(r,t,p);var _=j(p,[],o);b(g.scope)&&U(_,!0),e=_.concat(e),z(n,o)}else p=h,t.html(o);for(e.unshift(m),c=F(e,p,n,i,t,g,s,u,l),a(r,function(e,n){e==p&&(r[n]=t[0])}),f=N(t[0].childNodes,i);d.length;){o=d.shift(),y=d.shift();var w=d.shift(),x=d.shift(),_=t[0];if(!o.$$destroyed){if(y!==h){
var C=y.className;l.hasElementTranscludeDirective&&g.replace||(_=me(p)),Z(w,Vn(y),_),T(Vn(_),C)}y=c.transcludeOnThisElement?I(o,c.transclude,x):x,c(f,o,_,r,y)}}d=null}),function(e,t,n,r,i){e=i,t.$$destroyed||(d?d.push(t,n,r,e):(c.transcludeOnThisElement&&(e=I(t,c.transclude,i)),c(f,t,n,r,e)))}}function W(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function G(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw qr("multidir",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,B(r))}function K(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&O.$$addBindingClass(e),function(e,r){var i=r.parent();t||O.$$addBindingClass(i),O.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){r[0].nodeValue=e})}}})}function X(e,n){switch(e=Wn(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function Y(e,t){if("srcdoc"==t)return C.HTML;var n=P(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function J(e,t,n,i,a){var o=Y(e,i);a=d[i]||a;var s=r(n,!0,o,a);if(s){if("multiple"===i&&"select"===P(e))throw qr("selmulti",B(e));t.push({priority:100,compile:function(){return{pre:function(e,t,u){if(t=u.$$observers||(u.$$observers=le()),_.test(i))throw qr("nodomevents");var l=u[i];l!==n&&(s=l&&r(l,!0,o,a),n=l),s&&(u[i]=s(e),(t[i]||(t[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?u.$updateClass(e,t):u.$set(i,e)}))}}}})}}function Z(e,n,r){var i,a,o=n[0],s=n.length,u=o.parentNode;if(e)for(i=0,a=e.length;a>i;i++)if(e[i]==o){e[i++]=r,a=i+s-1;for(var l=e.length;l>i;i++,a++)l>a?e[i]=e[a]:delete e[i];e.length-=s-1,e.context===o&&(e.context=r);break}for(u&&u.replaceChild(r,o),e=t.createDocumentFragment(),e.appendChild(o),Vn.hasData(o)&&(Vn.data(r,Vn.data(o)),zn?(rr=!0,zn.cleanData([o])):delete Vn.cache[o[Vn.expando]]),o=1,s=n.length;s>o;o++)u=n[o],Vn(u).remove(),e.appendChild(u),delete n[o];n[0]=r,n.length=1}function Q(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function ee(e,t,n,r,a,o){try{e(t,n,r,a,o)}catch(s){i(s,B(n))}}function te(e,t,n,i,o){var u=[];return a(i,function(i,a){var l,c,f,d,p=i.attrName,g=i.optional;switch(i.mode){case"@":g||Gn.call(t,p)||(n[a]=t[p]=void 0),t.$observe(p,function(e){w(e)&&(n[a]=e)}),t.$$observers[p].$$scope=e,w(t[p])&&(n[a]=r(t[p])(e));break;case"=":if(!Gn.call(t,p)){if(g)break;t[p]=void 0}if(g&&!t[p])break;c=s(t[p]),d=c.literal?R:function(e,t){return e===t||e!==e&&t!==t},f=c.assign||function(){throw l=n[a]=c(e),qr("nonassign",t[p],o.name)},l=n[a]=c(e),g=function(t){return d(t,n[a])||(d(t,l)?f(e,t=n[a]):n[a]=t),l=t},g.$stateful=!0,g=i.collection?e.$watchCollection(t[p],g):e.$watch(s(t[p],g),null,c.literal),u.push(g);break;case"&":if(c=t.hasOwnProperty(p)?s(t[p]):h,c===h&&g)break;n[a]=function(t){return c(e,t)}}}),u.length&&function(){for(var e=0,t=u.length;t>e;++e)u[e]()}}var re=function(e,t){if(t){var n,r,i,a=Object.keys(t);for(n=0,r=a.length;r>n;n++)i=a[n],this[i]=t[i]}else this.$attr={};this.$$element=e};re.prototype={$normalize:Xe,$addClass:function(e){e&&0<e.length&&S.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&S.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ye(e,t);n&&n.length&&S.addClass(this.$$element,n),(n=Ye(t,e))&&n.length&&S.removeClass(this.$$element,n)},$set:function(e,t,n,r){var o=Ne(this.$$element[0],e),s=Or[e],u=e;if(o?(this.$$element.prop(e,t),r=o):s&&(this[s]=t,u=s),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=ne(e,"-")),o=P(this.$$element),"a"===o&&"href"===e||"img"===o&&"src"===e)this[e]=t=A(t,"src"===e);else if("img"===o&&"srcset"===e){for(var o="",s=or(t),l=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,l=/\s/.test(s)?l:/(,)/,s=s.split(l),l=Math.floor(s.length/2),c=0;l>c;c++)var f=2*c,o=o+A(or(s[f]),!0),o=o+(" "+or(s[f+1]));s=or(s[2*c]).split(/\s/),o+=A(or(s[0]),!0),2===s.length&&(o+=" "+or(s[1])),this[e]=t=o}!1!==n&&(null===t||$(t)?this.$$element.removeAttr(r):this.$$element.attr(r,t)),(e=this.$$observers)&&a(e[u],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=le()),i=r[e]||(r[e]=[]);return i.push(t),y.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||$(n[e])||t(n[e])}),function(){M(i,t)}}};var ae=r.startSymbol(),oe=r.endSymbol(),se="{{"==ae||"}}"==oe?g:function(e){return e.replace(/\{\{/g,ae).replace(/}}/g,oe)},ue=/^ngAttr[A-Z]/,ce=/^(.+)Start$/;return O.$$addBindingInfo=x?function(e,t){var n=e.data("$binding")||[];ir(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,O.$$addBindingClass=x?function(e){T(e,"ng-binding")}:h,O.$$addScopeInfo=x?function(e,t,n,r){e.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:h,O.$$addScopeClass=x?function(e,t){T(e,t?"ng-isolate-scope":"ng-scope")}:h,O}]}function Xe(e){return de(e.replace(Br,""))}function Ye(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),a=0;e:for(;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue e;n+=(0<n.length?" ":"")+o}return n}function Je(e){e=Vn(e);var t=e.length;if(1>=t)return e;for(;t--;)8===e[t].nodeType&&Yn.call(e,t,1);return e}function Ze(){var e={},t=!1;this.register=function(t,n){oe(t,"controller"),b(t)?c(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,a){function o(e,t,n,i){if(!e||!b(e.$scope))throw r("$controller")("noscp",i,t);e.$scope[t]=n}return function(r,s,u,l){var f,d,p;if(u=!0===u,l&&w(l)&&(p=l),w(r)){if(l=r.match(Gr),!l)throw Wr("ctrlfmt",r);d=l[1],p=p||l[3],r=e.hasOwnProperty(d)?e[d]:se(s.$scope,d,!0)||(t?se(a,d,!0):n),ae(r,d,!0)}return u?(u=(ir(r)?r[r.length-1]:r).prototype,f=Object.create(u||null),p&&o(s,p,f,d||r.name),c(function(){var e=i.invoke(r,f,s,d);return e!==f&&(b(e)||E(e))&&(f=e,p&&o(s,p,f,d||r.name)),f},{instance:f,identifier:p})):(f=i.instantiate(r,s,d),p&&o(s,p,f,d||r.name),f)}}]}function Qe(){this.$get=["$window",function(e){return Vn(e.document)}]}function et(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function tt(e){return b(e)?C(e)?e.toISOString():H(e):e}function nt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return o(e,function(e,n){null===e||$(e)||(ir(e)?a(e,function(e,r){t.push(Y(n)+"="+Y(tt(e)))}):t.push(Y(n)+"="+Y(tt(e))))}),t.join("&")}}}function rt(){this.$get=function(){return function(e){function t(e,r,i){null===e||$(e)||(ir(e)?a(e,function(e,n){t(e,r+"["+(b(e)?n:"")+"]")}):b(e)&&!C(e)?o(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(Y(r)+"="+Y(tt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function it(e,t){if(w(e)){var n=e.replace(Qr,"").trim();if(n){var r=t("Content-Type");(r=r&&0===r.indexOf(Xr))||(r=(r=n.match(Jr))&&Zr[r[0]].test(n)),r&&(e=V(n))}}return e}function at(e){var t,n=le();return w(e)?a(e.split("\n"),function(e){t=e.indexOf(":");var r=Wn(or(e.substr(0,t)));e=or(e.substr(t+1)),r&&(n[r]=n[r]?n[r]+", "+e:e)}):b(e)&&a(e,function(e,t){var r=Wn(t),i=or(e);r&&(n[r]=n[r]?n[r]+", "+i:i)}),n}function ot(e){var t;return function(n){return t||(t=at(e)),n?(n=t[Wn(n)],void 0===n&&(n=null),n):t}}function st(e,t,n,r){return E(r)?r(e,t,n):(a(r,function(r){e=r(e,t,n)}),e)}function ut(){var e=this.defaults={transformResponse:[it],transformRequest:[function(e){return b(e)&&"[object File]"!==Zn.call(e)&&"[object Blob]"!==Zn.call(e)&&"[object FormData]"!==Zn.call(e)?H(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(Yr),put:L(Yr),patch:L(Yr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var i=!0;this.useLegacyPromiseExtensions=function(e){return y(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,u,l,f,d,p){function h(t){function o(e){var t=c({},e);return t.data=st(e.data,e.headers,e.status,u.transformResponse),e=e.status,e>=200&&300>e?t:d.reject(t)}function s(e,t){var n,r={};return a(e,function(e,i){E(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}if(!tr.isObject(t))throw r("$http")("badreq",t);if(!w(t.url))throw r("$http")("badreq",t.url);var u=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);u.headers=function(t){var n,r,i,a=e.headers,o=c({},t.headers),a=c({},a.common,a[Wn(t.method)]);e:for(n in a){r=Wn(n);for(i in o)if(Wn(i)===r)continue e;o[n]=a[n]}return s(o,L(t))}(t),u.method=Kn(u.method),u.paramSerializer=w(u.paramSerializer)?p.get(u.paramSerializer):u.paramSerializer;var l=[function(t){var r=t.headers,i=st(t.data,ot(r),n,t.transformRequest);return $(i)&&a(r,function(e,t){"content-type"===Wn(t)&&delete r[t]}),$(t.withCredentials)&&!$(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,i).then(o,o)},n],f=d.when(u);for(a(_,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){t=l.shift();var h=l.shift(),f=f.then(t,h)}return i?(f.success=function(e){return ae(e,"fn"),f.then(function(t){e(t.data,t.status,t.headers,u)}),f},f.error=function(e){return ae(e,"fn"),f.then(null,function(t){e(t.data,t.status,t.headers,u)}),f}):(f.success=ti("success"),f.error=ti("error")),f}function g(r,i){function a(e,n,r,i){function a(){o(n,e,r,i)}p&&(e>=200&&300>e?p.put(C,[e,n,at(r),i]):p.remove(C)),t?f.$applyAsync(a):(a(),f.$$phase||f.$apply())}function o(e,t,n,i){t=t>=-1?t:0,(t>=200&&300>t?_.resolve:_.reject)({data:e,status:t,headers:ot(n),config:r,statusText:i})}function l(e){o(e.data,e.status,L(e.headers()),e.statusText)}function c(){var e=h.pendingRequests.indexOf(r);-1!==e&&h.pendingRequests.splice(e,1)}var p,g,_=d.defer(),w=_.promise,x=r.headers,C=m(r.url,r.paramSerializer(r.params));return h.pendingRequests.push(r),w.then(c,c),!r.cache&&!e.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(p=b(r.cache)?r.cache:b(e.cache)?e.cache:v),p&&(g=p.get(C),y(g)?g&&E(g.then)?g.then(l,l):ir(g)?o(g[1],g[0],L(g[2]),g[3]):o(g,200,{},"OK"):p.put(C,w)),$(g)&&((g=on(r.url)?u()[r.xsrfCookieName||e.xsrfCookieName]:n)&&(x[r.xsrfHeaderName||e.xsrfHeaderName]=g),s(r.method,C,i,a,x,r.timeout,r.withCredentials,r.responseType)),w}function m(e,t){return 0<t.length&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var v=l("$http");e.paramSerializer=w(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var _=[];return a(o,function(e){_.unshift(w(e)?p.get(e):p.invoke(e))}),h.pendingRequests=[],function(e){a(arguments,function(e){h[e]=function(t,n){return h(c({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){a(arguments,function(e){h[e]=function(t,n,r){return h(c({},r||{},{method:e,url:t,data:n}))}})}("post","put","patch"),h.defaults=e,h}]}function lt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function ct(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return ft(e,r,e.defer,t.angular.callbacks,n[0])}]}function ft(e,t,n,r,i){function o(e,t,n){var a=i.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){a.removeEventListener("load",o,!1),a.removeEventListener("error",o,!1),i.body.removeChild(a),a=null;var s=-1,u="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),u=e.type,s="error"===e.type?404:200),n&&n(s,u)},a.addEventListener("load",o,!1),a.addEventListener("error",o,!1),i.body.appendChild(a),o}return function(i,s,u,l,c,f,d,p){function g(){b&&b(),_&&_.abort()}function m(t,r,i,a,o){y(x)&&n.cancel(x),b=_=null,t(r,i,a,o),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Wn(i)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e,r[v].called=!0};var b=o(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){m(l,e,r[v].data,"",t),r[v]=h})}else{var _=t(i,s);if(_.open(i,s,!0),a(c,function(e,t){y(e)&&_.setRequestHeader(t,e)}),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"==an(s).protocol?404:0),m(l,n,t,_.getAllResponseHeaders(),e)},i=function(){m(l,-1,null,null,"")},_.onerror=i,_.onabort=i,d&&(_.withCredentials=!0),p)try{_.responseType=p}catch(w){if("json"!==p)throw w}_.send($(u)?null:u)}if(f>0)var x=n(g,f);else f&&E(f.then)&&f.then(g)}}function dt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(e){return"\\\\\\"+e}function o(n){return n.replace(f,e).replace(d,t)}function s(a,s,f,d){function p(e){try{var t=e;e=f?i.getTrusted(f,t):i.valueOf(t);var n;if(d&&!y(e))n=e;else if(null==e)n="";else{switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=H(e)}n=e}return n}catch(o){r(ni.interr(a,o))}}d=!!d;for(var h,g,m=0,v=[],b=[],_=a.length,w=[],x=[];_>m;){if(-1==(h=a.indexOf(e,m))||-1==(g=a.indexOf(t,h+u))){m!==_&&w.push(o(a.substring(m)));break}m!==h&&w.push(o(a.substring(m,h))),m=a.substring(h+u,g),v.push(m),b.push(n(m,p)),m=g+l,x.push(w.length),w.push("")}if(f&&1<w.length&&ni.throwNoconcat(a),!s||v.length){var C=function(e){for(var t=0,n=v.length;n>t;t++){if(d&&$(e[t]))return;w[x[t]]=e[t]}return w.join("")};return c(function(e){var t=0,n=v.length,i=Array(n);try{for(;n>t;t++)i[t]=b[t](e);return C(i)}catch(o){r(ni.interr(a,o))}},{exp:a,expressions:v,$$watchDelegate:function(e,t){var n;return e.$watchGroup(b,function(r,i){var a=C(r);E(t)&&t.call(this,a,r!==i?n:a,e),n=a})}})}}var u=e.length,l=t.length,f=new RegExp(e.replace(/./g,a),"g"),d=new RegExp(t.replace(/./g,a),"g");return s.startSymbol=function(){return e},s.endSymbol=function(){return t},s}]}function pt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function i(i,o,s,u){var l=4<arguments.length,c=l?Xn.call(arguments,4):[],f=t.setInterval,d=t.clearInterval,p=0,h=y(u)&&!u,g=(h?r:n).defer(),m=g.promise;return s=y(s)?s:0,m.then(null,null,l?function(){i.apply(null,c)}:i),m.$$intervalId=f(function(){g.notify(p++),s>0&&p>=s&&(g.resolve(p),d(m.$$intervalId),delete a[m.$$intervalId]),h||e.$apply()},o),a[m.$$intervalId]=g,m}var a={};return i.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},i}]}function ht(e){e=e.split("/");for(var t=e.length;t--;)e[t]=X(e[t]);return e.join("/")}function gt(e,t){var n=an(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||ii[n.protocol]||null}function mt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=an(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=G(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function vt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function $t(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function yt(e){return e.replace(/(#.+)|#$/,"$1")}function bt(e,t,n){this.$$html5=!0,n=n||"",gt(e,this),this.$$parse=function(e){var n=vt(t,e);if(!w(n))throw ai("ipthprfx",e,t);mt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=K(this.$$search),n=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ht(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return y(a=vt(e,r))?(o=a,o=y(a=vt(n,a))?t+(vt("/",a)||a):e+o):y(a=vt(t,r))?o=t+a:t==r+"/"&&(o=t),o&&this.$$parse(o),!!o}}function _t(e,t,n){gt(e,this),this.$$parse=function(r){var i,a=vt(e,r)||vt(t,r);$(a)||"#"!==a.charAt(0)?this.$$html5?i=a:(i="",$(a)&&(e=r,this.replace())):(i=vt(n,a),$(i)&&(i=a)),mt(i,this),r=this.$$path;var a=e,o=/^\/[A-Z]:(\/.*)/;0===i.indexOf(a)&&(i=i.replace(a,"")),o.exec(i)||(r=(i=o.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var t=K(this.$$search),r=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ht(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return $t(e)==$t(t)?(this.$$parse(t),!0):!1}}function wt(e,t,n){this.$$html5=!0,_t.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return e==$t(r)?a=r:(o=vt(t,r))?a=e+n+o:t===r+"/"&&(a=t),a&&this.$$parse(a),!!a},this.$$compose=function(){var t=K(this.$$search),r=this.$$hash?"#"+X(this.$$hash):"";this.$$url=ht(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function xt(e){return function(){return this[e]}}function Ct(e,t){return function(n){return $(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Et(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return T(e)?(t.enabled=e,this):b(e)?(T(e.enabled)&&(t.enabled=e.enabled),T(e.requireBase)&&(t.requireBase=e.requireBase),T(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){function s(e,t,n){var i=l.url(),a=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(o){throw l.url(i),l.$$state=a,o}}function u(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,c;c=r.baseHref();var f,d=r.url();if(t.enabled){if(!c&&t.requireBase)throw ai("nobase");f=d.substring(0,d.indexOf("/",d.indexOf("//")+2))+(c||"/"),c=i.history?bt:wt}else f=$t(d),c=_t;var p=f.substr(0,$t(f).lastIndexOf("/")+1);l=new c(f,p,"#"+e),l.$$parseLinkUrl(d,d),l.$$state=r.state();var h=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Vn(e.target);"a"!==P(i[0]);)if(i[0]===a[0]||!(i=i.parent())[0])return;var s=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=an(s.animVal).href),h.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||!l.$$parseLinkUrl(s,u)||(e.preventDefault(),l.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),yt(l.absUrl())!=yt(d)&&r.url(l.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){$(vt(p,e))?o.location.href=e:(n.$evalAsync(function(){var r,i=l.absUrl(),a=l.$$state;e=yt(e),l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,a).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(i),l.$$state=a,s(i,!1,a)):(g=!1,u(i,a)))}),n.$$phase||n.$digest())}),n.$watch(function(){var e=yt(r.url()),t=yt(l.absUrl()),a=r.state(),o=l.$$replace,c=e!==t||l.$$html5&&i.history&&a!==l.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,a).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=a):(c&&s(t,o,a===l.$$state?null:l.$$state),u(e,a)))})),l.$$replace=!1}),l}]}function St(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||h;e=!1;try{e=!!i.apply}catch(o){}return e?function(){var e=[];return a(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function At(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw si("isecfld",t);return e}function kt(e,t){if(e+="",!w(e))throw si("iseccst",t);return e}function Tt(e,t){if(e){if(e.constructor===e)throw si("isecfn",t);if(e.window===e)throw si("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw si("isecdom",t);if(e===Object)throw si("isecobj",t)}return e}function Ot(e,t){if(e){if(e.constructor===e)throw si("isecfn",t);if(e===ui||e===li||e===ci)throw si("isecff",t)}}function Nt(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw si("isecaf",t)}function It(e,t){return"undefined"!=typeof e?e:t}function Pt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Mt(e,t){var n,r;switch(e.type){case hi.Program:n=!0,a(e.body,function(e){Mt(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case hi.Literal:e.constant=!0,e.toWatch=[];break;case hi.UnaryExpression:Mt(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case hi.BinaryExpression:Mt(e.left,t),Mt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case hi.LogicalExpression:Mt(e.left,t),Mt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case hi.ConditionalExpression:Mt(e.test,t),Mt(e.alternate,t),Mt(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case hi.Identifier:e.constant=!1,e.toWatch=[e];break;case hi.MemberExpression:Mt(e.object,t),e.computed&&Mt(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case hi.CallExpression:n=e.filter?!t(e.callee.name).$stateful:!1,r=[],a(e.arguments,function(e){Mt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&!t(e.callee.name).$stateful?r:[e];break;case hi.AssignmentExpression:Mt(e.left,t),Mt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case hi.ArrayExpression:n=!0,r=[],a(e.elements,function(e){Mt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case hi.ObjectExpression:n=!0,r=[],a(e.properties,function(e){Mt(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case hi.ThisExpression:e.constant=!1,e.toWatch=[]}}function jt(e){if(1==e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:n}}function Lt(e){return e.type===hi.Identifier||e.type===hi.MemberExpression}function Rt(e){return 1===e.body.length&&Lt(e.body[0].expression)?{type:hi.AssignmentExpression,left:e.body[0].expression,right:{type:hi.NGValueParameter},operator:"="}:void 0}function Dt(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===hi.Literal||e.body[0].expression.type===hi.ArrayExpression||e.body[0].expression.type===hi.ObjectExpression)}function Ft(e,t){this.astBuilder=e,this.$filter=t}function Ut(e,t){this.astBuilder=e,this.$filter=t}function Ht(e){return"constructor"==e}function Vt(e){return E(e.valueOf)?e.valueOf():mi.call(e)}function zt(){var e=le(),t=le();this.$get=["$filter",function(r){function i(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=Vt(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function o(e,t,r,a,o){var s,u=a.inputs;if(1===u.length){var l=i,u=u[0];return e.$watch(function(e){var t=u(e);return i(t,l)||(s=a(e,n,n,[t]),l=t&&Vt(t)),s},t,r,o)}for(var c=[],f=[],d=0,p=u.length;p>d;d++)c[d]=i,f[d]=null;return e.$watch(function(e){for(var t=!1,r=0,o=u.length;o>r;r++){var l=u[r](e);(t||(t=!i(l,c[r])))&&(f[r]=l,c[r]=l&&Vt(l))}return t&&(s=a(e,n,n,f)),s},t,r,o)}function s(e,t,n,r){var i,a;return i=e.$watch(function(e){return r(e)},function(e,n,r){a=e,E(t)&&t.apply(this,arguments),y(e)&&r.$$postDigest(function(){y(a)&&i()})},n)}function u(e,t,n,r){function i(e){var t=!0;return a(e,function(e){y(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return r(e)},function(e,n,r){s=e,E(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&o()})},n)}function l(e,t,n,r){var i;return i=e.$watch(function(e){return r(e)},function(e,n,r){E(t)&&t.apply(this,arguments),i()},n)}function c(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,n=n!==u&&n!==s?function(n,i,a,o){return a=r&&o?o[0]:e(n,i,a,o),t(a,n,i)}:function(n,r,i,a){return i=e(n,r,i,a),n=t(i,n,r),y(i)?n:i};return e.$$watchDelegate&&e.$$watchDelegate!==o?n.$$watchDelegate=e.$$watchDelegate:t.$stateful||(n.$$watchDelegate=o,r=!e.inputs,n.inputs=e.inputs?e.inputs:[e]),n}var f=ur().noUnsafeEval,d={csp:f,expensiveChecks:!1},p={csp:f,expensiveChecks:!0};return function(n,i,a){var f,g,m;switch(typeof n){case"string":m=n=n.trim();var v=a?t:e;return f=v[m],f||(":"===n.charAt(0)&&":"===n.charAt(1)&&(g=!0,n=n.substring(2)),a=a?p:d,f=new pi(a),f=new gi(f,r,a).parse(n),f.constant?f.$$watchDelegate=l:g?f.$$watchDelegate=f.literal?u:s:f.inputs&&(f.$$watchDelegate=o),v[m]=f),c(f,i);case"function":return c(n,i);default:return c(h,i)}}}]}function qt(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Wt(function(t){e.$evalAsync(t)},t)}]}function Bt(){this.$get=["$browser","$exceptionHandler",function(e,t){return Wt(function(t){e.defer(t)},t)}]}function Wt(e,t){function i(e,t,n){function r(t){return function(n){i||(i=!0,t.call(e,n))}}var i=!1;return[r(t),r(n)]}function o(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function u(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,e(function(){var e,i,a;a=r.pending,r.processScheduled=!1,r.pending=n;for(var o=0,s=a.length;s>o;++o){i=a[o][0],e=a[o][r.status];try{E(e)?i.resolve(e(r.value)):1===r.status?i.resolve(r.value):i.reject(r.value)}catch(u){i.reject(u),t(u)}}}))}function l(){this.promise=new o,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var f=r("$q",TypeError);c(o.prototype,{then:function(e,t,n){if($(e)&&$(t)&&$(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),0<this.$$state.status&&u(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return p(t,!0,e)},function(t){return p(t,!1,e)},t)}}),c(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(f("qcycle",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(b(e)||E(e))&&(n=e&&e.then),E(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,u(this.promise.$$state))}catch(a){r[1](a),t(a)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&e(function(){for(var e,i,a=0,o=r.length;o>a;a++){i=r[a][0],e=r[a][3];try{i.notify(E(e)?e(n):n)}catch(s){t(s)}}})}});var d=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},p=function(e,t,n){var r=null;try{E(n)&&(r=n())}catch(i){return d(i,!1)}return r&&E(r.then)?r.then(function(){return d(e,t)},function(e){return d(e,!1)}):d(e,t)},h=function(e,t,n,r){var i=new l;return i.resolve(e),i.promise.then(t,n,r)},g=function m(e){if(!E(e))throw f("norslvr",e);if(!(this instanceof m))return new m(e);var t=new l;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise};return g.defer=function(){return new l},g.reject=function(e){var t=new l;return t.reject(e),t.promise},g.when=h,g.resolve=h,g.all=function(e){var t=new l,n=0,r=ir(e)?[]:{};return a(e,function(e,i){n++,h(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise},g}function Gt(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=i,a}]}function Kt(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++nr,this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),o=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,l,c){function f(e){e.currentScope.$$destroyed=!0}function d(e){9===Hn&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=++nr,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function g(e){if(x.$$phase)throw n("inprog",x.$$phase);x.$$phase=e}function m(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function v(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function y(){}function _(){for(;A.length;)try{A.shift()()}catch(e){u(e)}s=null}function w(){null===s&&(s=c.defer(function(){x.$apply(_)}))}p.prototype={constructor:p,$new:function(t,n){var r;return n=n||this,t?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",f),r},$watch:function(e,t,n,r){var i=l(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var a=this,s=a.$$watchers,u={fn:t,last:y,get:i,exp:r||e,eq:!!n};return o=null,E(t)||(u.fn=h),s||(s=a.$$watchers=[]),s.unshift(u),m(this,1),function(){0<=M(s,u)&&m(a,-1),o=null}},$watchGroup:function(e,t){function n(){u=!1,l?(l=!1,t(i,i,s)):t(i,r,s)}var r=Array(e.length),i=Array(e.length),o=[],s=this,u=!1,l=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){i[0]=e,r[0]=n,t(i,e===n?i:r,a)}):(a(e,function(e,t){var a=s.$watch(e,function(e,a){i[t]=e,r[t]=a,u||(u=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){r=e;var t,n,o,s;if(!$(r)){if(b(r))if(i(r))for(a!==d&&(a=d,g=a.length=0,c++),e=r.length,g!==e&&(c++,a.length=g=e),t=0;e>t;t++)s=a[t],o=r[t],n=s!==s&&o!==o,n||s===o||(c++,a[t]=o);else{a!==p&&(a=p={},g=0,c++),e=0;for(t in r)Gn.call(r,t)&&(e++,o=r[t],s=a[t],t in a?(n=s!==s&&o!==o,n||s===o||(c++,a[t]=o)):(g++,a[t]=o,c++));if(g>e)for(t in c++,a)Gn.call(r,t)||(g--,delete a[t])}else a!==r&&(a=r,c++);return c}}n.$stateful=!0;var r,a,o,s=this,u=1<t.length,c=0,f=l(e,n),d=[],p={},h=!0,g=0;return this.$watch(f,function(){if(h?(h=!1,t(r,r,s)):t(r,o,s),u)if(b(r))if(i(r)){o=Array(r.length);for(var e=0;e<r.length;e++)o[e]=r[e]}else for(e in o={},r)Gn.call(r,e)&&(o[e]=r[e]);else o=r})},$digest:function(){var e,r,i,a,l,f,d,p,h,m=t,v=[];g("$digest"),c.$$checkUrlChange(),this===x&&null!==s&&(c.defer.cancel(s),_()),o=null;do{for(f=!1,d=this;C.length;){try{h=C.shift(),h.scope.$eval(h.expression,h.locals)}catch($){u($)}o=null}e:do{if(a=d.$$watchers)for(l=a.length;l--;)try{if(e=a[l])if((r=e.get(d))===(i=e.last)||(e.eq?R(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(e===o){f=!1;break e}}else f=!0,o=e,e.last=e.eq?j(r,null):r,e.fn(r,i===y?r:i,d),5>m&&(p=4-m,v[p]||(v[p]=[]),v[p].push({msg:E(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:i}))}catch(b){u(b)}if(!(a=d.$$watchersCount&&d.$$childHead||d!==this&&d.$$nextSibling))for(;d!==this&&!(a=d.$$nextSibling);)d=d.$parent;

}while(d=a);if((f||C.length)&&!m--)throw x.$$phase=null,n("infdig",t,v)}while(f||C.length);for(x.$$phase=null;S.length;)try{S.shift()()}catch(w){u(w)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&c.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var t in this.$$listenerCount)v(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){x.$$phase||C.length||c.defer(function(){C.length&&x.$digest()}),C.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){S.push(e)},$apply:function(e){try{g("$apply");try{return this.$eval(e)}finally{x.$$phase=null}}catch(t){u(t)}finally{try{x.$digest()}catch(n){throw u(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&A.push(t),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,v(i,1,e))}},$emit:function(e,t){var n,r,i,a=[],o=this,s=!1,l={name:e,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=D([l],arguments,1);do{for(n=o.$$listeners[e]||a,l.currentScope=o,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(f){u(f)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;o=o.$parent}while(o);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,r=this,i={name:e,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return i;for(var a,o,s=D([i],arguments,1);n=r;){for(i.currentScope=n,r=n.$$listeners[e]||[],a=0,o=r.length;o>a;a++)if(r[a])try{r[a].apply(null,s)}catch(l){u(l)}else r.splice(a,1),a--,o--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var x=new p,C=x.$$asyncQueue=[],S=x.$$postDigestQueue=[],A=x.$$applyAsyncQueue=[];return x}]}function Xt(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return i=an(n).href,""===i||i.match(a)?n:"unsafe:"+i}}}function Yt(e){if("self"===e)return e;if(w(e)){if(-1<e.indexOf("***"))throw vi("iwcard",e);return e=sr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw vi("imatcher")}function Jt(e){var t=[];return y(e)&&a(e,function(e){t.push(Yt(e))}),t}function Zt(){this.SCE_CONTEXTS=$i;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Jt(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Jt(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?on(t):!!e.exec(t.href)}function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var a=function(e){throw vi("unsafe")};n.has("$sanitize")&&(a=n.get("$sanitize"));var o=i(),s={};return s[$i.HTML]=i(o),s[$i.CSS]=i(o),s[$i.URL]=i(o),s[$i.JS]=i(o),s[$i.RESOURCE_URL]=i(s[$i.URL]),{trustAs:function(e,t){var n=s.hasOwnProperty(e)?s[e]:null;if(!n)throw vi("icontext",e,t);if(null===t||$(t)||""===t)return t;if("string"!=typeof t)throw vi("itype",e);return new n(t)},getTrusted:function(n,i){if(null===i||$(i)||""===i)return i;var o=s.hasOwnProperty(n)?s[n]:null;if(o&&i instanceof o)return i.$$unwrapTrustedValue();if(n===$i.RESOURCE_URL){var u,l,o=an(i.toString()),c=!1;for(u=0,l=e.length;l>u;u++)if(r(e[u],o)){c=!0;break}if(c)for(u=0,l=t.length;l>u;u++)if(r(t[u],o)){c=!1;break}if(c)return i;throw vi("insecurl",i.toString())}if(n===$i.HTML)return a(i);throw vi("unsafe")},valueOf:function(e){return e instanceof o?e.$$unwrapTrustedValue():e}}}]}function Qt(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Hn)throw vi("iequirks");var r=L($i);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,o=r.getTrusted,s=r.trustAs;return a($i,function(e,t){var n=Wn(t);r[de("parse_as_"+n)]=function(t){return i(e,t)},r[de("get_trusted_"+n)]=function(t){return o(e,t)},r[de("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function en(){this.$get=["$window","$document",function(e,t){var n,r={},i=d((/android (\d+)/.exec(Wn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},s=/^(Moz|webkit|ms)(?=[A-Z])/,u=o.body&&o.body.style,l=!1,c=!1;if(u){for(var f in u)if(l=s.exec(f)){n=l[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),l=!!("transition"in u||n+"Transition"in u),c=!!("animation"in u||n+"Animation"in u),!i||l&&c||(l=w(u.webkitTransition),c=w(u.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>i||a),hasEvent:function(e){if("input"===e&&11>=Hn)return!1;if($(r[e])){var t=o.createElement("div");r[e]="on"+e in t}return r[e]},csp:ur(),vendorPrefix:n,transitions:l,animations:c,android:i}}]}function tn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function i(a,o){i.totalPendingRequests++,w(a)&&e.get(a)||(a=r.getTrustedResourceUrl(a));var s=t.defaults&&t.defaults.transformResponse;return ir(s)?s=s.filter(function(e){return e!==it}):s===it&&(s=null),t.get(a,{cache:e,transformResponse:s})["finally"](function(){i.totalPendingRequests--}).then(function(t){return e.put(a,t.data),t.data},function(e){if(!o)throw qr("tpload",a,e.status,e.statusText);return n.reject(e)})}return i.totalPendingRequests=0,i}]}function nn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var r=[];return a(e,function(e){var i=tr.element(e).data("$binding");i&&a(i,function(i){n?new RegExp("(^|\\s)"+sr(t)+"(\\s|\\||$)").test(i)&&r.push(e):-1!=i.indexOf(t)&&r.push(e)})}),r},findModels:function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a=e.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+t+'"]');if(a.length)return a}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function rn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function a(a,s,u){E(a)||(u=s,s=a,a=h);var l,c=Xn.call(arguments,3),f=y(u)&&!u,d=(f?r:n).defer(),p=d.promise;return l=t.defer(function(){try{d.resolve(a.apply(null,c))}catch(t){d.reject(t),i(t)}finally{delete o[p.$$timeoutId]}f||e.$apply()},s),p.$$timeoutId=l,o[l]=d,p}var o={};return a.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},a}]}function an(e){return Hn&&(yi.setAttribute("href",e),e=yi.href),yi.setAttribute("href",e),{href:yi.href,protocol:yi.protocol?yi.protocol.replace(/:$/,""):"",host:yi.host,search:yi.search?yi.search.replace(/^\?/,""):"",hash:yi.hash?yi.hash.replace(/^#/,""):"",hostname:yi.hostname,port:yi.port,pathname:"/"===yi.pathname.charAt(0)?yi.pathname:"/"+yi.pathname}}function on(e){return e=w(e)?an(e):e,e.protocol===bi.protocol&&e.host===bi.host}function sn(){this.$get=m(e)}function un(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,a,o,s,u;if(e=n.cookie||"",e!==i)for(i=e,e=i.split("; "),r={},o=0;o<e.length;o++)a=e[o],s=a.indexOf("="),s>0&&(u=t(a.substring(0,s)),$(r[u])&&(r[u]=t(a.substring(s+1))));return r}}function ln(){this.$get=un}function cn(e){function t(n,r){if(b(n)){var i={};return a(n,function(e,n){i[n]=t(n,e)}),i}return e.factory(n+"Filter",r)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",gn),t("date",Sn),t("filter",fn),t("json",An),t("limitTo",kn),t("lowercase",Ai),t("number",mn),t("orderBy",Tn),t("uppercase",ki)}function fn(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw r("filter")("notarray",e)}var a;switch(hn(t)){case"function":break;case"boolean":case"null":case"number":case"string":a=!0;case"object":t=dn(t,n,a);break;default:return e}return Array.prototype.filter.call(e,t)}}function dn(e,t,n){var r=b(e)&&"$"in e;return!0===t?t=R:E(t)||(t=function(e,t){return $(e)?!1:null===e||null===t?e===t:b(t)||b(e)&&!v(e)?!1:(e=Wn(""+e),t=Wn(""+t),-1!==e.indexOf(t))}),function(i){return r&&!b(i)?pn(i,e.$,t,!1):pn(i,e,t,n)}}function pn(e,t,n,r,i){var a=hn(e),o=hn(t);if("string"===o&&"!"===t.charAt(0))return!pn(e,t.substring(1),n,r);if(ir(e))return e.some(function(e){return pn(e,t,n,r)});switch(a){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&pn(e[s],t,n,!0))return!0;return i?!1:pn(e,t,n,!1)}if("object"===o){for(s in t)if(i=t[s],!E(i)&&!$(i)&&(a="$"===s,!pn(a?e:e[s],i,n,a,a)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function hn(e){return null===e?"null":typeof e}function gn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return $(n)&&(n=t.CURRENCY_SYM),$(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:yn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function mn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:yn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function vn(e){var t,n,r,i,a,o=0;for(-1<(n=e.indexOf(wi))&&(e=e.replace(wi,"")),0<(r=e.search(/e/i))?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)==xi;r++);if(r==(a=e.length))t=[0],n=1;else{for(a--;e.charAt(a)==xi;)a--;for(n-=r,t=[],i=0;a>=r;r++,i++)t[i]=+e.charAt(r)}return n>_i&&(t=t.splice(0,_i-1),o=n-1,n=1),{d:t,e:o,i:n}}function $n(e,t,n,r){var i=e.d,a=i.length-e.i;if(t=$(t)?Math.min(Math.max(n,a),r):+t,n=t+e.i,r=i[n],n>0)i.splice(n);else{e.i=1,i.length=n=t+1;for(var o=0;n>o;o++)i[o]=0}for(r>=5&&i[n-1]++;t>a;a++)i.push(0);(t=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0))&&(i.unshift(t),e.i++)}function yn(e,t,n,r,i){if(!w(e)&&!x(e)||isNaN(e))return"";var a=!isFinite(e),o=!1,s=Math.abs(e)+"",u="";if(a)u="∞";else{for(o=vn(s),$n(o,i,t.minFrac,t.maxFrac),u=o.d,s=o.i,i=o.e,a=[],o=u.reduce(function(e,t){return e&&!t},!0);0>s;)u.unshift(0),s++;for(s>0?a=u.splice(s):(a=u,u=[0]),s=[],u.length>t.lgSize&&s.unshift(u.splice(-t.lgSize).join(""));u.length>t.gSize;)s.unshift(u.splice(-t.gSize).join(""));u.length&&s.unshift(u.join("")),u=s.join(n),a.length&&(u+=r+a.join("")),i&&(u+="e+"+i)}return 0>e&&!o?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function bn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e=xi+e;return n&&(e=e.substr(e.length-t)),r+e}function _n(e,t,n,r){return n=n||0,function(i){return i=i["get"+e](),(n>0||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),bn(i,t,r)}}function wn(e,t){return function(n,r){var i=n["get"+e](),a=Kn(t?"SHORT"+e:e);return r[a][i]}}function xn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Cn(e){return function(t){var n=xn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),bn(t,e)}}function En(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Sn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,a=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=d(t[9]+t[10]),i=d(t[9]+t[11])),a.call(e,d(t[1]),d(t[2])-1,d(t[3])),r=d(t[4]||0)-r,i=d(t[5]||0)-i,a=d(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,r,i,a,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,u="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=Si.test(n)?d(n):t(n)),x(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)(s=Ei.exec(r))?(l=D(l,s,1),r=l.pop()):(l.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=z(i,n.getTimezoneOffset()),n=q(n,i,!0)),a(l,function(t){o=Ci[t],u+=o?o(n,e.DATETIME_FORMATS,c):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function An(){return function(e,t){return $(t)&&(t=2),H(e,t)}}function kn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):d(t),isNaN(t)?e:(x(e)&&(e=e.toString()),ir(e)||w(e)?(n=!n||isNaN(n)?0:d(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function Tn(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=g;if(E(t))i=t;else if(w(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant)))var a=i(),i=function(e){return e[a]};return{get:i,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}return function(e,r,a){if(!i(e))return e;ir(r)||(r=[r]),0===r.length&&(r=["+"]);var o=t(r,a);return o.push({get:function(){return{}},descending:a?-1:1}),e=Array.prototype.map.call(e,function(e,t){return{value:e,predicateValues:o.map(function(r){var i=r.get(e);return r=typeof i,null===i?(r="string",i="null"):"string"===r?i=i.toLowerCase():"object"===r&&("function"==typeof i.valueOf&&(i=i.valueOf(),n(i))||v(i)&&(i=i.toString(),n(i))||(i=t)),{value:i,type:r}})}}),e.sort(function(e,t){for(var n=0,r=0,i=o.length;i>r;++r){var n=e.predicateValues[r],a=t.predicateValues[r],s=0;if(n.type===a.type?n.value!==a.value&&(s=n.value<a.value?-1:1):s=n.type<a.type?-1:1,n=s*o[r].descending)break}return n}),e=e.map(function(e){return e.value})}}function On(e){return E(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function Nn(e,t,r,i,o){var s=this,u=[];s.$error={},s.$$success={},s.$pending=n,s.$name=o(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Ni,s.$rollbackViewValue=function(){a(u,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){a(u,function(e){e.$commitViewValue()})},s.$addControl=function(e){oe(e.$name,"input"),u.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],a(s.$pending,function(t,n){s.$setValidity(n,null,e)}),a(s.$error,function(t,n){s.$setValidity(n,null,e)}),a(s.$$success,function(t,n){s.$setValidity(n,null,e)}),M(u,e),e.$$parentForm=Ni},Fn({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];r?-1===r.indexOf(n)&&r.push(n):e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(M(r,n),0===r.length&&delete e[t])},$animate:i}),s.$setDirty=function(){i.removeClass(e,da),i.addClass(e,pa),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){i.setClass(e,da,pa+" ng-submitted"),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,a(u,function(e){e.$setPristine()})},s.$setUntouched=function(){a(u,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,"ng-submitted"),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function In(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Pn(e,t,n,r,i,a){var o=Wn(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,u()})}var u=function(e){if(l&&(a.defer.cancel(l),l=null),!s){var i=t.val();e=e&&e.type,"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=or(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,e)}};if(i.hasEvent("input"))t.on("input",u);else{var l,c=function(e,t,n){l||(l=a.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function Mn(e,t){return function(n,r){var i,o;if(C(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ji.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return 0/0}}function jn(e,t,r,i){return function(a,o,s,u,l,c,f){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return y(e)&&!C(e)?r(e)||n:e}Ln(a,o,s,u),Pn(a,o,s,u,l,c);var h,g=u&&u.$options&&u.$options.timezone;if(u.$$parserName=e,u.$parsers.push(function(e){return u.$isEmpty(e)?null:t.test(e)?(e=r(e,h),g&&(e=q(e,g)),e):n}),u.$formatters.push(function(e){if(e&&!C(e))throw ga("datefmt",e);return d(e)?((h=e)&&g&&(h=q(h,g,!0)),f("date")(e,i,g)):(h=null,"")}),y(s.min)||s.ngMin){var m;u.$validators.min=function(e){return!d(e)||$(m)||r(e)>=m},s.$observe("min",function(e){m=p(e),u.$validate()})}if(y(s.max)||s.ngMax){var v;u.$validators.max=function(e){return!d(e)||$(v)||r(e)<=v},s.$observe("max",function(e){v=p(e),u.$validate()})}}}function Ln(e,t,r,i){(i.$$hasNativeValidators=b(t[0].validity))&&i.$parsers.push(function(e){var r=t.prop("validity")||{};return r.badInput&&!r.typeMismatch?n:e})}function Rn(e,t,n,r,i){if(y(r)){if(e=e(r),!e.constant)throw ga("constexpr",n,r);return e(t)}return i}function Dn(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[],r=0;e:for(;r<e.length;r++){for(var i=e[r],a=0;a<t.length;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){var t=[];return ir(e)?(a(e,function(e){t=t.concat(i(e))}),t):w(e)?e.split(" "):b(e)?(a(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(o,s,u){function l(e,t){var n=s.data("$classCounts")||le(),r=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function c(e){if(!0===t||o.$index%2===t){var a=i(e||[]);if(f){if(!R(e,f)){var c=i(f),d=r(a,c),a=r(c,a),d=l(d,1),a=l(a,-1);d&&d.length&&n.addClass(s,d),a&&a.length&&n.removeClass(s,a)}}else{var d=l(a,1);u.$addClass(d)}}f=L(e)}var f;o.$watch(u[e],c,!0),u.$observe("class",function(t){c(o.$eval(u[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(u[e]));a===t?(a=l(s,1),u.$addClass(a)):(a=l(s,-1),u.$removeClass(a))}})}}}]}function Fn(e){function t(e,t){t&&!o[e]?(l.addClass(a,e),o[e]=!0):!t&&o[e]&&(l.removeClass(a,e),o[e]=!1)}function r(e,n){e=e?"-"+ne(e,"-"):"",t(ca+e,!0===n),t(fa+e,!1===n)}var i=e.ctrl,a=e.$element,o={},s=e.set,u=e.unset,l=e.$animate;o[fa]=!(o[ca]=a.hasClass(ca)),i.$setValidity=function(e,a,o){$(a)?(i.$pending||(i.$pending={}),s(i.$pending,e,o)):(i.$pending&&u(i.$pending,e,o),Un(i.$pending)&&(i.$pending=n)),T(a)?a?(u(i.$error,e,o),s(i.$$success,e,o)):(s(i.$error,e,o),u(i.$$success,e,o)):(u(i.$error,e,o),u(i.$$success,e,o)),i.$pending?(t(ha,!0),i.$valid=i.$invalid=n,r("",null)):(t(ha,!1),i.$valid=Un(i.$error),i.$invalid=!i.$valid,r("",i.$valid)),a=i.$pending&&i.$pending[e]?n:i.$error[e]?!1:i.$$success[e]?!0:null,r(e,a),i.$$parentForm.$setValidity(e,a,i)}}function Un(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Hn,Vn,zn,qn,Bn=/^\/(.+)\/([a-z]*)$/,Wn=function(e){return w(e)?e.toLowerCase():e},Gn=Object.prototype.hasOwnProperty,Kn=function(e){return w(e)?e.toUpperCase():e},Xn=[].slice,Yn=[].splice,Jn=[].push,Zn=Object.prototype.toString,Qn=Object.getPrototypeOf,er=r("ng"),tr=e.angular||(e.angular={}),nr=0;Hn=t.documentMode,h.$inject=[],g.$inject=[];var rr,ir=Array.isArray,ar=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,or=function(e){return w(e)?e.trim():e},sr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ur=function(){if(!y(ur.rules)){var e=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(e){var n=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");ur.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{e=ur;try{new Function(""),n=!1}catch(r){n=!0}e.rules={noUnsafeEval:n,noInlineStyle:!1}}}return ur.rules},lr=function(){if(y(lr.name_))return lr.name_;var e,n,r,i,a=cr.length;for(n=0;a>n;++n)if(r=cr[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return lr.name_=i},cr=["ng-","data-ng-","ng:","x-ng-"],fr=/[A-Z]/g,dr=!1,pr=3,hr={full:"1.4.9",major:1,minor:4,dot:9,codeName:"implicit-superannuation"};ge.expando="ng339";var gr=ge.cache={},mr=1;ge._data=function(e){return this.cache[e[this.expando]]||{}};var vr=/([\:\-\_]+(.))/g,$r=/^moz([A-Z])/,yr={mouseleave:"mouseout",mouseenter:"mouseover"},br=r("jqLite"),_r=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,wr=/<|&#?\w+;/,xr=/<([\w:-]+)/,Cr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Er={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Er.optgroup=Er.option,Er.tbody=Er.tfoot=Er.colgroup=Er.caption=Er.thead,Er.th=Er.td;var Sr=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ar=ge.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),ge(e).on("load",r))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Vn(e>=0?this[e]:this[this.length+e])},length:0,push:Jn,sort:[].sort,splice:[].splice},kr={};a("multiple selected checked disabled readOnly required open".split(" "),function(e){kr[Wn(e)]=e});var Tr={};a("input select option textarea button form details".split(" "),function(e){Tr[e]=!0});var Or={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:_e,removeData:ye,hasData:function(e){for(var t in gr[e.ng339])return!0;return!1}},function(e,t){ge[t]=e}),a({data:_e,inheritedData:Ae,scope:function(e){return Vn.data(e,"$scope")||Ae(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Vn.data(e,"$isolateScope")||Vn.data(e,"$isolateScopeNoTemplate")},controller:Se,injector:function(e){return Ae(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:we,css:function(e,t,n){return t=de(t),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==pr&&2!==i&&8!==i)if(i=Wn(t),kr[i]){if(!y(r))return e[t]||(e.attributes.getNamedItem(t)||h).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(y(r))e.setAttribute(t,r);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if($(t)){var n=e.nodeType;return 1===n||n===pr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if($(t)){if(e.multiple&&"select"===P(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return $(t)?e.innerHTML:(ve(e,!0),void(e.innerHTML=t))},empty:ke},function(e,t){ge.prototype[t]=function(t,n){var r,i,a=this.length;if(e!==ke&&$(2==e.length&&e!==we&&e!==Se?t:n)){if(b(t)){for(r=0;a>r;r++)if(e===_e)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(r=e.$dv,a=$(r)?Math.min(a,1):a,i=0;a>i;i++){var o=e(this[i],t,n);r=r?r+o:o}return r}for(r=0;a>r;r++)e(this[r],t,n);return this}}),a({removeData:ye,on:function(e,t,r,i){if(y(i))throw br("onargs");if(pe(e)){i=be(e,!0);var a=i.events,o=i.handle;o||(o=i.handle=Ie(e,a)),i=0<=t.indexOf(" ")?t.split(" "):[t];for(var s=i.length,u=function(t,n,i){var s=a[t];s||(s=a[t]=[],s.specialHandlerWrapper=n,"$destroy"===t||i||e.addEventListener(t,o,!1)),s.push(r)};s--;)t=i[s],yr[t]?(u(yr[t],Me),u(t,n,!0)):u(t)}},off:$e,one:function(e,t,n){e=Vn(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;ve(e),a(new ge(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new ge(t);for(var n=0,r=t.length;r>n;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new ge(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Vn(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:Te,detach:function(e){Te(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new ge(t);for(var i=0,a=t.length;a>i;i++){var o=t[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:Ce,removeClass:xe,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var r=n;$(r)&&(r=!we(e,t)),(r?Ce:xe)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:me,triggerHandler:function(e,t,n){var r,i,o=t.type||t,s=be(e);(s=(s=s&&s.events)&&s[o])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:h,type:o,target:e},t.type&&(r=c(r,t)),t=L(s),i=n?[r].concat(n):[r],a(t,function(t){r.isImmediatePropagationStopped()||t.apply(e,i)}))}},function(e,t){ge.prototype[t]=function(t,n,r){for(var i,a=0,o=this.length;o>a;a++)$(i)?(i=e(this[a],t,n,r),y(i)&&(i=Vn(i))):Ee(i,e(this[a],t,n,r));return y(i)?i:this},ge.prototype.bind=ge.prototype.on,ge.prototype.unbind=ge.prototype.off}),Re.prototype={put:function(e,t){this[Le(e,this.nextUid)]=t},get:function(e){return this[Le(e,this.nextUid)]},remove:function(e){var t=this[e=Le(e,this.nextUid)];return delete this[e],t}};var Nr=[function(){this.$get=[function(){return Re}]}],Ir=/^[^\(]*\(\s*([^\)]*)\)/m,Pr=/,/,Mr=/^\s*(_?)(\S+?)\1\s*$/,jr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Lr=r("$injector");Fe.$$annotate=function(e,t,n){var r;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw w(n)&&n||(n=e.name||De(e)),Lr("strictdi",n);t=e.toString().replace(jr,""),t=t.match(Ir),a(t[1].split(Pr),function(e){e.replace(Mr,function(e,t,n){r.push(n)})})}e.$inject=r}}else ir(e)?(t=e.length-1,ae(e[t],"fn"),r=e.slice(0,t)):ae(e,"fn",!0);return r};var Rr=r("$animate"),Dr=function(){this.$get=function(){}},Fr=function(){var e=new Re,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(e,t,n){var r=!1;return t&&(t=w(t)?t.split(" "):ir(t)?t:[],a(t,function(t){t&&(r=!0,e[t]=n)})),r}function o(){a(t,function(t){var n=e.get(t);if(n){var r=Ve(t.attr("class")),i="",o="";a(n,function(e,t){e!==!!r[t]&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)}),a(t,function(e){i&&Ce(e,i),o&&xe(e,o)}),e.remove(t)}}),t.length=0}return{enabled:h,on:h,off:h,pin:h,push:function(a,s,u,l){return l&&l(),u=u||{},u.from&&a.css(u.from),u.to&&a.css(u.to),(u.addClass||u.removeClass)&&(s=u.addClass,l=u.removeClass,u=e.get(a)||{},s=i(u,s,!0),l=i(u,l,!1),(s||l)&&(e.put(a,u),t.push(a),1===t.length&&r.$$postDigest(o))),a=new n,a.complete(),a}}}]},Ur=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Rr("notcsel",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Rr("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r;e:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break e}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,a){return r=r&&Vn(r),i=i&&Vn(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",ze(a))},move:function(n,r,i,a){return r=r&&Vn(r),i=i&&Vn(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",ze(a))},leave:function(t,n){return e.push(t,"leave",ze(n),function(){t.remove()})},addClass:function(t,n,r){return r=ze(r),r.addClass=He(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=ze(r),r.removeClass=He(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=ze(i),i.addClass=He(i.addClass,n),i.removeClass=He(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,a){return a=ze(a),a.from=a.from?c(a.from,n):n,a.to=a.to?c(a.to,r):r,a.tempClasses=He(a.tempClasses,i||"ng-inline-animate"),e.push(t,"animate",a)}}}]}],Hr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Vr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,i){function o(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?i(e,0,!1):t(e)},this._state=0}return o.chain=function(e,t){function n(){r===e.length?t(!0):e[r](function(e){!1===e?t(!1):(r++,n())})}var r=0;n()},o.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;a(e,function(e){e.done(n)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:h,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(a(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},zr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null),o||s.complete(),
o=!0}),s}var a=r||{};a.$$prepared||(a=j(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var o,s=new n;return{start:i,end:i}}}]},qr=r("$compile");Ke.$inject=["$provide","$$sanitizeUriProvider"];var Br=/^((?:x|data)[\:\-_])/i,Wr=r("$controller"),Gr=/^(\S+)(\s+as\s+([\w$]+))?$/,Kr=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Vn&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Xr="application/json",Yr={"Content-Type":Xr+";charset=utf-8"},Jr=/^\[|^\{(?!\{)/,Zr={"[":/]$/,"{":/}$/},Qr=/^\)\]\}',?\n/,ei=r("$http"),ti=function(e){return function(){throw ei("legacy",e)}},ni=tr.$interpolateMinErr=r("$interpolate");ni.throwNoconcat=function(e){throw ni("noconcat",e)},ni.interr=function(e,t){return ni("interr",e,t.toString())};var ri=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ii={http:80,https:443,ftp:21},ai=r("$location"),oi={$$html5:!1,$$replace:!1,absUrl:xt("$$absUrl"),url:function(e){if($(e))return this.$$url;var t=ri.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:xt("$$protocol"),host:xt("$$host"),port:xt("$$port"),path:Ct("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||x(e))e=e.toString(),this.$$search=G(e);else{if(!b(e))throw ai("isrcharg");e=j(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:$(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ct("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([wt,_t,bt],function(e){e.prototype=Object.create(oi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==bt||!this.$$html5)throw ai("nostate");return this.$$state=$(t)?null:t,this}});var si=r("$parse"),ui=Function.prototype.call,li=Function.prototype.apply,ci=Function.prototype.bind,fi=le();a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){fi[e]=!0});var di={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},pi=function(e){this.options=e};pi.prototype={constructor:pi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),r=fi[t],i=fi[n];fi[e]||r||i?(e=i?n:r?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,si("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Wn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index),r=r+a;if(i)"u"===a?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=di[a]||a,i=!1;else if("\\"===a)i=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var hi=function(e,t){this.lexer=e,this.options=t};hi.Program="Program",hi.ExpressionStatement="ExpressionStatement",hi.AssignmentExpression="AssignmentExpression",hi.ConditionalExpression="ConditionalExpression",hi.LogicalExpression="LogicalExpression",hi.BinaryExpression="BinaryExpression",hi.UnaryExpression="UnaryExpression",hi.CallExpression="CallExpression",hi.MemberExpression="MemberExpression",hi.Identifier="Identifier",hi.Literal="Literal",hi.ArrayExpression="ArrayExpression",hi.Property="Property",hi.ObjectExpression="ObjectExpression",hi.ThisExpression="ThisExpression",hi.NGValueParameter="NGValueParameter",hi.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:hi.Program,body:e}},expressionStatement:function(){return{type:hi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:hi.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:hi.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:hi.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:hi.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:hi.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:hi.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:hi.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:hi.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:hi.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=j(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:hi.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:hi.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:hi.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:hi.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:hi.Identifier,name:e.text}},constant:function(){return{type:hi.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:hi.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:hi.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:hi.ObjectExpression,properties:t}},throwError:function(e,t){throw si("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw si("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw si("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){e=this.tokens[e];var a=e.text;if(a===t||a===n||a===r||a===i||!(t||n||r||i))return e}return!1},expect:function(e,t,n,r){return(e=this.peek(e,t,n,r))?(this.tokens.shift(),e):!1},constants:{"true":{type:hi.Literal,value:!0},"false":{type:hi.Literal,value:!1},"null":{type:hi.Literal,value:null},undefined:{type:hi.Literal,value:n},"this":{type:hi.ThisExpression}}},Ft.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Mt(i,r.$filter);var o,s="";return this.stage="assign",(o=Rt(i))&&(this.state.computing="assign",s=this.nextId(),this.recurse(o,s),this.return_(s),s="fn.assign="+this.generateFunction("assign","s,v,l")),o=jt(i.body),r.stage="inputs",a(o,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i),s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",s=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",s)(this.$filter,At,Tt,Ot,kt,Nt,It,Pt,e),this.state=this.stage=n,s.literal=Dt(i),s.constant=i.constant,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return a(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return a(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,o,s){var u,l,c,f,d=this;if(i=i||h,!s&&y(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,o,!0));else switch(e.type){case hi.Program:a(e.body,function(t,r){d.recurse(t.expression,n,n,function(e){l=e}),r!==e.body.length-1?d.current().body.push(l,";"):d.return_(l)});break;case hi.Literal:f=this.escape(e.value),this.assign(t,f),i(f);break;case hi.UnaryExpression:this.recurse(e.argument,n,n,function(e){l=e}),f=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,f),i(f);break;case hi.BinaryExpression:this.recurse(e.left,n,n,function(e){u=e}),this.recurse(e.right,n,n,function(e){l=e}),f="+"===e.operator?this.plus(u,l):"-"===e.operator?this.ifDefined(u,0)+e.operator+this.ifDefined(l,0):"("+u+")"+e.operator+"("+l+")",this.assign(t,f),i(f);break;case hi.LogicalExpression:t=t||this.nextId(),d.recurse(e.left,t),d.if_("&&"===e.operator?t:d.not(t),d.lazyRecurse(e.right,t)),i(t);break;case hi.ConditionalExpression:t=t||this.nextId(),d.recurse(e.test,t),d.if_(t,d.lazyRecurse(e.alternate,t),d.lazyRecurse(e.consequent,t)),i(t);break;case hi.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),At(e.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",e.name)),function(){d.if_("inputs"===d.stage||"s",function(){o&&1!==o&&d.if_(d.not(d.nonComputedMember("s",e.name)),d.lazyAssign(d.nonComputedMember("s",e.name),"{}")),d.assign(t,d.nonComputedMember("s",e.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",e.name))),(d.state.expensiveChecks||Ht(e.name))&&d.addEnsureSafeObject(t),i(t);break;case hi.MemberExpression:u=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(e.object,u,n,function(){d.if_(d.notNull(u),function(){e.computed?(l=d.nextId(),d.recurse(e.property,l),d.getStringValue(l),d.addEnsureSafeMemberName(l),o&&1!==o&&d.if_(d.not(d.computedMember(u,l)),d.lazyAssign(d.computedMember(u,l),"{}")),f=d.ensureSafeObject(d.computedMember(u,l)),d.assign(t,f),r&&(r.computed=!0,r.name=l)):(At(e.property.name),o&&1!==o&&d.if_(d.not(d.nonComputedMember(u,e.property.name)),d.lazyAssign(d.nonComputedMember(u,e.property.name),"{}")),f=d.nonComputedMember(u,e.property.name),(d.state.expensiveChecks||Ht(e.property.name))&&(f=d.ensureSafeObject(f)),d.assign(t,f),r&&(r.computed=!1,r.name=e.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!o);break;case hi.CallExpression:t=t||this.nextId(),e.filter?(l=d.filter(e.callee.name),c=[],a(e.arguments,function(e){var t=d.nextId();d.recurse(e,t),c.push(t)}),f=l+"("+c.join(",")+")",d.assign(t,f),i(t)):(l=d.nextId(),u={},c=[],d.recurse(e.callee,l,u,function(){d.if_(d.notNull(l),function(){d.addEnsureSafeFunction(l),a(e.arguments,function(e){d.recurse(e,d.nextId(),n,function(e){c.push(d.ensureSafeObject(e))})}),u.name?(d.state.expensiveChecks||d.addEnsureSafeObject(u.context),f=d.member(u.context,u.name,u.computed)+"("+c.join(",")+")"):f=l+"("+c.join(",")+")",f=d.ensureSafeObject(f),d.assign(t,f)},function(){d.assign(t,"undefined")}),i(t)}));break;case hi.AssignmentExpression:if(l=this.nextId(),u={},!Lt(e.left))throw si("lval");this.recurse(e.left,n,u,function(){d.if_(d.notNull(u.context),function(){d.recurse(e.right,l),d.addEnsureSafeObject(d.member(u.context,u.name,u.computed)),d.addEnsureSafeAssignContext(u.context),f=d.member(u.context,u.name,u.computed)+e.operator+l,d.assign(t,f),i(t||f)})},1);break;case hi.ArrayExpression:c=[],a(e.elements,function(e){d.recurse(e,d.nextId(),n,function(e){c.push(e)})}),f="["+c.join(",")+"]",this.assign(t,f),i(f);break;case hi.ObjectExpression:c=[],a(e.properties,function(e){d.recurse(e.value,d.nextId(),n,function(t){c.push(d.escape(e.key.type===hi.Identifier?e.key.name:""+e.key.value)+":"+t)})}),f="{"+c.join(",")+"}",this.assign(t,f),i(f);break;case hi.ThisExpression:this.assign(t,"s"),i("s");break;case hi.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+",text)")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,a){var o=this;return function(){o.recurse(e,t,n,r,i,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw si("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Ut.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Mt(r,n.$filter);var i,o;(i=Rt(r))&&(o=this.recurse(i)),i=jt(r.body);var s;i&&(s=[],a(i,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var u=[];return a(r.body,function(e){u.push(n.recurse(e.expression))}),i=0===r.body.length?function(){}:1===r.body.length?u[0]:function(e,t){var n;return a(u,function(r){n=r(e,t)}),n},o&&(i.assign=function(e,t,n){return o(e,n,t)}),s&&(i.inputs=s),i.literal=Dt(r),i.constant=r.constant,i},recurse:function(e,t,r){var i,o,s,u=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case hi.Literal:return this.value(e.value,t);case hi.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case hi.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case hi.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case hi.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case hi.Identifier:return At(e.name,u.expression),u.identifier(e.name,u.expensiveChecks||Ht(e.name),t,r,u.expression);case hi.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(At(e.property.name,u.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,r,u.expression):this.nonComputedMember(i,o,u.expensiveChecks,t,r,u.expression);case hi.CallExpression:return s=[],a(e.arguments,function(e){s.push(u.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,r,i,a){for(var u=[],l=0;l<s.length;++l)u.push(s[l](e,r,i,a));return e=o.apply(n,u,a),t?{context:n,name:n,value:e}:e}:function(e,n,r,i){var a,l=o(e,n,r,i);if(null!=l.value){Tt(l.context,u.expression),Ot(l.value,u.expression),a=[];for(var c=0;c<s.length;++c)a.push(Tt(s[c](e,n,r,i),u.expression));a=Tt(l.value.apply(l.context,a),u.expression)}return t?{value:a}:a};case hi.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,a){var s=i(e,n,r,a);return e=o(e,n,r,a),Tt(s.value,u.expression),Nt(s.context),s.context[s.name]=e,t?{value:e}:e};case hi.ArrayExpression:return s=[],a(e.elements,function(e){s.push(u.recurse(e))}),function(e,n,r,i){for(var a=[],o=0;o<s.length;++o)a.push(s[o](e,n,r,i));return t?{value:a}:a};case hi.ObjectExpression:return s=[],a(e.properties,function(e){s.push({key:e.key.type===hi.Identifier?e.key.name:""+e.key.value,value:u.recurse(e.value)})}),function(e,n,r,i){for(var a={},o=0;o<s.length;++o)a[s[o].key]=s[o].value(e,n,r,i);return t?{value:a}:a};case hi.ThisExpression:return function(e){return t?{value:e}:e};case hi.NGValueParameter:return function(e,n,r,i){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,a){return n=e(n,r,i,a),n=y(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,r,i,a){return n=e(n,r,i,a),n=y(n)?-n:0,t?{value:n}:n}},"unary!":function(e,t){return function(n,r,i,a){return n=!e(n,r,i,a),t?{value:n}:n}},"binary+":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o);return r=t(r,i,a,o),s=Pt(s,r),n?{value:s}:s}},"binary-":function(e,t,n){return function(r,i,a,o){var s=e(r,i,a,o);return r=t(r,i,a,o),s=(y(s)?s:0)-(y(r)?r:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)*t(r,i,a,o),n?{value:r}:r}},"binary/":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)/t(r,i,a,o),n?{value:r}:r}},"binary%":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)%t(r,i,a,o),n?{value:r}:r}},"binary===":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)===t(r,i,a,o),n?{value:r}:r}},"binary!==":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)!==t(r,i,a,o),n?{value:r}:r}},"binary==":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)==t(r,i,a,o),n?{value:r}:r}},"binary!=":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)!=t(r,i,a,o),n?{value:r}:r}},"binary<":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)<t(r,i,a,o),n?{value:r}:r}},"binary>":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)>t(r,i,a,o),n?{value:r}:r}},"binary<=":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)<=t(r,i,a,o),n?{value:r}:r}},"binary>=":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)>=t(r,i,a,o),n?{value:r}:r}},"binary&&":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)&&t(r,i,a,o),n?{value:r}:r}},"binary||":function(e,t,n){return function(r,i,a,o){return r=e(r,i,a,o)||t(r,i,a,o),n?{value:r}:r}},"ternary?:":function(e,t,n,r){return function(i,a,o,s){return i=e(i,a,o,s)?t(i,a,o,s):n(i,a,o,s),r?{value:i}:i}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,a){return function(o,s,u,l){return o=s&&e in s?s:o,i&&1!==i&&o&&!o[e]&&(o[e]={}),s=o?o[e]:n,t&&Tt(s,a),r?{context:o,name:e,value:s}:s}},computedMember:function(e,t,n,r,i){return function(a,o,s,u){var l,c,f=e(a,o,s,u);return null!=f&&(l=t(a,o,s,u),l=kt(l),At(l,i),r&&1!==r&&f&&!f[l]&&(f[l]={}),c=f[l],Tt(c,i)),n?{context:f,name:l,value:c}:c}},nonComputedMember:function(e,t,r,i,a,o){return function(s,u,l,c){return s=e(s,u,l,c),a&&1!==a&&s&&!s[t]&&(s[t]={}),u=null!=s?s[t]:n,(r||Ht(t))&&Tt(u,o),i?{context:s,name:t,value:u}:u}},inputs:function(e,t){return function(n,r,i,a){return a?a[t]:e(n,r,i)}}};var gi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new hi(this.lexer),this.astCompiler=n.csp?new Ut(this.ast,t):new Ft(this.ast,t)};gi.prototype={constructor:gi,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var mi=Object.prototype.valueOf,vi=r("$sce"),$i={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},qr=r("$compile"),yi=t.createElement("a"),bi=an(e.location.href);un.$inject=["$document"],cn.$inject=["$provide"];var _i=22,wi=".",xi="0";gn.$inject=["$locale"],mn.$inject=["$locale"];var Ci={yyyy:_n("FullYear",4),yy:_n("FullYear",2,0,!0),y:_n("FullYear",1),MMMM:wn("Month"),MMM:wn("Month",!0),MM:_n("Month",2,1),M:_n("Month",1,1),dd:_n("Date",2),d:_n("Date",1),HH:_n("Hours",2),H:_n("Hours",1),hh:_n("Hours",2,-12),h:_n("Hours",1,-12),mm:_n("Minutes",2),m:_n("Minutes",1),ss:_n("Seconds",2),s:_n("Seconds",1),sss:_n("Milliseconds",3),EEEE:wn("Day"),EEE:wn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(e>=0?"+":"")+(bn(Math[e>0?"floor":"ceil"](e/60),2)+bn(Math.abs(e%60),2))},ww:Cn(2),w:Cn(1),G:En,GG:En,GGG:En,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},Ei=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Si=/^\-?\d+$/;Sn.$inject=["$locale"];var Ai=m(Wn),ki=m(Kn);Tn.$inject=["$parse"];var Ti=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Zn.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Oi={};a(kr,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=Xe("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Oi[r]=function(){return{restrict:"A",priority:100,link:i}}}}),a(Or,function(e,t){Oi[t]=function(){return{priority:100,link:function(e,n,r){return"ngPattern"===t&&"/"==r.ngPattern.charAt(0)&&(n=r.ngPattern.match(Bn))?void r.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(r[t],function(e){r.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=Xe("ng-"+e);Oi[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===Zn.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(t){t?(i.$set(o,t),Hn&&a&&r.prop(a,i[o])):"href"===e&&i.$set(o,null)})}}}});var Ni={$addControl:h,$$renameControl:function(e,t){e.$name=t},$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h};Nn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ii=function(e){return["$timeout","$parse",function(t,r){function i(e){return""===e?r('this[""]').assign:r(e).assign||h}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Nn,compile:function(r,a){r.addClass(da).addClass(ca);var o=a.name?"name":e&&a.ngForm?"ngForm":!1;return{pre:function(e,r,a,s){var u=s[0];if(!("action"in a)){var l=function(t){e.$apply(function(){u.$commitViewValue(),u.$setSubmitted()}),t.preventDefault()};r[0].addEventListener("submit",l,!1),r.on("$destroy",function(){t(function(){r[0].removeEventListener("submit",l,!1)},0,!1)})}(s[1]||u.$$parentForm).$addControl(u);var f=o?i(u.$name):h;o&&(f(e,u),a.$observe(o,function(t){u.$name!==t&&(f(e,n),u.$$parentForm.$$renameControl(u,t),(f=i(u.$name))(e,u))})),r.on("$destroy",function(){u.$$parentForm.$removeControl(u),f(e,n),c(u,Ni)})}}}}}]},Pi=Ii(),Mi=Ii(!0),ji=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Li=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ri=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Di=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Fi=/^(\d{4})-(\d{2})-(\d{2})$/,Ui=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Hi=/^(\d{4})-W(\d\d)$/,Vi=/^(\d{4})-(\d\d)$/,zi=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,qi={text:function(e,t,n,r,i,a){Pn(e,t,n,r,i,a),In(r)},date:jn("date",Fi,Mn(Fi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":jn("datetimelocal",Ui,Mn(Ui,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:jn("time",zi,Mn(zi,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:jn("week",Hi,function(e,t){if(C(e))return e;if(w(e)){Hi.lastIndex=0;var n=Hi.exec(e);if(n){var r=+n[1],i=+n[2],a=n=0,o=0,s=0,u=xn(r),i=7*(i-1);return t&&(n=t.getHours(),a=t.getMinutes(),o=t.getSeconds(),s=t.getMilliseconds()),new Date(r,0,u.getDate()+i,n,a,o,s)}}return 0/0},"yyyy-Www"),month:jn("month",Vi,Mn(Vi,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,r,i,a,o){if(Ln(e,t,r,i),Pn(e,t,r,i,a,o),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Di.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!x(e))throw ga("numfmt",e);e=e.toString()}return e}),y(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||$(s)||e>=s},r.$observe("min",function(e){y(e)&&!x(e)&&(e=parseFloat(e,10)),s=x(e)&&!isNaN(e)?e:n,i.$validate()})}if(y(r.max)||r.ngMax){var u;i.$validators.max=function(e){return i.$isEmpty(e)||$(u)||u>=e},r.$observe("max",function(e){y(e)&&!x(e)&&(e=parseFloat(e,10)),u=x(e)&&!isNaN(e)?e:n,i.$validate()})}},url:function(e,t,n,r,i,a){Pn(e,t,n,r,i,a),In(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Li.test(n)}},email:function(e,t,n,r,i,a){Pn(e,t,n,r,i,a),In(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ri.test(n)}},radio:function(e,t,n,r){$(n.name)&&t.attr("name",++nr),t.on("click",function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)}),r.$render=function(){t[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r,i,a,o,s){var u=Rn(s,e,"ngTrueValue",n.ngTrueValue,!0),l=Rn(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){r.$setViewValue(t[0].checked,e&&e.type)}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return!1===e},r.$formatters.push(function(e){return R(e,u)}),r.$parsers.push(function(e){return e?u:l})},hidden:h,button:h,submit:h,reset:h,file:h},Bi=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){s[0]&&(qi[Wn(o.type)]||qi.text)(i,a,o,s[0],t,e,n,r)}}}}],Wi=/^(true|false|\d+)$/,Gi=function(){return{restrict:"A",priority:100,compile:function(e,t){return Wi.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ki=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=$(e)?"":e})}}}}],Xi=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){n=e(r.attr(i.$attr.ngBindTemplate)),t.$$addBindingInfo(r,n.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=$(e)?"":e})}}}}],Yi=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var a=t(i.ngBindHtml),o=t(i.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(o,function(){r.html(e.getTrustedHtml(a(t))||"")})}}}}],Ji=m({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Zi=Dn("",!0),Qi=Dn("Odd",0),ea=Dn("Even",1),ta=On({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),na=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ra={},ia={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Xe("ng-"+e);ra[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[t],null,!0);return function(t,n){
n.on(e,function(n){var i=function(){o(t,{$event:n})};ia[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var aa=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,u,l;n.$watch(i.ngIf,function(n){n?u||o(function(n,a){u=a,n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=ue(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],oa=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:tr.noop,compile:function(r,i){var a=i.ngInclude||i.src,o=i.onload||"",s=i.autoscroll;return function(r,i,u,l,c){var f,d,p,h=0,g=function(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).then(function(){d=null}),d=p,p=null)};r.$watch(a,function(a){var u=function(){!y(s)||s&&!r.$eval(s)||t()},d=++h;a?(e(a,!0).then(function(e){if(!r.$$destroyed&&d===h){var t=r.$new();l.template=e,e=c(t,function(e){g(),n.enter(e,null,i).then(u)}),f=t,p=e,f.$emit("$includeContentLoaded",a),r.$eval(o)}},function(){r.$$destroyed||d!==h||(g(),r.$emit("$includeContentError",a))}),r.$emit("$includeContentRequested",a)):(g(),l.template=null)})}}}}],sa=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){/SVG/.test(r[0].toString())?(r.empty(),e(he(a.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(a.template),e(r.contents())(n))}}}],ua=On({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),la=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var o=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,u=s?or(o):o;i.$parsers.push(function(e){if(!$(e)){var t=[];return e&&a(e.split(u),function(e){e&&t.push(s?or(e):e)}),t}}),i.$formatters.push(function(e){return ir(e)?e.join(o):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ca="ng-valid",fa="ng-invalid",da="ng-pristine",pa="ng-dirty",ha="ng-pending",ga=r("ngModel"),ma=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,o,s,u,l,c,f){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(e),this.$$parentForm=Ni;var d,p=o(r.ngModel),g=p.assign,m=p,v=g,b=null,_=this;this.$$setOptions=function(e){if((_.$options=e)&&e.getterSetter){var t=o(r.ngModel+"()"),n=o(r.ngModel+"($$$p)");m=function(e){var n=p(e);return E(n)&&(n=t(e)),n},v=function(e,t){E(p(e))?n(e,{$$$p:_.$modelValue}):g(e,_.$modelValue)}}else if(!p.assign)throw ga("nonassign",r.ngModel,B(i))},this.$render=h,this.$isEmpty=function(e){return $(e)||""===e||null===e||e!==e};var w=0;Fn({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,s.removeClass(i,pa),s.addClass(i,da)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,s.removeClass(i,da),s.addClass(i,pa),_.$$parentForm.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,s.setClass(i,"ng-untouched","ng-touched")},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,s.setClass(i,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){u.cancel(b),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!x(_.$modelValue)||!isNaN(_.$modelValue)){var e=_.$$rawModelValue,t=_.$valid,r=_.$modelValue,i=_.$options&&_.$options.allowInvalid;_.$$runValidators(e,_.$$lastCommittedViewValue,function(a){i||t===a||(_.$modelValue=a?e:n,_.$modelValue!==r&&_.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var n=!0;return a(_.$validators,function(r,i){var a=r(e,t);n=n&&a,s(i,a)}),n?!0:(a(_.$asyncValidators,function(e,t){s(t,null)}),!1)}function o(){var r=[],i=!0;a(_.$asyncValidators,function(a,o){var u=a(e,t);if(!u||!E(u.then))throw ga("nopromise",u);s(o,n),r.push(u.then(function(){s(o,!0)},function(e){i=!1,s(o,!1)}))}),r.length?c.all(r).then(function(){u(i)},h):u(!0)}function s(e,t){l===w&&_.$setValidity(e,t)}function u(e){l===w&&r(e)}w++;var l=w;(function(){var e=_.$$parserName||"parse";return $(d)?(s(e,null),!0):(d||(a(_.$validators,function(e,t){s(t,null)}),a(_.$asyncValidators,function(e,t){s(t,null)})),s(e,d),d)})()&&i()?o():u(!1)},this.$commitViewValue=function(){var e=_.$viewValue;u.cancel(b),(_.$$lastCommittedViewValue!==e||""===e&&_.$$hasNativeValidators)&&(_.$$lastCommittedViewValue=e,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=_.$$lastCommittedViewValue;if(d=$(t)?n:!0)for(var r=0;r<_.$parsers.length;r++)if(t=_.$parsers[r](t),$(t)){d=!1;break}x(_.$modelValue)&&isNaN(_.$modelValue)&&(_.$modelValue=m(e));var i=_.$modelValue,a=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=t,a&&(_.$modelValue=t,_.$modelValue!==i&&_.$$writeModelToScope()),_.$$runValidators(t,_.$$lastCommittedViewValue,function(e){a||(_.$modelValue=e?t:n,_.$modelValue!==i&&_.$$writeModelToScope())})},this.$$writeModelToScope=function(){v(e,_.$modelValue),a(_.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){_.$viewValue=e,_.$options&&!_.$options.updateOnDefault||_.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n=0,r=_.$options;r&&y(r.debounce)&&(r=r.debounce,x(r)?n=r:x(r[t])?n=r[t]:x(r["default"])&&(n=r["default"])),u.cancel(b),n?b=u(function(){_.$commitViewValue()},n):l.$$phase?_.$commitViewValue():e.$apply(function(){_.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==_.$modelValue&&(_.$modelValue===_.$modelValue||t===t)){_.$modelValue=_.$$rawModelValue=t,d=n;for(var r=_.$formatters,i=r.length,a=t;i--;)a=r[i](a);_.$viewValue!==a&&(_.$viewValue=_.$$lastCommittedViewValue=a,_.$render(),_.$$runValidators(t,a,h))}return t})}],va=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ma,priority:1,compile:function(t){return t.addClass(da).addClass("ng-untouched").addClass(ca),{pre:function(e,t,n,r){var i=r[0];t=r[1]||i.$$parentForm,i.$$setOptions(r[2]&&r[2].$options),t.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var a=i[0];a.$options&&a.$options.updateOn&&n.on(a.$options.updateOn,function(e){a.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){a.$touched||(e.$$phase?t.$evalAsync(a.$setTouched):t.$apply(a.$setTouched))})}}}}}],$a=/(\s+|^)default(\s+|$)/,ya=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=j(e.$eval(t.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=or(this.$options.updateOn.replace($a,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ba=On({terminal:!0,priority:1e3}),_a=r("ngOptions"),wa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,xa=["$compile","$parse",function(e,n){function r(e,t,r){function a(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function o(e){var t;if(!l&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(wa);if(!s)throw _a("iexp",e,B(t));var u=s[5]||s[7],l=s[6];e=/ as /.test(s[0])&&s[1];var c=s[9];t=n(s[2]?s[1]:u);var f=e&&n(e)||t,d=c&&n(c),p=c?function(e,t){return d(r,t)}:function(e){return Le(e)},h=function(e,t){return p(e,b(e,t))},g=n(s[2]||s[1]),m=n(s[3]||""),v=n(s[4]||""),$=n(s[8]),y={},b=l?function(e,t){return y[l]=t,y[u]=e,y}:function(e){return y[u]=e,y};return{trackBy:c,getTrackByValue:h,getWatchables:n($,function(e){var t=[];e=e||[];for(var n=o(e),i=n.length,a=0;i>a;a++){var u=e===n?a:n[a],l=b(e[u],u),u=p(e[u],l);t.push(u),(s[2]||s[1])&&(u=g(r,l),t.push(u)),s[4]&&(l=v(r,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},n=$(r)||[],i=o(n),s=i.length,u=0;s>u;u++){var l=n===i?u:i[u],d=b(n[l],l),y=f(r,d),l=p(y,d),_=g(r,d),w=m(r,d),d=v(r,d),y=new a(l,y,_,w,d);e.push(y),t[l]=y}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[h(e)]},getViewValueFromOption:function(e){return c?tr.copy(e.viewValue):e.viewValue}}}}}var o=t.createElement("option"),s=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=h},post:function(t,n,i,u){function l(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function c(e,t,n,r){return t&&Wn(t.nodeName)===n?n=t:(n=r.cloneNode(!1),t?e.insertBefore(n,t):e.appendChild(n)),n}function f(e){for(var t;e;)t=e.nextSibling,Te(e),e=t}function d(e){var t=g&&g[0],n=_&&_[0];if(t||n)for(;e&&(e===t||e===n||8===e.nodeType||"option"===P(e)&&""===e.value);)e=e.nextSibling;return e}function p(){var e=w&&m.readValue();w=x.getOptions();var t={},r=n[0].firstChild;if(b&&n.prepend(g),r=d(r),w.items.forEach(function(e){var i,a;e.group?(i=t[e.group],i||(i=c(n[0],r,"optgroup",s),r=i.nextSibling,i.label=e.group,i=t[e.group]={groupElement:i,currentOptionElement:i.firstChild}),a=c(i.groupElement,i.currentOptionElement,"option",o),l(e,a),i.currentOptionElement=a.nextSibling):(a=c(n[0],r,"option",o),l(e,a),r=a.nextSibling)}),Object.keys(t).forEach(function(e){f(t[e].currentOptionElement)}),f(r),h.$render(),!h.$isEmpty(e)){var i=m.readValue();(x.trackBy||v?R(e,i):e===i)||(h.$setViewValue(i),h.$render())}}var h=u[1];if(h){var g,m=u[0],v=i.multiple;u=0;for(var $=n.children(),y=$.length;y>u;u++)if(""===$[u].value){g=$.eq(u);break}var b=!!g,_=Vn(o.cloneNode(!1));_.val("?");var w,x=r(i.ngOptions,n,t);v?(h.$isEmpty=function(e){return!e||0===e.length},m.writeValue=function(e){w.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){(e=w.getOptionFromViewValue(e))&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var e=n.val()||[],t=[];return a(e,function(e){(e=w.selectValueMap[e])&&!e.disabled&&t.push(w.getViewValueFromOption(e))}),t},x.trackBy&&t.$watchCollection(function(){return ir(h.$viewValue)?h.$viewValue.map(function(e){return x.getTrackByValue(e)}):void 0},function(){h.$render()})):(m.writeValue=function(e){var t=w.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(_.remove(),b||g.remove(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||b?(_.remove(),b||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)):(b||g.remove(),n.prepend(_),n.val("?"),_.prop("selected",!0),_.attr("selected",!0))},m.readValue=function(){var e=w.selectValueMap[n.val()];return e&&!e.disabled?(b||g.remove(),_.remove(),w.getViewValueFromOption(e)):null},x.trackBy&&t.$watch(function(){return x.getTrackByValue(h.$viewValue)},function(){h.$render()})),b?(g.remove(),e(g)(t),g.removeClass("ng-scope")):g=Vn(o.cloneNode(!1)),p(),t.$watchCollection(x.getWatchables,p)}}}}}],Ca=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(o,s,u){function l(e){s.text(e||"")}var c,f=u.count,d=u.$attr.when&&s.attr(u.$attr.when),p=u.offset||0,g=o.$eval(d)||{},m={},v=t.startSymbol(),y=t.endSymbol(),b=v+f+"-"+p+y,_=tr.noop;a(u,function(e,t){var n=i.exec(t);n&&(n=(n[1]?"-":"")+Wn(n[2]),g[n]=s.attr(u.$attr[t]))}),a(g,function(e,n){m[n]=t(e.replace(r,b))}),o.$watch(f,function(t){var r=parseFloat(t),i=isNaN(r);i||r in g||(r=e.pluralCat(r-p)),r===c||i&&x(c)&&isNaN(c)||(_(),i=m[r],$(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+d),_=h,l()):_=o.$watch(i,l),c=r)})}}}],Ea=["$parse","$animate",function(e,o){var s=r("ngRepeat"),u=function(e,t,n,r,i,a,o){e[n]=r,i&&(e[i]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,l){var c=l.ngRepeat,f=t.createComment(" end ngRepeat: "+c+" "),d=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s("iexp",c);var p=d[1],h=d[2],g=d[3],m=d[4],d=p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!d)throw s("iidexp",p);var v=d[3]||d[1],$=d[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw s("badident",g);var y,b,_,w,x={$id:Le};return m?y=e(m):(_=function(e,t){return Le(t)},w=function(e){return e}),function(e,t,r,l,d){y&&(b=function(t,n,r){return $&&(x[$]=t),x[v]=n,x.$index=r,y(e,x)});var p=le();e.$watchCollection(h,function(r){var l,h,m,y,x,C,E,S,A,k,T=t[0],O=le();if(g&&(e[g]=r),i(r))S=r,h=b||_;else for(k in h=b||w,S=[],r)Gn.call(r,k)&&"$"!==k.charAt(0)&&S.push(k);for(y=S.length,k=Array(y),l=0;y>l;l++)if(x=r===S?l:S[l],C=r[x],E=h(x,C,l),p[E])A=p[E],delete p[E],O[E]=A,k[l]=A;else{if(O[E])throw a(k,function(e){e&&e.scope&&(p[e.id]=e)}),s("dupes",c,E,C);k[l]={id:E,scope:n,clone:n},O[E]=!0}for(m in p){if(A=p[m],E=ue(A.clone),o.leave(E),E[0].parentNode)for(l=0,h=E.length;h>l;l++)E[l].$$NG_REMOVED=!0;A.scope.$destroy()}for(l=0;y>l;l++)if(x=r===S?l:S[l],C=r[x],A=k[l],A.scope){m=T;do m=m.nextSibling;while(m&&m.$$NG_REMOVED);A.clone[0]!=m&&o.move(ue(A.clone),null,Vn(T)),T=A.clone[A.clone.length-1],u(A.scope,l,v,C,$,x,y)}else d(function(e,t){A.scope=t;var n=f.cloneNode(!1);e[e.length++]=n,o.enter(e,null,Vn(T)),T=n,A.clone=e,O[A.id]=A,u(A.scope,l,v,C,$,x,y)});p=O})}}}}],Sa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Aa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ka=On(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ta=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=[],u=[],l=[],c=[],f=function(e,t){return function(){e.splice(t,1)}};n.$watch(i.ngSwitch||i.on,function(n){var r,i;for(r=0,i=l.length;i>r;++r)e.cancel(l[r]);for(r=l.length=0,i=c.length;i>r;++r){var d=ue(u[r].clone);c[r].$destroy(),(l[r]=e.leave(d)).then(f(l,r))}u.length=0,c.length=0,(s=o.cases["!"+n]||o.cases["?"])&&a(s,function(n){n.transclude(function(r,i){c.push(i);var a=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: "),u.push({clone:r}),e.enter(r,a.parent(),a)})})})}}}],Oa=On({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Na=On({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ia=On({restrict:"EAC",link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan",B(t));a(function(e){t.empty(),t.append(e)})}}),Pa=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Ma={$setViewValue:h,$render:h},ja=["$element","$scope","$attrs",function(e,r,i){var a=this,o=new Re;a.ngModelCtrl=Ma,a.unknownOption=Vn(t.createElement("option")),a.renderUnknownOption=function(t){t="? "+Le(t)+" ?",a.unknownOption.val(t),e.prepend(a.unknownOption),e.val(t)},r.$on("$destroy",function(){a.renderUnknownOption=h}),a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.readValue=function(){return a.removeUnknownOption(),e.val()},a.writeValue=function(t){a.hasOption(t)?(a.removeUnknownOption(),e.val(t),""===t&&a.emptyOption.prop("selected",!0)):null==t&&a.emptyOption?(a.removeUnknownOption(),e.val("")):a.renderUnknownOption(t)},a.addOption=function(e,t){oe(e,'"option value"'),""===e&&(a.emptyOption=t);var n=o.get(e)||0;o.put(e,n+1),a.ngModelCtrl.$render(),t[0].hasAttribute("selected")&&(t[0].selected=!0)},a.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.remove(e),""===e&&(a.emptyOption=n)):o.put(e,t-1))},a.hasOption=function(e){return!!o.get(e)},a.registerOption=function(e,t,n,r,i){if(r){var o;n.$observe("value",function(e){y(o)&&a.removeOption(o),o=e,a.addOption(e,t)})}else i?e.$watch(i,function(e,r){n.$set("value",e),r!==e&&a.removeOption(r),a.addOption(e,t)}):a.addOption(n.value,t);t.on("$destroy",function(){a.removeOption(n.value),a.ngModelCtrl.$render()})}}],La=function(){return{restrict:"E",require:["select","?ngModel"],controller:ja,priority:1,link:{pre:function(e,t,n,r){var i=r[1];if(i){var o=r[0];if(o.ngModelCtrl=i,t.on("change",function(){e.$apply(function(){i.$setViewValue(o.readValue())})}),n.multiple){o.readValue=function(){var e=[];return a(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(e){var n=new Re(e);a(t.find("option"),function(e){e.selected=y(n.get(e.value))})};var s,u=0/0;e.$watch(function(){u!==i.$viewValue||R(s,i.$viewValue)||(s=L(i.$viewValue),i.$render()),u=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}},post:function(e,t,n,r){var i=r[1];if(i){var a=r[0];i.$render=function(){a.writeValue(i.$viewValue)}}}}}},Ra=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(y(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var a=t.parent();(a=a.data("$selectController")||a.parent().data("$selectController"))&&a.registerOption(e,t,n,r,i)}}}}],Da=m({restrict:"E",terminal:!1}),Fa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Ua=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,a){if(a){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(w(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp",s,e,B(t));o=e||n,a.$validate()}),a.$validators.pattern=function(e,t){return a.$isEmpty(t)||$(o)||o.test(t)}}}}},Ha=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){e=d(e),i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},Va=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=d(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(re(),fe(tr),tr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(e,r){var i=0|e,a=r;return n===a&&(a=Math.min(t(e),3)),Math.pow(10,a),1==i&&0==a?"one":"other"}})}]),Vn(t).ready(function(){Z(t,Q)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t,n){"use strict";function r(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,a,o,s,u){function l(){p&&(r.cancel(p),p=null),f&&(f.$destroy(),f=null),d&&(p=r.leave(d),p.then(function(){p=null}),d=null)}function c(){var o=e.current&&e.current.locals;if(t.isDefined(o&&o.$template)){var o=i.$new(),s=e.current;d=u(o,function(e){r.enter(e,null,d||a).then(function(){!t.isDefined(h)||h&&!i.$eval(h)||n()}),l()}),f=s.scope=o,f.$emit("$viewContentLoaded"),f.$eval(g)}else l()}var f,d,p,h=o.autoscroll,g=o.onload||"";i.$on("$routeChangeSuccess",c),c()}}}function i(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var a=n.current,o=a.locals;i.html(o.$template);var s=e(i.contents());a.controller&&(o.$scope=r,o=t(a.controller,o),a.controllerAs&&(r[a.controllerAs]=o),i.data("$ngControllerController",o),i.children().data("$ngControllerController",o)),s(r)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){return e="?"===r?r:null,r="*"===r?r:null,i.push({name:n,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(r&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){var a=t.copy(i);if(t.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),t.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(a,e&&n(e,a)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[o]=t.extend({redirectTo:e},n(o,a))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,s,u,l,c){function f(e){var r=$.current;(m=(g=p())&&r&&g.$$route===r.$$route&&t.equals(g.pathParams,r.pathParams)&&!g.reloadOnSearch&&!v)||!r&&!g||n.$broadcast("$routeChangeStart",g,r).defaultPrevented&&e&&e.preventDefault()}function d(){var e=$.current,r=g;m?(e.params=r.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(r||e)&&(v=!1,($.current=r)&&r.redirectTo&&(t.isString(r.redirectTo)?i.path(h(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),s.when(r).then(function(){if(r){var e,n,i=t.extend({},r.resolve);return t.forEach(i,function(e,n){i[n]=t.isString(e)?u.get(e):u.invoke(e,null,null,n)}),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),t.isDefined(n)&&(r.loadedTemplateUrl=c.valueOf(n),e=l(n))),t.isDefined(e)&&(i.$template=e),s.all(i)}}).then(function(i){r==$.current&&(r&&(r.locals=i,t.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==$.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function p(){var n,a;return t.forEach(r,function(r,o){var s;if(s=!a){var u=i.path();s=r.keys;var l={};if(r.regexp)if(u=r.regexp.exec(u)){for(var c=1,f=u.length;f>c;++c){var d=s[c-1],p=u[c];d&&p&&(l[d.name]=p)}s=l}else s=null;else s=null;s=n=s}s&&(a=e(r,{params:t.extend({},i.search(),n),pathParams:n}),a.$$route=r)}),a||r[null]&&e(r[null],{params:{},pathParams:{}})}function h(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),a=i[1];r.push(n[a]),r.push(i[2]||""),delete n[a]}}),r.join("")}var g,m,v=!1,$={routes:r,reload:function(){v=!0,n.$evalAsync(function(){f(),d()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw a("norout");e=t.extend({},this.current.params,e),i.path(h(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",f),n.$on("$locationChangeSuccess",d),$}]});var a=t.$$minErr("ngRoute");e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",r),e.directive("ngView",i),r.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,n){"use strict";function r(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var r in e)!e.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=e[r]);return n}var i=t.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=/^https?:\/\/[^\/]*/,o=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q",function(s,u,l){function c(e,t){this.template=e,this.defaults=h({},o.defaults,t),this.urlParams={}}function f(e,v,$,y){function b(e,r){var o={};return r=h({},v,r),p(r,function(r,s){m(r)&&(r=r());var u;if(r&&r.charAt&&"@"==r.charAt(0)){u=e;var l=r.substr(1);if(null==l||""===l||"hasOwnProperty"===l||!a.test("."+l))throw i("badmember",l);for(var l=l.split("."),c=0,f=l.length;f>c&&t.isDefined(u);c++){var d=l[c];u=null!==u?u[d]:n}}else u=r;o[s]=u}),o}function _(e){return e.resource}function w(e){r(e||{},this)}var x=new c(e,y);return $=h({},o.defaults.actions,$),w.prototype.toJSON=function(){var e=h({},this);return delete e.$promise,delete e.$resolved,e},p($,function(e,a){var o=/^(POST|PUT|PATCH)$/i.test(e.method);w[a]=function(c,f,v,$){var y,C,E,S={};switch(arguments.length){case 4:E=$,C=v;case 3:case 2:if(!m(f)){S=c,y=f,C=v;break}if(m(c)){C=c,E=f;break}C=f,E=v;case 1:m(c)?C=c:o?y=c:S=c;break;case 0:break;default:throw i("badargs",arguments.length)}var A=this instanceof w,k=A?y:e.isArray?[]:new w(y),T={},O=e.interceptor&&e.interceptor.response||_,N=e.interceptor&&e.interceptor.responseError||n;return p(e,function(e,n){switch(n){default:T[n]=g(e);break;case"params":case"isArray":case"interceptor":break;case"timeout":e&&!t.isNumber(e)&&u.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests.\n  If you need support for cancellable $resource actions, you should upgrade to version 1.5 or higher.")}}),o&&(T.data=y),x.setUrlParams(T,h({},b(y,e.params||{}),S),e.url),S=s(T).then(function(n){var o=n.data,s=k.$promise;if(o){if(t.isArray(o)!==!!e.isArray)throw i("badcfg",a,e.isArray?"array":"object",t.isArray(o)?"array":"object",T.method,T.url);e.isArray?(k.length=0,p(o,function(e){k.push("object"==typeof e?new w(e):e)})):(r(o,k),k.$promise=s)}return k.$resolved=!0,n.resource=k,n},function(e){return k.$resolved=!0,(E||d)(e),l.reject(e)}),S=S.then(function(e){var t=O(e);return(C||d)(t,e.headers),t},N),A?S:(k.$promise=S,k.$resolved=!1,k)},w.prototype["$"+a]=function(e,t,n){return m(e)&&(n=t,t=e,e={}),e=w[a].call(this,e,this,t,n),e.$promise||e}}),w.bind=function(t){return f(e,h({},v,t),$)},w}var d=t.noop,p=t.forEach,h=t.extend,g=t.copy,m=t.isFunction;return c.prototype={setUrlParams:function(n,r,a){var o,s,u=this,l=a||u.template,c="",f=u.urlParams={};p(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw i("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(f[e]=!0)}),l=l.replace(/\\:/g,":"),l=l.replace(e,function(e){return c=e,""}),r=r||{},p(u.urlParams,function(e,n){o=r.hasOwnProperty(n)?r[n]:u.defaults[n],t.isDefined(o)&&null!==o?(s=encodeURIComponent(o).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),l=l.replace(new RegExp(":"+n+"(\\W|$)","g"),function(e,t){return s+t})):l=l.replace(new RegExp("(/?):"+n+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),u.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),n.url=c+l.replace(/\/\\\./,"/."),p(r,function(e,t){u.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},f}]})}(window,window.angular),function(e,t,n){"use strict";function r(e){var n=[];return u(n,t.noop).chars(e),n.join("")}function i(e,n){var r,i={},a=e.split(",");for(r=0;r<a.length;r++)i[n?t.lowercase(a[r]):a[r]]=!0;return i}function a(e,t){null===e||e===n?e="":"string"!=typeof e&&(e=""+e),c.innerHTML=e;var r=5;do{if(0===r)throw f("uinput");r--,11>=document.documentMode&&l(c),e=c.innerHTML,c.innerHTML=e}while(e!==c.innerHTML);for(r=c.firstChild;r;){switch(r.nodeType){case 1:t.start(r.nodeName.toLowerCase(),o(r.attributes));break;case 3:t.chars(r.textContent)}var i;if(!(i=r.firstChild)&&(1==r.nodeType&&t.end(r.nodeName.toLowerCase()),i=r.nextSibling,!i))for(;null==i&&(r=r.parentNode,r!==c);)i=r.nextSibling,1==r.nodeType&&t.end(r.nodeName.toLowerCase());r=i}for(;r=c.firstChild;)c.removeChild(r)}function o(e){for(var t={},n=0,r=e.length;r>n;n++){var i=e[n];t[i.name]=i.value}return t}function s(e){return e.replace(/&/g,"&amp;").replace(d,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(p,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,a){e=t.lowercase(e),!r&&y[e]&&(r=e),r||!0!==b[e]||(i("<"),i(e),t.forEach(a,function(r,a){var o=t.lowercase(a),u="img"===e&&"src"===o||"background"===o;!0!==w[o]||!0===_[o]&&!n(r,u)||(i(" "),i(a),i('="'),i(s(r)),i('"'))}),i(">"))},end:function(e){e=t.lowercase(e),r||!0!==b[e]||!0===h[e]||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(s(e))}}}function l(e){if(e.nodeType===Node.ELEMENT_NODE)for(var t=e.attributes,n=0,r=t.length;r>n;n++){var i=t[n],a=i.name.toLowerCase();("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&(e.removeAttributeNode(i),n--,r--)}(t=e.firstChild)&&l(t),(t=e.nextSibling)&&l(t)}var c,f=t.$$minErr("$sanitize"),d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^\#-~ |!])/g,h=i("area,br,col,hr,img,wbr"),g=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),m=i("rp,rt"),v=t.extend({},m,g),g=t.extend({},g,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),m=t.extend({},m,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),$=i("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),y=i("script,style"),b=t.extend({},h,g,m,v),_=i("background,cite,href,longdesc,src,xlink:href"),v=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),m=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),w=t.extend({},_,m,v);

!function(e){if(!e.document||!e.document.implementation)throw f("noinert");e=e.document.implementation.createHTMLDocument("inert");var t=(e.documentElement||e.getDocumentElement()).getElementsByTagName("body");1===t.length?c=t[0]:(t=e.createElement("html"),c=e.createElement("body"),t.appendChild(c),e.appendChild(t))}(e),t.module("ngSanitize",[]).provider("$sanitize",function(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&t.extend(b,$),function(e){var t=[];return a(e,u(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(n){return t.isDefined(n)?(e=n,this):e}}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,a=t.$$minErr("linky"),o=t.isString;return function(s,u,l){function c(e){e&&g.push(r(e))}function f(e,n){var r;if(g.push("<a "),t.isFunction(l)&&(l=l(e)),t.isObject(l))for(r in l)g.push(r+'="'+l[r]+'" ');else l={};!t.isDefined(u)||"target"in l||g.push('target="',u,'" '),g.push('href="',e.replace(/"/g,"&quot;"),'">'),c(n),g.push("</a>")}if(null==s||""===s)return s;if(!o(s))throw a("notstring",s);for(var d,p,h=s,g=[];s=h.match(n);)d=s[0],s[2]||s[4]||(d=(s[3]?"http://":"mailto:")+d),p=s.index,c(h.substr(0,p)),f(d,s[0].replace(i,"")),h=h.substring(p+s[0].length);return c(h),e(g.join(""))}}])}(window,window.angular),function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function t(t,n){var r=typeof n;if(t=t.cache,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:v+n;return t=(t=t[r])&&t[i],"object"==r?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:v+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){for(var n=e.criteria,r=t.criteria,i=-1,a=n.length;++i<a;){var o=n[i],s=r[i];if(o!==s){if(o>s||"undefined"==typeof o)return 1;if(s>o||"undefined"==typeof s)return-1}}return e.index-t.index}function a(e){var t=-1,r=e.length,i=e[0],a=e[r/2|0],o=e[r-1];if(i&&"object"==typeof i&&a&&"object"==typeof a&&o&&"object"==typeof o)return!1;var s=u();s["false"]=s["null"]=s["true"]=s.undefined=!1;var l=u();for(l.array=e,l.cache=s,l.push=n;++t<r;)l.push(e[t]);return l}function o(e){return"\\"+G[e]}function s(){return h.pop()||[]}function u(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function l(e){e.length=0,h.length<y&&h.push(e)}function c(e){var t=e.cache;t&&c(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,g.length<y&&g.push(e)}function f(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,a=Array(0>i?0:i);++r<i;)a[r]=e[t+r];return a}function d(n){function h(e){return e&&"object"==typeof e&&!Zn(e)&&Mn.call(e,"__wrapped__")?e:new g(e)}function g(e,t){this.__chain__=!!t,this.__wrapped__=e}function y(e){function t(){if(r){var e=f(r);jn.apply(e,arguments)}if(this instanceof t){var a=X(n.prototype),o=n.apply(a,e||arguments);return Oe(o)?o:a}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Jn(t,e),t}function G(e,t,n,r,i){if(n){var a=n(e);if("undefined"!=typeof a)return a}var o=Oe(e);if(!o)return e;var u=An.call(e);if(!z[u])return e;var c=Xn[u];switch(u){case L:case R:return new c(+e);case F:case V:return new c(e);case H:return a=c(e.source,E.exec(e)),a.lastIndex=e.lastIndex,a}var d=Zn(e);if(t){var p=!r;r||(r=s()),i||(i=s());for(var h=r.length;h--;)if(r[h]==e)return i[h];a=d?c(e.length):{}}else a=d?f(e):ar({},e);return d&&(Mn.call(e,"index")&&(a.index=e.index),Mn.call(e,"input")&&(a.input=e.input)),t?(r.push(e),i.push(a),(d?Ye:ur)(e,function(e,o){a[o]=G(e,t,n,r,i)}),p&&(l(r),l(i)),a):a}function X(e,t){return Oe(e)?Un(e):{}}function Y(e,t,n){if("function"!=typeof e)return Jt;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(Yn.funcNames&&(r=!e.name),r=r||!Yn.funcDecomp,!r)){var i=In.call(e);Yn.funcNames||(r=!S.test(i)),r||(r=O.test(i),Jn(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return Mt(e,t)}function J(e){function t(){var e=u?o:this;if(i){var h=f(i);jn.apply(h,arguments)}if((a||c)&&(h||(h=f(arguments)),a&&jn.apply(h,a),c&&h.length<s))return r|=16,J([n,d?r:-4&r,h,null,o,s]);if(h||(h=arguments),l&&(n=e[p]),this instanceof t){e=X(n.prototype);var g=n.apply(e,h);return Oe(g)?g:e}return n.apply(e,h)}var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=1&r,l=2&r,c=4&r,d=8&r,p=n;return Jn(t,e),t}function Z(n,r){var i=-1,o=ue(),s=n?n.length:0,u=s>=$&&o===e,l=[];if(u){var f=a(r);f?(o=t,r=f):u=!1}for(;++i<s;){var d=n[i];o(r,d)<0&&l.push(d)}return u&&c(r),l}function ee(e,t,n,r){for(var i=(r||0)-1,a=e?e.length:0,o=[];++i<a;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Zn(s)||de(s))){t||(s=ee(s,t,n));var u=-1,l=s.length,c=o.length;for(o.length+=l;++u<l;)o[c++]=s[u]}else n||o.push(s)}return o}function te(e,t,n,r,i,a){if(n){var o=n(e,t);if("undefined"!=typeof o)return!!o}if(e===t)return 0!==e||1/e==1/t;var u=typeof e,c=typeof t;if(!(e!==e||e&&W[u]||t&&W[c]))return!1;if(null==e||null==t)return e===t;var f=An.call(e),d=An.call(t);if(f==M&&(f=U),d==M&&(d=U),f!=d)return!1;switch(f){case L:case R:return+e==+t;case F:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case H:case V:return e==wn(t)}var h=f==j;if(!h){var g=Mn.call(e,"__wrapped__"),m=Mn.call(t,"__wrapped__");if(g||m)return te(g?e.__wrapped__:e,m?t.__wrapped__:t,n,r,i,a);if(f!=U)return!1;var v=e.constructor,$=t.constructor;if(v!=$&&!(Te(v)&&v instanceof v&&Te($)&&$ instanceof $)&&"constructor"in e&&"constructor"in t)return!1}var y=!i;i||(i=s()),a||(a=s());for(var b=i.length;b--;)if(i[b]==e)return a[b]==t;var _=0;if(o=!0,i.push(e),a.push(t),h){if(b=e.length,_=t.length,o=_==b,o||r)for(;_--;){var w=b,x=t[_];if(r)for(;w--&&!(o=te(e[w],x,n,r,i,a)););else if(!(o=te(e[_],x,n,r,i,a)))break}}else sr(t,function(t,s,u){return Mn.call(u,s)?(_++,o=Mn.call(e,s)&&te(e[s],t,n,r,i,a)):p}),o&&!r&&sr(e,function(e,t,n){return Mn.call(n,t)?o=--_>-1:p});return i.pop(),a.pop(),y&&(l(i),l(a)),o}function ne(e,t,n,r,i){(Zn(t)?Ye:ur)(t,function(t,a){var o,s,u=t,l=e[a];if(t&&((s=Zn(t))||lr(t))){for(var c=r.length;c--;)if(o=r[c]==t){l=i[c];break}if(!o){var f;n&&(u=n(l,t),(f="undefined"!=typeof u)&&(l=u)),f||(l=s?Zn(l)?l:[]:lr(l)?l:{}),r.push(t),i.push(l),f||ne(l,t,n,r,i)}}else n&&(u=n(l,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(l=u);e[a]=l})}function re(e,t){return e+Nn(Kn()*(t-e+1))}function ie(n,r,i){var o=-1,u=ue(),f=n?n.length:0,d=[],p=!r&&f>=$&&u===e,h=i||p?s():d;if(p){var g=a(h);u=t,h=g}for(;++o<f;){var m=n[o],v=i?i(m,o,n):m;(r?!o||h[h.length-1]!==v:u(h,v)<0)&&((i||p)&&h.push(v),d.push(m))}return p?(l(h.array),c(h)):i&&l(h),d}function ae(e){return function(t,n,r){var i={};n=h.createCallback(n,r,3);var a=-1,o=t?t.length:0;if("number"==typeof o)for(;++a<o;){var s=t[a];e(i,s,n(s,a,t),t)}else ur(t,function(t,r,a){e(i,t,n(t,r,a),a)});return i}}function oe(e,t,n,r,i,a){var o=1&t,s=2&t,u=4&t,l=16&t,c=32&t;if(!s&&!Te(e))throw new xn;l&&!n.length&&(t&=-17,l=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var d=e&&e.__bindData__;if(d&&d!==!0)return d=f(d),d[2]&&(d[2]=f(d[2])),d[3]&&(d[3]=f(d[3])),!o||1&d[1]||(d[4]=i),!o&&1&d[1]&&(t|=8),!u||4&d[1]||(d[5]=a),l&&jn.apply(d[2]||(d[2]=[]),n),c&&Dn.apply(d[3]||(d[3]=[]),r),d[1]|=t,oe.apply(null,d);var p=1==t||17===t?y:J;return p([e,t,n,r,i,a])}function se(e){return tr[e]}function ue(){var t=(t=h.indexOf)===vt?e:t;return t}function le(e){return"function"==typeof e&&kn.test(e)}function ce(e){var t,n;return e&&An.call(e)==U&&(t=e.constructor,!Te(t)||t instanceof t)?(sr(e,function(e,t){n=t}),"undefined"==typeof n||Mn.call(e,n)):!1}function fe(e){return nr[e]}function de(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==M||!1}function pe(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),G(e,t,"function"==typeof n&&Y(n,r,1))}function he(e,t,n){return G(e,!0,"function"==typeof t&&Y(t,n,1))}function ge(e,t){var n=X(e);return t?ar(n,t):n}function me(e,t,n){var r;return t=h.createCallback(t,n,3),ur(e,function(e,n,i){return t(e,n,i)?(r=n,!1):p}),r}function ve(e,t,n){var r;return t=h.createCallback(t,n,3),ye(e,function(e,n,i){return t(e,n,i)?(r=n,!1):p}),r}function $e(e,t,n){var r=[];sr(e,function(e,t){r.push(t,e)});var i=r.length;for(t=Y(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function ye(e,t,n){var r=er(e),i=r.length;for(t=Y(t,n,3);i--;){var a=r[i];if(t(e[a],a,e)===!1)break}return e}function be(e){var t=[];return sr(e,function(e,n){Te(e)&&t.push(n)}),t.sort()}function _e(e,t){return e?Mn.call(e,t):!1}function we(e){for(var t=-1,n=er(e),r=n.length,i={};++t<r;){var a=n[t];i[e[a]]=a}return i}function xe(e){return e===!0||e===!1||e&&"object"==typeof e&&An.call(e)==L||!1}function Ce(e){return e&&"object"==typeof e&&An.call(e)==R||!1}function Ee(e){return e&&1===e.nodeType||!1}function Se(e){var t=!0;if(!e)return t;var n=An.call(e),r=e.length;return n==j||n==V||n==M||n==U&&"number"==typeof r&&Te(e.splice)?!r:(ur(e,function(){return t=!1}),t)}function Ae(e,t,n,r){return te(e,t,"function"==typeof n&&Y(n,r,2))}function ke(e){return Vn(e)&&!zn(parseFloat(e))}function Te(e){return"function"==typeof e}function Oe(e){return!(!e||!W[typeof e])}function Ne(e){return Pe(e)&&e!=+e}function Ie(e){return null===e}function Pe(e){return"number"==typeof e||e&&"object"==typeof e&&An.call(e)==F||!1}function Me(e){return e&&"object"==typeof e&&An.call(e)==H||!1}function je(e){return"string"==typeof e||e&&"object"==typeof e&&An.call(e)==V||!1}function Le(e){return"undefined"==typeof e}function Re(e,t,n){var r={};return t=h.createCallback(t,n,3),ur(e,function(e,n,i){r[n]=t(e,n,i)}),r}function De(e){var t=arguments,n=2;if(!Oe(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=Y(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=f(arguments,1,n),a=-1,o=s(),u=s();++a<n;)ne(e,i[a],r,o,u);return l(o),l(u),e}function Fe(e,t,n){var r={};if("function"!=typeof t){var i=[];sr(e,function(e,t){i.push(t)}),i=Z(i,ee(arguments,!0,!1,1));for(var a=-1,o=i.length;++a<o;){var s=i[a];r[s]=e[s]}}else t=h.createCallback(t,n,3),sr(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function Ue(e){for(var t=-1,n=er(e),r=n.length,i=hn(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function He(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,a=ee(arguments,!0,!1,1),o=Oe(e)?a.length:0;++i<o;){var s=a[i];s in e&&(r[s]=e[s])}else t=h.createCallback(t,n,3),sr(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function Ve(e,t,n,r){var i=Zn(e);if(null==n)if(i)n=[];else{var a=e&&e.constructor,o=a&&a.prototype;n=X(o)}return t&&(t=h.createCallback(t,r,4),(i?Ye:ur)(e,function(e,r,i){return t(n,e,r,i)})),n}function ze(e){for(var t=-1,n=er(e),r=n.length,i=hn(r);++t<r;)i[t]=e[n[t]];return i}function qe(e){for(var t=arguments,n=-1,r=ee(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,a=hn(i);++n<i;)a[n]=e[r[n]];return a}function Be(e,t,n){var r=-1,i=ue(),a=e?e.length:0,o=!1;return n=(0>n?Bn(0,a+n):n)||0,Zn(e)?o=i(e,t,n)>-1:"number"==typeof a?o=(je(e)?e.indexOf(t,n):i(e,t,n))>-1:ur(e,function(e){return++r<n?p:!(o=e===t)}),o}function We(e,t,n){var r=!0;t=h.createCallback(t,n,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;++i<a&&(r=!!t(e[i],i,e)););else ur(e,function(e,n,i){return r=!!t(e,n,i)});return r}function Ge(e,t,n){var r=[];t=h.createCallback(t,n,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;++i<a;){var o=e[i];t(o,i,e)&&r.push(o)}else ur(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Ke(e,t,n){t=h.createCallback(t,n,3);var r=-1,i=e?e.length:0;if("number"!=typeof i){var a;return ur(e,function(e,n,r){return t(e,n,r)?(a=e,!1):p}),a}for(;++r<i;){var o=e[r];if(t(o,r,e))return o}}function Xe(e,t,n){var r;return t=h.createCallback(t,n,3),Je(e,function(e,n,i){return t(e,n,i)?(r=e,!1):p}),r}function Ye(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:Y(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==!1;);else ur(e,t);return e}function Je(e,t,n){var r=e?e.length:0;if(t=t&&"undefined"==typeof n?t:Y(t,n,3),"number"==typeof r)for(;r--&&t(e[r],r,e)!==!1;);else{var i=er(e);r=i.length,ur(e,function(e,n,a){return n=i?i[--r]:--r,t(a[n],n,a)})}return e}function Ze(e,t){var n=f(arguments,2),r=-1,i="function"==typeof t,a=e?e.length:0,o=hn("number"==typeof a?a:0);return Ye(e,function(e){o[++r]=(i?t:e[t]).apply(e,n)}),o}function Qe(e,t,n){var r=-1,i=e?e.length:0;if(t=h.createCallback(t,n,3),"number"==typeof i)for(var a=hn(i);++r<i;)a[r]=t(e[r],r,e);else a=[],ur(e,function(e,n,i){a[++r]=t(e,n,i)});return a}function et(e,t,n){var i=-(1/0),a=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zn(e))for(var o=-1,s=e.length;++o<s;){var u=e[o];u>a&&(a=u)}else t=null==t&&je(e)?r:h.createCallback(t,n,3),Ye(e,function(e,n,r){var o=t(e,n,r);o>i&&(i=o,a=e)});return a}function tt(e,t,n){var i=1/0,a=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Zn(e))for(var o=-1,s=e.length;++o<s;){var u=e[o];a>u&&(a=u)}else t=null==t&&je(e)?r:h.createCallback(t,n,3),Ye(e,function(e,n,r){var o=t(e,n,r);i>o&&(i=o,a=e)});return a}function nt(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=h.createCallback(t,r,4);var a=-1,o=e.length;if("number"==typeof o)for(i&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);else ur(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)});return n}function rt(e,t,n,r){var i=arguments.length<3;return t=h.createCallback(t,r,4),Je(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}function it(e,t,n){return t=h.createCallback(t,n,3),Ge(e,function(e,n,r){return!t(e,n,r)})}function at(e,t,n){if(e&&"number"!=typeof e.length&&(e=ze(e)),null==t||n)return e?e[re(0,e.length-1)]:p;var r=ot(e);return r.length=Wn(Bn(0,t),r.length),r}function ot(e){var t=-1,n=e?e.length:0,r=hn("number"==typeof n?n:0);return Ye(e,function(e){var n=re(0,++t);r[t]=r[n],r[n]=e}),r}function st(e){var t=e?e.length:0;return"number"==typeof t?t:er(e).length}function ut(e,t,n){var r;t=h.createCallback(t,n,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;++i<a&&!(r=t(e[i],i,e)););else ur(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function lt(e,t,n){var r=-1,a=Zn(t),o=e?e.length:0,f=hn("number"==typeof o?o:0);for(a||(t=h.createCallback(t,n,3)),Ye(e,function(e,n,i){var o=f[++r]=u();a?o.criteria=Qe(t,function(t){return e[t]}):(o.criteria=s())[0]=t(e,n,i),o.index=r,o.value=e}),o=f.length,f.sort(i);o--;){var d=f[o];f[o]=d.value,a||l(d.criteria),c(d)}return f}function ct(e){return e&&"number"==typeof e.length?f(e):ze(e)}function ft(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function dt(e){return Z(e,ee(arguments,!0,!0,1))}function pt(e,t,n){var r=-1,i=e?e.length:0;for(t=h.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1}function ht(e,t,n){var r=e?e.length:0;for(t=h.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function gt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=-1;for(t=h.createCallback(t,n,3);++a<i&&t(e[a],a,e);)r++}else if(r=t,null==r||n)return e?e[0]:p;return f(e,0,Wn(Bn(0,r),i))}function mt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=Qe(e,n,r)),ee(e,t)}function vt(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=0>r?Bn(0,i+r):r||0}else if(r){var a=St(t,n);return t[a]===n?a:-1}return e(t,n,r)}function $t(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=i;for(t=h.createCallback(t,n,3);a--&&t(e[a],a,e);)r++}else r=null==t||n?1:t||r;return f(e,0,Wn(Bn(0,i-r),i))}function yt(){for(var n=[],r=-1,i=arguments.length,o=s(),u=ue(),f=u===e,d=s();++r<i;){var p=arguments[r];(Zn(p)||de(p))&&(n.push(p),o.push(f&&p.length>=$&&a(r?n[r]:d)))}var h=n[0],g=-1,m=h?h.length:0,v=[];e:for(;++g<m;){var y=o[0];if(p=h[g],(y?t(y,p):u(d,p))<0){for(r=i,(y||d).push(p);--r;)if(y=o[r],(y?t(y,p):u(n[r],p))<0)continue e;v.push(p)}}for(;i--;)y=o[i],y&&c(y);return l(o),l(d),v}function bt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=i;for(t=h.createCallback(t,n,3);a--&&t(e[a],a,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:p;return f(e,Bn(0,i-r))}function _t(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?Bn(0,r+n):Wn(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function wt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var a=-1,o=t[n];++a<i;)e[a]===o&&(Rn.call(e,a--,1),i--);return e}function xt(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=Bn(0,Tn((t-e)/(n||1))),a=hn(i);++r<i;)a[r]=e,e+=n;return a}function Ct(e,t,n){var r=-1,i=e?e.length:0,a=[];for(t=h.createCallback(t,n,3);++r<i;){var o=e[r];t(o,r,e)&&(a.push(o),Rn.call(e,r--,1),i--)}return a}function Et(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,a=e?e.length:0;for(t=h.createCallback(t,n,3);++i<a&&t(e[i],i,e);)r++}else r=null==t||n?1:Bn(0,t);return f(e,r)}function St(e,t,n,r){var i=0,a=e?e.length:i;for(n=n?h.createCallback(n,r,1):Jt,t=n(t);a>i;){var o=i+a>>>1;n(e[o])<t?i=o+1:a=o}return i}function At(){return ie(ee(arguments,!0,!0))}function kt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=h.createCallback(n,r,3)),ie(e,t,n)}function Tt(e){return Z(e,f(arguments,1))}function Ot(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Zn(n)||de(n))var r=r?ie(Z(r,n).concat(Z(n,r))):n}return r||[]}function Nt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?et(pr(e,"length")):0,r=hn(0>n?0:n);++t<n;)r[t]=pr(e,t);return r}function It(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Zn(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function Pt(e,t){if(!Te(t))throw new xn;return function(){return--e<1?t.apply(this,arguments):p}}function Mt(e,t){return arguments.length>2?oe(e,17,f(arguments,2),null,t):oe(e,1,null,null,t)}function jt(e){for(var t=arguments.length>1?ee(arguments,!0,!1,1):be(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=oe(e[i],1,null,null,e)}return e}function Lt(e,t){return arguments.length>2?oe(t,19,f(arguments,2),null,e):oe(t,3,null,null,e)}function Rt(){for(var e=arguments,t=e.length;t--;)if(!Te(e[t]))throw new xn;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Dt(e,t){return t="number"==typeof t?t:+t||e.length,oe(e,4,null,null,null,t)}function Ft(e,t,n){var r,i,a,o,s,u,l,c=0,f=!1,d=!0;if(!Te(e))throw new xn;if(t=Bn(0,t)||0,n===!0){var h=!0;d=!1}else Oe(n)&&(h=n.leading,f="maxWait"in n&&(Bn(t,n.maxWait)||0),d="trailing"in n?n.trailing:d);var g=function(){var n=t-(gr()-o);if(n>0)u=Ln(g,n);else{i&&On(i);var f=l;i=u=l=p,f&&(c=gr(),a=e.apply(s,r),u||i||(r=s=null))}},m=function(){u&&On(u),i=u=l=p,(d||f!==t)&&(c=gr(),a=e.apply(s,r),u||i||(r=s=null))};return function(){if(r=arguments,o=gr(),s=this,l=d&&(u||!h),f===!1)var n=h&&!u;else{i||h||(c=o);var p=f-(o-c),v=0>=p;v?(i&&(i=On(i)),c=o,a=e.apply(s,r)):i||(i=Ln(m,p))}return v&&u?u=On(u):u||t===f||(u=Ln(g,t)),n&&(v=!0,a=e.apply(s,r)),!v||u||i||(r=s=null),a}}function Ut(e){if(!Te(e))throw new xn;var t=f(arguments,1);return Ln(function(){e.apply(p,t)},1)}function Ht(e,t){if(!Te(e))throw new xn;var n=f(arguments,2);return Ln(function(){e.apply(p,n)},t)}function Vt(e,t){if(!Te(e))throw new xn;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):v+arguments[0];return Mn.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function zt(e){var t,n;if(!Te(e))throw new xn;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function qt(e){return oe(e,16,f(arguments,1))}function Bt(e){return oe(e,32,null,f(arguments,1))}function Wt(e,t,n){var r=!0,i=!0;if(!Te(e))throw new xn;return n===!1?r=!1:Oe(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),q.leading=r,q.maxWait=t,q.trailing=i,Ft(e,t,q)}function Gt(e,t){return oe(t,16,[e])}function Kt(e){return function(){return e}}function Xt(e,t,n){var r=typeof e;if(null==e||"function"==r)return Y(e,t,n);if("object"!=r)return tn(e);var i=er(e),a=i[0],o=e[a];return 1!=i.length||o!==o||Oe(o)?function(t){for(var n=i.length,r=!1;n--&&(r=te(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[a];return o===t&&(0!==o||1/o==1/t)}}function Yt(e){return null==e?"":wn(e).replace(ir,se)}function Jt(e){return e}function Zt(e,t,n){var r=!0,i=t&&be(t);t&&(n||i.length)||(null==n&&(n=t),a=g,t=e,e=h,i=be(t)),n===!1?r=!1:Oe(n)&&"chain"in n&&(r=n.chain);var a=e,o=Te(a);Ye(i,function(n){var i=e[n]=t[n];o&&(a.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,o=[n];jn.apply(o,arguments);var s=i.apply(e,o);if(r||t){if(n===s&&Oe(s))return this;s=new a(s),s.__chain__=t}return s})})}function Qt(){return n._=Sn,this}function en(){}function tn(e){return function(t){return t[e]}}function nn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=Kn();return Wn(e+a*(t-e+parseFloat("1e-"+((a+"").length-1))),t)}return re(e,t)}function rn(e,t){if(e){var n=e[t];return Te(n)?e[t]():n}}function an(e,t,n){var r=h.templateSettings;e=wn(e||""),n=or({},n,r);var i,a=or({},n.imports,r.imports),s=er(a),u=ze(a),l=0,c=n.interpolate||T,f="__p += '",d=_n((n.escape||T).source+"|"+c.source+"|"+(c===A?C:T).source+"|"+(n.evaluate||T).source+"|$","g");e.replace(d,function(t,n,r,a,s,u){return r||(r=a),f+=e.slice(l,u).replace(N,o),n&&(f+="' +\n__e("+n+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t}),f+="';\n";var g=n.variable,m=g;m||(g="obj",f="with ("+g+") {\n"+f+"\n}\n"),f=(i?f.replace(_,""):f).replace(w,"$1").replace(x,"$1;"),f="function("+g+") {\n"+(m?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+P++ +"]")+"\n*/";try{var $=vn(s,"return "+f+v).apply(p,u)}catch(y){throw y.source=f,y}return t?$(t):($.source=f,$)}function on(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=hn(e);for(t=Y(t,n,1);++r<e;)i[r]=t(r);return i}function sn(e){return null==e?"":wn(e).replace(rr,fe)}function un(e){var t=++m;return wn(null==e?"":e)+t}function ln(e){return e=new g(e),e.__chain__=!0,e}function cn(e,t){return t(e),e}function fn(){return this.__chain__=!0,this}function dn(){return wn(this.__wrapped__)}function pn(){return this.__wrapped__}n=n?Q.defaults(K.Object(),n,Q.pick(K,I)):K;var hn=n.Array,gn=n.Boolean,mn=n.Date,vn=n.Function,$n=n.Math,yn=n.Number,bn=n.Object,_n=n.RegExp,wn=n.String,xn=n.TypeError,Cn=[],En=bn.prototype,Sn=n._,An=En.toString,kn=_n("^"+wn(An).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Tn=$n.ceil,On=n.clearTimeout,Nn=$n.floor,In=vn.prototype.toString,Pn=le(Pn=bn.getPrototypeOf)&&Pn,Mn=En.hasOwnProperty,jn=Cn.push,Ln=n.setTimeout,Rn=Cn.splice,Dn=Cn.unshift,Fn=function(){try{var e={},t=le(t=bn.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Un=le(Un=bn.create)&&Un,Hn=le(Hn=hn.isArray)&&Hn,Vn=n.isFinite,zn=n.isNaN,qn=le(qn=bn.keys)&&qn,Bn=$n.max,Wn=$n.min,Gn=n.parseInt,Kn=$n.random,Xn={};Xn[j]=hn,Xn[L]=gn,Xn[R]=mn,Xn[D]=vn,Xn[U]=bn,Xn[F]=yn,Xn[H]=_n,Xn[V]=wn,g.prototype=h.prototype;var Yn=h.support={};Yn.funcDecomp=!le(n.WinRTError)&&O.test(d),Yn.funcNames="string"==typeof vn.name,h.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:A,variable:"",imports:{_:h}},Un||(X=function(){function e(){}return function(t){if(Oe(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}());var Jn=Fn?function(e,t){B.value=t,Fn(e,"__bindData__",B),B.value=null}:en,Zn=Hn||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&An.call(e)==j||!1},Qn=function(e){var t,n=e,r=[];if(!n)return r;if(!W[typeof e])return r;for(t in n)Mn.call(n,t)&&r.push(t);return r},er=qn?function(e){return Oe(e)?qn(e):[]}:Qn,tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nr=we(tr),rr=_n("("+er(nr).join("|")+")","g"),ir=_n("["+er(tr).join("")+"]","g"),ar=function(e,t,n){var r,i=e,a=i;if(!i)return a;var o=arguments,s=0,u="number"==typeof n?2:o.length;if(u>3&&"function"==typeof o[u-2])var l=Y(o[--u-1],o[u--],2);else u>2&&"function"==typeof o[u-1]&&(l=o[--u]);for(;++s<u;)if(i=o[s],i&&W[typeof i])for(var c=-1,f=W[typeof i]&&er(i),d=f?f.length:0;++c<d;)r=f[c],a[r]=l?l(a[r],i[r]):i[r];return a},or=function(e,t,n){var r,i=e,a=i;if(!i)return a;for(var o=arguments,s=0,u="number"==typeof n?2:o.length;++s<u;)if(i=o[s],i&&W[typeof i])for(var l=-1,c=W[typeof i]&&er(i),f=c?c.length:0;++l<f;)r=c[l],"undefined"==typeof a[r]&&(a[r]=i[r]);return a},sr=function(e,t,n){var r,i=e,a=i;if(!i)return a;if(!W[typeof i])return a;t=t&&"undefined"==typeof n?t:Y(t,n,3);for(r in i)if(t(i[r],r,e)===!1)return a;return a},ur=function(e,t,n){var r,i=e,a=i;if(!i)return a;if(!W[typeof i])return a;t=t&&"undefined"==typeof n?t:Y(t,n,3);for(var o=-1,s=W[typeof i]&&er(i),u=s?s.length:0;++o<u;)if(r=s[o],t(i[r],r,e)===!1)return a;return a},lr=Pn?function(e){if(!e||An.call(e)!=U)return!1;var t=e.valueOf,n=le(t)&&(n=Pn(t))&&Pn(n);return n?e==n||Pn(e)==n:ce(e)}:ce,cr=ae(function(e,t,n){Mn.call(e,n)?e[n]++:e[n]=1}),fr=ae(function(e,t,n){(Mn.call(e,n)?e[n]:e[n]=[]).push(t)}),dr=ae(function(e,t,n){e[n]=t}),pr=Qe,hr=Ge,gr=le(gr=mn.now)&&gr||function(){return(new mn).getTime()},mr=8==Gn(b+"08")?Gn:function(e,t){return Gn(je(e)?e.replace(k,""):e,t||0)};return h.after=Pt,h.assign=ar,h.at=qe,h.bind=Mt,h.bindAll=jt,h.bindKey=Lt,h.chain=ln,h.compact=ft,h.compose=Rt,h.constant=Kt,h.countBy=cr,h.create=ge,h.createCallback=Xt,h.curry=Dt,h.debounce=Ft,h.defaults=or,h.defer=Ut,h.delay=Ht,h.difference=dt,h.filter=Ge,h.flatten=mt,h.forEach=Ye,h.forEachRight=Je,h.forIn=sr,h.forInRight=$e,h.forOwn=ur,h.forOwnRight=ye,h.functions=be,h.groupBy=fr,h.indexBy=dr,h.initial=$t,h.intersection=yt,h.invert=we,h.invoke=Ze,h.keys=er,h.map=Qe,h.mapValues=Re,h.max=et,h.memoize=Vt,h.merge=De,h.min=tt,h.omit=Fe,h.once=zt,h.pairs=Ue,h.partial=qt,h.partialRight=Bt,h.pick=He,h.pluck=pr,h.property=tn,h.pull=wt,h.range=xt,h.reject=it,h.remove=Ct,h.rest=Et,h.shuffle=ot,h.sortBy=lt,h.tap=cn,h.throttle=Wt,h.times=on,h.toArray=ct,h.transform=Ve,h.union=At,h.uniq=kt,h.values=ze,h.where=hr,h.without=Tt,h.wrap=Gt,h.xor=Ot,h.zip=Nt,h.zipObject=It,h.collect=Qe,h.drop=Et,h.each=Ye,h.eachRight=Je,h.extend=ar,h.methods=be,h.object=It,h.select=Ge,h.tail=Et,h.unique=kt,h.unzip=Nt,Zt(h),h.clone=pe,h.cloneDeep=he,h.contains=Be,h.escape=Yt,h.every=We,h.find=Ke,h.findIndex=pt,h.findKey=me,h.findLast=Xe,h.findLastIndex=ht,h.findLastKey=ve,h.has=_e,h.identity=Jt,h.indexOf=vt,h.isArguments=de,h.isArray=Zn,h.isBoolean=xe,h.isDate=Ce,h.isElement=Ee,h.isEmpty=Se,h.isEqual=Ae,h.isFinite=ke,h.isFunction=Te,h.isNaN=Ne,h.isNull=Ie,h.isNumber=Pe,h.isObject=Oe,h.isPlainObject=lr,h.isRegExp=Me,h.isString=je,h.isUndefined=Le,h.lastIndexOf=_t,h.mixin=Zt,h.noConflict=Qt,h.noop=en,h.now=gr,h.parseInt=mr,h.random=nn,h.reduce=nt,h.reduceRight=rt,h.result=rn,h.runInContext=d,h.size=st,h.some=ut,h.sortedIndex=St,h.template=an,h.unescape=sn,h.uniqueId=un,h.all=We,h.any=ut,h.detect=Ke,h.findWhere=Ke,h.foldl=nt,h.foldr=rt,h.include=Be,h.inject=nt,Zt(function(){var e={};return ur(h,function(t,n){h.prototype[n]||(e[n]=t)}),e}(),!1),h.first=gt,h.last=bt,h.sample=at,h.take=gt,h.head=gt,ur(h,function(e,t){var n="sample"!==t;h.prototype[t]||(h.prototype[t]=function(t,r){var i=this.__chain__,a=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new g(a,i):a})}),h.VERSION="2.4.2",h.prototype.chain=fn,h.prototype.toString=dn,h.prototype.value=pn,h.prototype.valueOf=pn,Ye(["join","pop","shift"],function(e){var t=Cn[e];h.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new g(n,e):n}}),Ye(["push","reverse","sort","unshift"],function(e){var t=Cn[e];h.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Ye(["concat","slice","splice"],function(e){var t=Cn[e];h.prototype[e]=function(){return new g(t.apply(this.__wrapped__,arguments),this.__chain__)}}),h}var p,h=[],g=[],m=0,v=+new Date+"",$=75,y=40,b=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",_=/\b__p \+= '';/g,w=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,C=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,E=/\w*$/,S=/^\s*function[ \n\r\t]+\w/,A=/<%=([\s\S]+?)%>/g,k=RegExp("^["+b+"]*0+(?=.$)"),T=/($^)/,O=/\bthis\b/,N=/['\n\r\t\u2028\u2029\\]/g,I=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],P=0,M="[object Arguments]",j="[object Array]",L="[object Boolean]",R="[object Date]",D="[object Function]",F="[object Number]",U="[object Object]",H="[object RegExp]",V="[object String]",z={};z[D]=!1,z[M]=z[j]=z[L]=z[R]=z[F]=z[U]=z[H]=z[V]=!0;var q={leading:!1,maxWait:0,trailing:!1},B={configurable:!1,enumerable:!1,value:null,writable:!1},W={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},K=W[typeof window]&&window||this,X=W[typeof exports]&&exports&&!exports.nodeType&&exports,Y=W[typeof module]&&module&&!module.nodeType&&module,J=Y&&Y.exports===X&&X,Z=W[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(K=Z);var Q=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(K._=Q,define(function(){return Q})):X&&Y?J?(Y.exports=Q)._=Q:X._=Q:K._=Q}.call(this);var directiveModule=angular.module("angularjs-dropdown-multiselect",[]);directiveModule.directive("ngDropdownMultiselect",["$filter","$document","$compile","$parse",function(e,t){return{restrict:"AE",scope:{selectedModel:"=",options:"=",extraSettings:"=",events:"=",searchFilter:"=?",translationTexts:"=",groupBy:"@"},template:function(e,t){var n=t.checkboxes?!0:!1,r=t.groupBy?!0:!1,i='<div class="multiselect-parent btn-group dropdown-multiselect">';i+='<button type="button" class="dropdown-toggle" ng-class="settings.buttonClasses" ng-click="toggleDropdown()">{{getButtonText()}}&nbsp;<span class="caret"></span></button>',i+="<ul class=\"dropdown-menu dropdown-menu-form\" ng-style=\"{display: open ? 'block' : 'none', height : settings.scrollable ? settings.scrollableHeight : 'auto' }\" style=\"overflow: scroll\" >",i+='<li ng-hide="!settings.showCheckAll || settings.selectionLimit > 0"><a data-ng-click="selectAll()"><span class="glyphicon glyphicon-ok"></span>  {{texts.checkAll}}</a>',i+='<li ng-show="settings.showUncheckAll"><a data-ng-click="deselectAll();"><span class="glyphicon glyphicon-remove"></span>   {{texts.uncheckAll}}</a></li>',i+='<li ng-hide="(!settings.showCheckAll || settings.selectionLimit > 0) && !settings.showUncheckAll" class="divider"></li>',i+='<li ng-show="settings.enableSearch"><div class="dropdown-header"><input type="text" class="form-control" style="width: 100%;" ng-model="searchFilter" placeholder="{{texts.searchPlaceholder}}" /></li>',i+='<li ng-show="settings.enableSearch" class="divider"></li>',r?(i+='<li ng-repeat-start="option in orderedItems | filter: searchFilter" ng-show="getPropertyForObject(option, settings.groupBy) !== getPropertyForObject(orderedItems[$index - 1], settings.groupBy)" role="presentation" class="dropdown-header">{{ getGroupTitle(getPropertyForObject(option, settings.groupBy)) }}</li>',i+='<li ng-repeat-end role="presentation">'):i+='<li role="presentation" ng-repeat="option in options | filter: searchFilter">',i+='<a role="menuitem" tabindex="-1" ng-click="setSelectedItem(getPropertyForObject(option,settings.idProp))">',
i+=n?'<div class="checkbox"><label><input class="checkboxInput" type="checkbox" ng-click="checkboxClick($event, getPropertyForObject(option,settings.idProp))" ng-checked="isChecked(getPropertyForObject(option,settings.idProp))" /> {{getPropertyForObject(option, settings.displayProp)}}</label></div></a>':"<span data-ng-class=\"{'glyphicon glyphicon-ok': isChecked(getPropertyForObject(option,settings.idProp))}\"></span> {{getPropertyForObject(option, settings.displayProp)}}</a>",i+="</li>",i+='<li class="divider" ng-show="settings.selectionLimit > 1"></li>',i+='<li role="presentation" ng-show="settings.selectionLimit > 1"><a role="menuitem">{{selectedModel.length}} {{texts.selectionOf}} {{settings.selectionLimit}} {{texts.selectionCount}}</a></li>',i+="</ul>",i+="</div>",e.html(i)},link:function(n,r,i){function a(e){var t={};return""===n.settings.externalIdProp?t[n.settings.idProp]=e:t[n.settings.externalIdProp]=e,t}function o(e){for(var t in e)delete e[t]}var s=r.children()[0];n.toggleDropdown=function(){n.open=!n.open},n.checkboxClick=function(e,t){n.setSelectedItem(t),e.stopImmediatePropagation()},n.externalEvents={onItemSelect:angular.noop,onItemDeselect:angular.noop,onSelectAll:angular.noop,onDeselectAll:angular.noop,onInitDone:angular.noop,onMaxSelectionReached:angular.noop},n.settings={dynamicTitle:!0,scrollable:!1,scrollableHeight:"300px",closeOnBlur:!0,displayProp:"label",idProp:"id",externalIdProp:"id",enableSearch:!1,selectionLimit:0,showCheckAll:!0,showUncheckAll:!0,closeOnSelect:!1,buttonClasses:"btn btn-default",closeOnDeselect:!1,groupBy:i.groupBy||void 0,groupByTextProvider:null,smartButtonMaxItems:0,smartButtonTextConverter:angular.noop},n.texts={checkAll:"Check All",uncheckAll:"Uncheck All",selectionCount:"checked",selectionOf:"/",searchPlaceholder:"Search...",buttonDefaultText:"Select",dynamicButtonTextSuffix:"checked"},n.searchFilter=n.searchFilter||"",angular.isDefined(n.settings.groupBy)&&n.$watch("options",function(t){angular.isDefined(t)&&(n.orderedItems=e("orderBy")(t,n.settings.groupBy))}),angular.extend(n.settings,n.extraSettings||[]),angular.extend(n.externalEvents,n.events||[]),angular.extend(n.texts,n.translationTexts),n.singleSelection=1===n.settings.selectionLimit,n.singleSelection&&angular.isArray(n.selectedModel)&&0===n.selectedModel.length&&o(n.selectedModel),n.settings.closeOnBlur&&t.on("click",function(e){for(var t=e.target.parentElement,r=!1;angular.isDefined(t)&&null!==t&&!r;)_.contains(t.className.split(" "),"multiselect-parent")&&!r&&t===s&&(r=!0),t=t.parentElement;r||n.$apply(function(){n.open=!1})}),n.getGroupTitle=function(e){return null!==n.settings.groupByTextProvider?n.settings.groupByTextProvider(e):e},n.getButtonText=function(){if(n.settings.dynamicTitle&&(n.selectedModel.length>0||angular.isObject(n.selectedModel)&&_.keys(n.selectedModel).length>0)){if(n.settings.smartButtonMaxItems>0){var e=[];return angular.forEach(n.options,function(t){if(n.isChecked(n.getPropertyForObject(t,n.settings.idProp))){var r=n.getPropertyForObject(t,n.settings.displayProp),i=n.settings.smartButtonTextConverter(r,t);e.push(i?i:r)}}),n.selectedModel.length>n.settings.smartButtonMaxItems&&(e=e.slice(0,n.settings.smartButtonMaxItems),e.push("...")),e.join(", ")}var t;return t=n.singleSelection?null!==n.selectedModel&&angular.isDefined(n.selectedModel[n.settings.idProp])?1:0:angular.isDefined(n.selectedModel)?n.selectedModel.length:0,0===t?n.texts.buttonDefaultText:t+" "+n.texts.dynamicButtonTextSuffix}return n.texts.buttonDefaultText},n.getPropertyForObject=function(e,t){return angular.isDefined(e)&&e.hasOwnProperty(t)?e[t]:""},n.selectAll=function(){n.deselectAll(!1),n.externalEvents.onSelectAll(),angular.forEach(n.options,function(e){n.setSelectedItem(e[n.settings.idProp],!0)})},n.deselectAll=function(e){e=e||!0,e&&n.externalEvents.onDeselectAll(),n.singleSelection?o(n.selectedModel):n.selectedModel.splice(0,n.selectedModel.length)},n.setSelectedItem=function(e,t){var r=a(e),i=null;if(i=""===n.settings.externalIdProp?_.find(n.options,r):r,n.singleSelection)return o(n.selectedModel),angular.extend(n.selectedModel,i),void n.externalEvents.onItemSelect(i);t=t||!1;var s=-1!==_.findIndex(n.selectedModel,r);!t&&s?(n.selectedModel.splice(_.findIndex(n.selectedModel,r),1),n.externalEvents.onItemDeselect(r)):!s&&(0===n.settings.selectionLimit||n.selectedModel.length<n.settings.selectionLimit)&&(n.selectedModel.push(i),n.externalEvents.onItemSelect(i))},n.isChecked=function(e){return n.singleSelection?null!==n.selectedModel&&angular.isDefined(n.selectedModel[n.settings.idProp])&&n.selectedModel[n.settings.idProp]===a(e)[n.settings.idProp]:-1!==_.findIndex(n.selectedModel,a(e))},n.externalEvents.onInitDone()}}}]),function(){function e(e,t,n){function r(r,c){var f=c.dirPaginate,d=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),p=/\|\s*itemsPerPage\s*:[^|\)]*/;if(null===d[2].match(p))throw"pagination directive: the 'itemsPerPage' filter must be set.";var h=d[2].replace(p,""),g=t(h);o(r);var m=c.paginationId||l;return n.registerInstance(m),function(r,o,c){var d=t(c.paginationId)(r)||c.paginationId||l;n.registerInstance(d);var p=i(f,d);a(o,c,p),s(o);var h=e(o),m=u(r,c,d);n.setCurrentPageParser(d,m,r),"undefined"!=typeof c.totalItems?(n.setAsyncModeTrue(d),r.$watch(function(){return t(c.totalItems)(r)},function(e){e>=0&&n.setCollectionLength(d,e)})):r.$watchCollection(function(){return g(r)},function(e){e&&n.setCollectionLength(d,e.length)}),h(r)}}function i(e,t){var n,r=!!e.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return n=t===l||r?e:e.replace(/(\|\s*itemsPerPage\s*:[^|]*)/,"$1 : '"+t+"'")}function a(e,t,n){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(t.$set("ngRepeatStart",n),e.eq(e.length-1).attr("ng-repeat-end",!0)):t.$set("ngRepeat",n)}function o(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)})}function s(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function u(e,n,r){var i;if(n.currentPage)i=t(n.currentPage);else{var a=r+"__currentPage";e[a]=1,i=t(a)}return i}return{terminal:!0,multiElement:!0,compile:r}}function t(){return{priority:5e3,terminal:!0}}function n(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}function r(e,t){function n(t,n,i){function o(n){e.isRegistered(d)&&c(n)&&(t.pages=r(n,e.getCollectionLength(d),e.getItemsPerPage(d),h),t.pagination.current=n,u(),t.onPageChange&&t.onPageChange({newPageNumber:n}))}function s(){if(e.isRegistered(d)){var n=parseInt(e.getCurrentPage(d))||1;t.pages=r(n,e.getCollectionLength(d),e.getItemsPerPage(d),h),t.pagination.current=n,t.pagination.last=t.pages[t.pages.length-1],t.pagination.last<t.pagination.current?t.setCurrent(t.pagination.last):u()}}function u(){if(e.isRegistered(d)){var n=e.getCurrentPage(d),r=e.getItemsPerPage(d),i=e.getCollectionLength(d);t.range.lower=(n-1)*r+1,t.range.upper=Math.min(n*r,i),t.range.total=i}}function c(e){return a.test(e)&&e>0&&e<=t.pagination.last}var f=i.paginationId||l,d=t.paginationId||i.paginationId||l;if(!e.isRegistered(d)&&!e.isRegistered(f)){var p=d!==l?" (id: "+d+") ":" ";console.warn("Pagination directive: the pagination controls"+p+"cannot be used without the corresponding pagination directive, which was not found at link time.")}t.maxSize||(t.maxSize=9),t.autoHide=void 0===t.autoHide?!0:t.autoHide,t.directionLinks=angular.isDefined(i.directionLinks)?t.$parent.$eval(i.directionLinks):!0,t.boundaryLinks=angular.isDefined(i.boundaryLinks)?t.$parent.$eval(i.boundaryLinks):!1;var h=Math.max(t.maxSize,5);t.pages=[],t.pagination={last:1,current:1},t.range={lower:1,upper:1,total:1},t.$watch(function(){return e.isRegistered(d)?(e.getCollectionLength(d)+1)*e.getItemsPerPage(d):void 0},function(e){e>0&&s()}),t.$watch(function(){return e.isRegistered(d)?e.getItemsPerPage(d):void 0},function(e,n){e!=n&&"undefined"!=typeof n&&o(t.pagination.current)}),t.$watch(function(){return e.isRegistered(d)?e.getCurrentPage(d):void 0},function(e,t){e!=t&&o(e)}),t.setCurrent=function(t){e.isRegistered(d)&&c(t)&&(t=parseInt(t,10),e.setCurrentPage(d,t))},t.tracker=function(e,t){return e+"_"+t}}function r(e,t,n,r){var a,o=[],s=Math.ceil(t/n),u=Math.ceil(r/2);a=u>=e?"start":e>s-u?"end":"middle";for(var l=s>r,c=1;s>=c&&r>=c;){var f=i(c,e,r,s),d=2===c&&("middle"===a||"end"===a),p=c===r-1&&("middle"===a||"start"===a);o.push(l&&(d||p)?"...":f),c++}return o}function i(e,t,n,r){var i=Math.ceil(n/2);return e===n?r:1===e?e:r>n?t>r-i?r-n+e:t>i?t-i+e:e:e}var a=/^\d+$/;return{restrict:"AE",templateUrl:function(e,n){return n.templateUrl||t.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:n}}function i(e){return function(t,n,r){if("undefined"==typeof r&&(r=l),!e.isRegistered(r))throw"pagination directive: the itemsPerPage id argument (id: "+r+") does not match a registered pagination-id.";var i,a;return t instanceof Array?(n=parseInt(n)||9999999999,a=e.isAsyncMode(r)?0:(e.getCurrentPage(r)-1)*n,i=a+n,e.setItemsPerPage(r,n),t.slice(a,i)):t}}function a(){var e,t={};this.registerInstance=function(n){"undefined"==typeof t[n]&&(t[n]={asyncMode:!1},e=n)},this.isRegistered=function(e){return"undefined"!=typeof t[e]},this.getLastInstanceId=function(){return e},this.setCurrentPageParser=function(e,n,r){t[e].currentPageParser=n,t[e].context=r},this.setCurrentPage=function(e,n){t[e].currentPageParser.assign(t[e].context,n)},this.getCurrentPage=function(e){var n=t[e].currentPageParser;return n?n(t[e].context):1},this.setItemsPerPage=function(e,n){t[e].itemsPerPage=n},this.getItemsPerPage=function(e){return t[e].itemsPerPage},this.setCollectionLength=function(e,n){t[e].collectionLength=n},this.getCollectionLength=function(e){return t[e].collectionLength},this.setAsyncModeTrue=function(e){t[e].asyncMode=!0},this.isAsyncMode=function(e){return t[e].asyncMode}}function o(){var e="angularUtils.directives.dirPagination.template";this.setPath=function(t){e=t},this.$get=function(){return{getPath:function(){return e}}}}var s,u="angularUtils.directives.dirPagination",l="__default";try{s=angular.module(u)}catch(c){s=angular.module(u,[])}s.directive("dirPaginate",["$compile","$parse","paginationService",e]).directive("dirPaginateNoCompile",t).directive("dirPaginationControls",["paginationService","paginationTemplate",r]).filter("itemsPerPage",["paginationService",i]).service("paginationService",a).provider("paginationTemplate",o).run(["$templateCache",n])}(),!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(r){}}if(window.FileAPI||(window.FileAPI={}),FileAPI.shouldLoad=window.XMLHttpRequest&&!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,r,i){n(this),this.__url=r;try{e.apply(this,[t,r,i])}catch(a){a.message.indexOf("Access is denied")>-1&&(this.__origError=a,e.apply(this,[t,"_fix_for_ie_crossdomain__",i]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,r){if("__setXHR_"===t){n(this);var i=r(this);i instanceof Function&&i(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=r,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var r=arguments[0],i={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",function(){return 0===r.status&&e&&"abort"!==e?500:r.status}),void 0!==r.statusText&&t(n,"statusText",function(){return r.statusText}),t(n,"readyState",function(){return 4}),void 0!==r.response&&t(n,"response",function(){return r.response});var i=r.responseText||(e&&0===r.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return i}),t(n,"response",function(){return i}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};i.data={},i.files={};for(var a=0;a<r.data.length;a++){var o=r.data[a];null!=o.val&&null!=o.val.name&&null!=o.val.size&&null!=o.val.type?i.files[o.key]=o.val:i.data[o.key]=o.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(i)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var r,i,a,o,s,u=document.createElement("script"),l=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)r=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)i=window.FileAPI.jsPath;else for(a=0;a<l.length;a++)if(s=l[a].src,o=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),o>-1){i=s.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=i),u.setAttribute("src",r||i+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(u),FileAPI.hasFlash=t()}FileAPI.ngfFixIE=function(r,i,a,o){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var s=function(){if(r.attr("disabled"))r.$$ngfRefElem.removeClass("js-fileapi-wrapper");else{var t=r.$$ngfRefElem;t?a(r.$$ngfRefElem):(t=r.$$ngfRefElem=i(),t.addClass("js-fileapi-wrapper"),!e(r),setTimeout(function(){t.bind("mouseenter",s)},10),t.bind("change",function(e){u.apply(this,[e]),o.apply(this,[e])})),e(r)||t.css("position","absolute").css("top",n(r[0]).top+"px").css("left",n(r[0]).left+"px").css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",r.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible")}};r.bind("mouseenter",s);var u=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;r<n.length;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r)));var i;"load"===r.type?(e.onloadend&&e.onloadend(n("loadend",r)),i=n("load",r),e.onload&&e.onload(i),e.dispatchEvent(i)):"progress"===r.type?(i=n("progress",r),e.onprogress&&e.onprogress(i),e.dispatchEvent(i)):(i=n("error",r),e.onerror&&e.onerror(i),e.dispatchEvent(i))};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,r)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,r)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="5.0.9",ngFileUpload.service("Upload",["$http","$q","$timeout",function(e,t,n){function r(r){r.method=r.method||"POST",r.headers=r.headers||{};var i=t.defer(),a=i.promise;return r.headers.__setXHR_=function(){return function(e){e&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i.notify?i.notify(e):a.progressFunc&&n(function(){a.progressFunc(e)})},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i.notify?i.notify(e):a.progressFunc&&n(function(){a.progressFunc(e)}))},!1))}},e(r).then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.notify(e)}),a.success=function(e){return a.then(function(t){e(t.data,t.status,t.headers,r)}),a},a.error=function(e){return a.then(null,function(t){e(t.data,t.status,t.headers,r)}),a},a.progress=function(e){return a.progressFunc=e,a.then(null,null,function(t){e(t)}),a},a.abort=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),a},a.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(a,arguments),e.apply(a,arguments)}}(r.xhrFn),a},a}this.upload=function(e){function t(n,r,i){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))n.append(i,r);else if("form"===e.sendFieldsAs)if(angular.isObject(r))for(var a in r)r.hasOwnProperty(a)&&t(n,r[a],i+"["+a+"]");else n.append(i,r);else r=angular.isString(r)?r:JSON.stringify(r),"json-blob"===e.sendFieldsAs?n.append(i,new Blob([r],{type:"application/json"})):n.append(i,r)}return e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(n){var r,i=new FormData,a={};for(r in e.fields)e.fields.hasOwnProperty(r)&&(a[r]=e.fields[r]);n&&(a.data=n);for(r in a)if(a.hasOwnProperty(r)){var o=a[r];e.formDataAppender?e.formDataAppender(i,r,o):t(i,o,r)}if(null!=e.file){var s=e.fileFormDataName||"file";if(angular.isArray(e.file))for(var u=angular.isString(s),l=0;l<e.file.length;l++)i.append(u?s:s[l],e.file[l],e.fileName&&e.fileName[l]||e.file[l].name);else i.append(s,e.file,e.fileName||e.file.name)}return i}),r(e)},this.http=function(t){return t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof Blob?t:e.defaults.transformRequest[0](arguments)},r(t)}}]),function(){function e(e,i,a,o,s,u,l){function c(){return"input"===i[0].tagName.toLowerCase()&&a.type&&"file"===a.type.toLowerCase()}function f(t){if(!v){v=!0;try{for(var i=t.__files_||t.target&&t.target.files,l=[],c=[],f=0;f<i.length;f++){var d=i.item(f);n(e,s,a,d,t)?l.push(d):c.push(d)}r(s,u,e,o,a,a.ngfChange||a.ngfSelect,l,c,t),0===l.length&&(t.target.value=l)}finally{v=!1}}}function d(t){a.ngfMultiple&&t.attr("multiple",s(a.ngfMultiple)(e)),a.ngfCapture&&t.attr("capture",s(a.ngfCapture)(e)),a.accept&&t.attr("accept",a.accept);for(var n=0;n<i[0].attributes.length;n++){var r=i[0].attributes[n];(c()&&"type"!==r.name||"type"!==r.name&&"class"!==r.name&&"id"!==r.name&&"style"!==r.name)&&t.attr(r.name,r.value)}}function p(t,n){if(!n&&(t||c()))return i.$$ngfRefElem||i;var r=angular.element('<input type="file">');return d(r),c()?(i.replaceWith(r),i=r,r.attr("__ngf_gen__",!0),l(i)(e)):(r.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("z-index","-100000").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),i.$$ngfRefElem&&i.$$ngfRefElem.remove(),i.$$ngfRefElem=r,document.body.appendChild(r[0])),r}function h(t){r(s,u,e,o,a,a.ngfChange||a.ngfSelect,[],[],t,!0)}function g(n){function r(e){e&&u[0].click(),(c()||!e)&&i.bind("click touchend",g)}if(i.attr("disabled")||m)return!1;null!=n&&(n.preventDefault(),n.stopPropagation());var o=s(a.ngfResetOnClick)(e)!==!1,u=p(n,o);return u&&((!n||o)&&u.bind("change",f),n&&o&&s(a.ngfResetModelOnClick)(e)!==!1&&h(n),t(navigator.userAgent)?setTimeout(function(){r(n)},0):r(n)),!1}if(!i.attr("__ngf_gen__")){e.$on("$destroy",function(){i.$$ngfRefElem&&i.$$ngfRefElem.remove()});var m=!1;-1===a.ngfSelect.search(/\W+$files\W+/)&&e.$watch(a.ngfSelect,function(e){m=e===!1});var v=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(i,p,d,f):g()}}function t(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);return t&&t.length>2?parseInt(t[1])<4||4===parseInt(t[1])&&parseInt(t[2])<4:/.*Windows.*Safari.*/.test(e)}ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile",function(t,n,r){return{restrict:"AEC",require:"?ngModel",link:function(i,a,o,s){e(i,a,o,s,t,n,r)}}}]),ngFileUpload.validate=function(e,t,n,r,i){function a(e){if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])return e.substring(1,e.length-1);var t=e.split(","),n="";if(t.length>1)for(var r=0;r<t.length;r++)n+="("+a(t[r])+")",r<t.length-1&&(n+="|");else 0===e.indexOf(".")&&(e="*"+e),n="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",n=n.replace(/\\\*/g,".*").replace(/\\\?/g,".");return n}var o=t(n.ngfAccept)(e,{$file:r,$event:i}),s=t(n.ngfMaxSize)(e,{$file:r,$event:i})||9007199254740991,u=t(n.ngfMinSize)(e,{$file:r,$event:i})||-1;if(null!=o&&angular.isString(o)){var l=new RegExp(a(o),"gi");o=null!=r.type&&l.test(r.type.toLowerCase())||null!=r.name&&l.test(r.name.toLowerCase())}return(null==o||o)&&(null==r.size||r.size<s&&r.size>u)},ngFileUpload.updateModel=function(e,t,n,r,i,a,o,s,u,l){function c(){if(e(i.ngfKeep)(n)===!0){var l=(r.$modelValue||[]).slice(0);if(o&&o.length)if(e(i.ngfKeepDistinct)(n)===!0){for(var c=l.length,f=0;f<o.length;f++){for(var d=0;c>d&&o[f].name!==l[d].name;d++);d===c&&l.push(o[f])}o=l}else o=l.concat(o);else o=l}r&&(e(i.ngModel).assign(n,o),t(function(){r&&r.$setViewValue(null!=o&&0===o.length?null:o)})),i.ngModelRejected&&e(i.ngModelRejected).assign(n,s),a&&e(a)(n,{$files:o,$rejectedFiles:s,$event:u})}l?c():t(function(){c()})};var n=ngFileUpload.validate,r=ngFileUpload.updateModel}(),function(){function e(e,i,a,o,s,u,l){function c(e,t,r){var i=!0,a=r.dataTransfer.items;if(null!=a)for(var o=0;o<a.length&&i;o++)i=i&&("file"===a[o].kind||""===a[o].kind)&&n(e,s,t,a[o],r);var u=s(t.ngfDragOverClass)(e,{$event:r});return u&&(u.delay&&(v=u.delay),u.accept&&(u=i?u.accept:u.reject)),u||t.ngfDragOverClass||"dragover"}function f(t,r,i,o){function c(r){n(e,s,a,r,t)?d.push(r):p.push(r)}function f(e,t,n){if(null!=t)if(t.isDirectory){var r=(n||"")+t.name;c({name:t.name,type:"directory",path:r});var i=t.createReader(),a=[];g++;var o=function(){i.readEntries(function(r){try{if(r.length)a=a.concat(Array.prototype.slice.call(r||[],0)),o();else{for(var i=0;i<a.length;i++)f(e,a[i],(n?n:"")+t.name+"/");g--}}catch(s){g--,console.error(s)}},function(){g--})};o()}else g++,t.file(function(e){try{g--,e.path=(n?n:"")+e.name,c(e)}catch(t){g--,console.error(t)}},function(){g--})}var d=[],p=[],h=t.dataTransfer.items,g=0;if(h&&h.length>0&&"file"!==l.protocol())for(var m=0;m<h.length;m++){if(h[m].webkitGetAsEntry&&h[m].webkitGetAsEntry()&&h[m].webkitGetAsEntry().isDirectory){var v=h[m].webkitGetAsEntry();if(v.isDirectory&&!i)continue;null!=v&&f(d,v)}else{var $=h[m].getAsFile();null!=$&&c($)}if(!o&&d.length>0)break}else{var y=t.dataTransfer.files;if(null!=y)for(var b=0;b<y.length&&(c(y.item(b)),o||!(d.length>0));b++);}var _=0;!function w(e){u(function(){if(g)10*_++<2e4&&w(10);else{if(!o&&d.length>1){for(m=0;"directory"===d[m].type;)m++;d=[d[m]]}r(d,p)}},e||0)}()}var d=t();if(a.dropAvailable&&u(function(){e[a.dropAvailable]?e[a.dropAvailable].value=d:e[a.dropAvailable]=d}),!d)return void(s(a.ngfHideOnDropNotAvailable)(e)===!0&&i.css("display","none"));var p=!1;-1===a.ngfDrop.search(/\W+$files\W+/)&&e.$watch(a.ngfDrop,function(e){p=e===!1});var h,g=null,m=s(a.ngfStopPropagation),v=1;i[0].addEventListener("dragover",function(t){if(!i.attr("disabled")&&!p){if(t.preventDefault(),m(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var n=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy"}u.cancel(g),e.actualDragOverClass||(h=c(e,a,t)),i.addClass(h)}},!1),i[0].addEventListener("dragenter",function(t){i.attr("disabled")||p||(t.preventDefault(),m(e)&&t.stopPropagation())},!1),i[0].addEventListener("dragleave",function(){i.attr("disabled")||p||(g=u(function(){i.removeClass(h),h=null},v||1))},!1),i[0].addEventListener("drop",function(t){i.attr("disabled")||p||(t.preventDefault(),m(e)&&t.stopPropagation(),i.removeClass(h),h=null,f(t,function(n,i){r(s,u,e,o,a,a.ngfChange||a.ngfDrop,n,i,t)},s(a.ngfAllowDir)(e)!==!1,a.multiple||s(a.ngfMultiple)(e)))},!1)}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e}var n=ngFileUpload.validate,r=ngFileUpload.updateModel;ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location",function(t,n,r){return{restrict:"AEC",require:"?ngModel",link:function(i,a,o,s){e(i,a,o,s,t,n,r)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout",function(e,n){return function(r,i,a){if(t()){var o=e(a.ngfDropAvailable);n(function(){o(r),o.assign&&o.assign(r,!0)})}}}]),ngFileUpload.directive("ngfSrc",["$parse","$timeout",function(e,t){return{restrict:"AE",link:function(r,i,a){window.FileReader&&r.$watch(a.ngfSrc,function(o){o&&n(r,e,a,o,null)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||o.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||o.size<4e6)?t(function(){var e=window.URL||window.webkitURL;if(e&&e.createObjectURL)i.attr("src",e.createObjectURL(o));else{var n=new FileReader;n.readAsDataURL(o),n.onload=function(e){t(function(){i.attr("src",e.target.result)})}}}):i.attr("src",a.ngfDefaultSrc||"")})}}}])}(),!function(e,t,n){"use strict";t.module("ui.sortable",[]).value("uiSortableConfig",{}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(e,r,i){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(a,o,s,u){function l(e,t){return t&&"function"==typeof t?function(){e.apply(this,arguments),t.apply(this,arguments)}:e}function c(e){var t=e.data("ui-sortable");return t&&"object"==typeof t&&"ui-sortable"===t.widgetFullName?t:null}function f(e,t){var n=e.sortable("option","helper");return"clone"===n||"function"==typeof n&&t.item.sortable.isCustomHelperUsed()}function d(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}function p(e,t){for(var n=null,r=0;r<e.length;r++){var i=e[r];if(i.element[0]===t[0]){n=i.scope;break}}return n}function h(e,t){t.item.sortable._destroy()}var g,m={},v={"ui-floating":n},$={receive:null,remove:null,start:null,stop:null,update:null},y={helper:null};return t.extend(m,v,e,a.uiSortable),t.element.fn&&t.element.fn.jquery?(u?(a.$watch("ngModel.length",function(){r(function(){c(o)&&o.sortable("refresh")},0,!1)}),$.start=function(e,r){if("auto"===m["ui-floating"]){var i=r.item.siblings(),a=c(t.element(e.target));a.floating=d(i)}r.item.sortable={model:u.$modelValue[r.item.index()],index:r.item.index(),source:r.item.parent(),sourceModel:u.$modelValue,cancel:function(){r.item.sortable._isCanceled=!0},isCanceled:function(){return r.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!r.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:r.item.sortable._isCustomHelperUsed,_destroy:function(){t.forEach(r.item.sortable,function(e,t){r.item.sortable[t]=n})}}},$.activate=function(e,n){g=o.contents();var r=o.sortable("option","placeholder");if(r&&r.element&&"function"==typeof r.element){var i=r.element();i=t.element(i);var s=o.find('[class="'+i.attr("class")+'"]:not([ng-repeat], [data-ng-repeat])');g=g.not(s)}var u=n.item.sortable._connectedSortables||[];u.push({element:o,scope:a}),n.item.sortable._connectedSortables=u},$.update=function(e,t){if(!t.item.sortable.received){t.item.sortable.dropindex=t.item.index();var n=t.item.parent();t.item.sortable.droptarget=n;var r=p(t.item.sortable._connectedSortables,n);t.item.sortable.droptargetModel=r.ngModel,o.sortable("cancel")}f(o,t)&&!t.item.sortable.received&&"parent"===o.sortable("option","appendTo")&&(g=g.not(g.last())),g.appendTo(o),t.item.sortable.received&&(g=null),t.item.sortable.received&&!t.item.sortable.isCanceled()&&a.$apply(function(){u.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},$.stop=function(e,t){!t.item.sortable.received&&"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()?a.$apply(function(){u.$modelValue.splice(t.item.sortable.dropindex,0,u.$modelValue.splice(t.item.sortable.index,1)[0])}):"dropindex"in t.item.sortable&&!t.item.sortable.isCanceled()||f(o,t)||g.appendTo(o),g=null},$.receive=function(e,t){
t.item.sortable.received=!0},$.remove=function(e,t){"dropindex"in t.item.sortable||(o.sortable("cancel"),t.item.sortable.cancel()),t.item.sortable.isCanceled()||a.$apply(function(){t.item.sortable.moved=u.$modelValue.splice(t.item.sortable.index,1)[0]})},y.helper=function(e){return e&&"function"==typeof e?function(t,n){var r=e.apply(this,arguments);return n.sortable._isCustomHelperUsed=n!==r,r}:e},a.$watch("uiSortable",function(e){var n=c(o);n&&t.forEach(e,function(e,t){return t in v?("ui-floating"!==t||e!==!1&&e!==!0||(n.floating=e),void(m[t]=e)):($[t]?("stop"===t&&(e=l(e,function(){a.$apply()}),e=l(e,h)),e=l($[t],e)):y[t]&&(e=y[t](e)),m[t]=e,void o.sortable("option",t,e))})},!0),t.forEach($,function(e,t){m[t]=l(e,m[t]),"stop"===t&&(m[t]=l(m[t],h))})):i.info("ui.sortable: ngModel not provided!",o),void o.sortable(m)):void i.error("ui.sortable: jQuery should be included before AngularJS!")}}}])}(window,window.angular),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),r=function(){var r=e.preferredLanguage();angular.isString(r)?e.use(r):n.put(t,e.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t))["catch"](r):r():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n=null,r=!1,i=!1;t={sanitize:function(e,t){return"text"===t&&(e=o(e)),e},escape:function(e,t){return"text"===t&&(e=a(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=s(e,o)),e},escapeParameters:function(e,t){return"params"===t&&(e=s(e,a)),e}},t.escaped=t.escapeParameters,this.addStrategy=function(e,n){return t[e]=n,this},this.removeStrategy=function(e){return delete t[e],this},this.useStrategy=function(e){return r=!0,n=e,this},this.$get=["$injector","$log",function(a,o){var s={},u=function(e,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))e=r(e,n);else if(angular.isFunction(t[r]))e=t[r](e,n);else{if(!angular.isString(t[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!s[t[r]])try{s[t[r]]=a.get(t[r])}catch(i){throw s[t[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}e=s[t[r]](e,n)}}),e},l=function(){r||i||(o.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),i=!0)};return a.has("$sanitize")&&(e=a.get("$sanitize")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,r){if(n||l(),arguments.length<3&&(r=n),!r)return e;var i=angular.isArray(r)?r:[r];return u(e,t,i)}}}];var a=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},o=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},s=function(e,t,n){if(angular.isObject(e)){var r=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,i){r[i]=s(e,t,n)}),n.splice(-1,1),r}return angular.isNumber(e)?e:t(e)}}function n(e,t,n,r){"use strict";var i,a,o,s,u,l,c,f,d,p,h,g,m,v,$,y={},b=[],_=e,w=[],x="translate-cloak",C=!1,E=!1,S=".",A=!1,k=0,T=!0,O="default",N={"default":function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t}},I="2.10.0",P=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var e,n,i=t.$get().navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(e=0;e<i.languages.length;e++)if(n=i.languages[e],n&&n.length)return n;for(e=0;e<a.length;e++)if(n=i[a[e]],n&&n.length)return n;return null};P.displayName="angular-translate/service: getFirstBrowserLanguage";var M=function(){var e=P()||"";return N[O]&&(e=N[O](e)),e};M.displayName="angular-translate/service: getLocale";var j=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},L=function(){return this.toString().replace(/^\s+|\s+$/g,"")},R=function(e){if(e){for(var t=[],n=angular.lowercase(e),r=0,i=b.length;i>r;r++)t.push(angular.lowercase(b[r]));if(j(t,n)>-1)return e;if(a){var o;for(var s in a){var u=!1,l=Object.prototype.hasOwnProperty.call(a,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(u=s.slice(0,-1)===e.slice(0,s.length-1)),(l||u)&&(o=a[s],j(t,angular.lowercase(o))>-1))return o}}var c=e.split("_");return c.length>1&&j(t,angular.lowercase(c[0]))>-1?c[0]:void 0}},D=function(e,t){if(!e&&!t)return y;if(e&&!t){if(angular.isString(e))return y[e]}else angular.isObject(y[e])||(y[e]={}),angular.extend(y[e],F(t));return this};this.translations=D,this.cloakClassName=function(e){return e?(x=e,this):x},this.nestedObjectDelimeter=function(e){return e?(S=e,this):S};var F=function(e,t,n,r){var i,a,o,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?F(s,t.concat(i),n,i):(a=t.length?""+t.join(S)+S+i:i,t.length&&i===r&&(o=""+t.join(S),n[o]="@:"+a),n[a]=s));return n};F.displayName="flatObject",this.addInterpolation=function(e){return w.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return p=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(U(e),this):i};var U=function(e){return e&&(i=e),i};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(m=e,this):m},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return H(e),this};var H=function(e){return e?(angular.isString(e)?(s=!0,o=[e]):angular.isArray(e)&&(s=!1,o=e),angular.isString(i)&&j(o,i)<0&&o.push(i),this):s?o[0]:o};this.use=function(e){if(e){if(!y[e]&&!h)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return u=e,this}return u};var V=function(e){return e?(_=e,this):f?f+_:_};this.storageKey=V,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return h=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return c=e,this},this.storagePrefix=function(e){return e?(f=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return d=e,this},this.usePostCompiling=function(e){return C=!!e,this},this.forceAsyncReload=function(e){return E=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},O=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():M();return i=b.length?R(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(b=e,t&&(a=t),this):b},this.useLoaderCache=function(e){return e===!1?$=void 0:e===!0?$=!0:"undefined"==typeof e?$="$translationCache":e&&($=e),this},this.directivePriority=function(e){return void 0===e?k:(k=e,this)},this.statefulFilter=function(e){return void 0===e?T:(T=e,this)},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,r){var a,f,b,O=t.get(p||"$translateDefaultInterpolation"),N=!1,P={},M={},z=function(e,t,n,s,l){var d=l&&l!==u?R(l)||l:u;if(angular.isArray(e)){var p=function(e){for(var i={},a=[],o=function(e){var a=r.defer(),o=function(t){i[e]=t,a.resolve([e,t])};return z(e,t,n,s,l).then(o,o),a.promise},u=0,c=e.length;c>u;u++)a.push(o(e[u]));return r.all(a).then(function(){return i})};return p(e)}var h=r.defer();e&&(e=L.apply(e));var g=function(){var e=i?M[i]:M[d];if(f=0,c&&!e){var t=a.get(_);if(e=M[t],o&&o.length){var n=j(o,t);f=0===n?1:0,j(o,i)<0&&o.push(i)}}return e}();if(g){var m=function(){l||(d=u),ne(e,t,n,s,d).then(h.resolve,h.reject)};m.displayName="promiseResolved",g["finally"](m)}else ne(e,t,n,s,d).then(h.resolve,h.reject);return h.promise},q=function(e){return m&&(e=[m,e].join(" ")),v&&(e=[e,v].join(" ")),e},B=function(e){u=e,c&&a.put(z.storageKey(),u),n.$emit("$translateChangeSuccess",{language:e}),O.setLocale(u);var t=function(e,t){P[t].setLocale(u)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(P,t),n.$emit("$translateChangeEnd",{language:e})},W=function(e){if(!e)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:e}),N=!0;var a=$;"string"==typeof a&&(a=t.get(a));var o=angular.extend({},g,{key:e,$http:angular.extend({},{cache:a},g.$http)}),s=function(t){var r={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(r,F(e))}):angular.extend(r,F(t)),N=!1,i.resolve({key:e,table:r}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var u=function(e){n.$emit("$translateLoadingError",{language:e}),i.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return u.displayName="onLoaderError",t.get(h)(o).then(s,u),i.promise};if(c&&(a=t.get(c),!a.get||!a.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(w.length){var G=function(e){var n=t.get(e);n.setLocale(i||u),P[n.getInterpolationIdentifier()]=n};G.displayName="interpolationFactoryAdder",angular.forEach(w,G)}var K=function(e){var t=r.defer();if(Object.prototype.hasOwnProperty.call(y,e))t.resolve(y[e]);else if(M[e]){var n=function(e){D(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",M[e].then(n,t.reject)}else t.reject();return t.promise},X=function(e,t,n,i){var a=r.defer(),o=function(r){if(Object.prototype.hasOwnProperty.call(r,t)){i.setLocale(e);var o=r[t];"@:"===o.substr(0,2)?X(e,o.substr(2),n,i).then(a.resolve,a.reject):a.resolve(i.interpolate(r[t],n)),i.setLocale(u)}else a.reject()};return o.displayName="fallbackTranslationResolver",K(e).then(o,a.reject),a.promise},Y=function(e,t,n,r){var i,a=y[e];if(a&&Object.prototype.hasOwnProperty.call(a,t)){if(r.setLocale(e),i=r.interpolate(a[t],n),"@:"===i.substr(0,2))return Y(e,i.substr(2),n,r);r.setLocale(u)}return i},J=function(e,n){if(d){var r=t.get(d)(e,u,n);return void 0!==r?r:e}return e},Z=function(e,t,n,i,a){var s=r.defer();if(e<o.length){var u=o[e];X(u,t,n,i).then(s.resolve,function(){Z(e+1,t,n,i,a).then(s.resolve)})}else s.resolve(a?a:J(t,n));return s.promise},Q=function(e,t,n,r){var i;if(e<o.length){var a=o[e];i=Y(a,t,n,r),i||(i=Q(e+1,t,n,r))}return i},ee=function(e,t,n,r){return Z(b>0?b:f,e,t,n,r)},te=function(e,t,n){return Q(b>0?b:f,e,t,n)},ne=function(e,t,n,i,a){var s=r.defer(),u=a?y[a]:y,l=n?P[n]:O;if(u&&Object.prototype.hasOwnProperty.call(u,e)){var c=u[e];"@:"===c.substr(0,2)?z(c.substr(2),t,n,i,a).then(s.resolve,s.reject):s.resolve(l.interpolate(c,t))}else{var f;d&&!N&&(f=J(e,t)),a&&o&&o.length?ee(e,t,l,i).then(function(e){s.resolve(e)},function(e){s.reject(q(e))}):d&&!N&&f?s.resolve(i?i:f):i?s.resolve(i):s.reject(q(e))}return s.promise},re=function(e,t,n,r){var i,a=r?y[r]:y,s=O;if(P&&Object.prototype.hasOwnProperty.call(P,n)&&(s=P[n]),a&&Object.prototype.hasOwnProperty.call(a,e)){var u=a[e];i="@:"===u.substr(0,2)?re(u.substr(2),t,n,r):s.interpolate(u,t)}else{var l;d&&!N&&(l=J(e,t)),r&&o&&o.length?(f=0,i=te(e,t,s)):i=d&&!N&&l?l:q(e)}return i},ie=function(e){l===e&&(l=void 0),M[e]=void 0};z.preferredLanguage=function(e){return e&&U(e),i},z.cloakClassName=function(){return x},z.nestedObjectDelimeter=function(){return S},z.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(H(e),h&&o&&o.length)for(var t=0,n=o.length;n>t;t++)M[o[t]]||(M[o[t]]=W(o[t]));z.use(z.use())}return s?o[0]:o},z.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=j(o,e);t>-1&&(b=t)}else b=0},z.proposedLanguage=function(){return l},z.storage=function(){return a},z.negotiateLocale=R,z.use=function(e){if(!e)return u;var t=r.defer();n.$emit("$translateChangeStart",{language:e});var i=R(e);return i&&(e=i),l=e,!E&&y[e]||!h||M[e]?M[e]?M[e].then(function(e){return l===e.key&&B(e.key),t.resolve(e.key),e},function(e){return!u&&o&&o.length>0?z.use(o[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),B(e)):(M[e]=W(e).then(function(n){return D(n.key,n.table),t.resolve(n.key),l===e&&B(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),r.reject(e)}),M[e]["finally"](function(){ie(e)})),t.promise},z.storageKey=function(){return V()},z.isPostCompilingEnabled=function(){return C},z.isForceAsyncReloadEnabled=function(){return E},z.refresh=function(e){function t(){a.resolve(),n.$emit("$translateRefreshEnd",{language:e})}function i(){a.reject(),n.$emit("$translateRefreshEnd",{language:e})}if(!h)throw new Error("Couldn't refresh translation table, no loader registered!");var a=r.defer();if(n.$emit("$translateRefreshStart",{language:e}),e)if(y[e]){var s=function(n){D(n.key,n.table),e===u&&B(u),t()};s.displayName="refreshPostProcessor",W(e).then(s,i)}else i();else{var l=[],c={};if(o&&o.length)for(var f=0,d=o.length;d>f;f++)l.push(W(o[f])),c[o[f]]=!0;u&&!c[u]&&l.push(W(u));var p=function(e){y={},angular.forEach(e,function(e){D(e.key,e.table)}),u&&B(u),t()};p.displayName="refreshPostProcessor",r.all(l).then(p,i)}return a.promise},z.instant=function(e,t,n,r){var a=r&&r!==u?R(r)||r:u;if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var s={},l=0,c=e.length;c>l;l++)s[e[l]]=z.instant(e[l],t,n,r);return s}if(angular.isString(e)&&e.length<1)return e;e&&(e=L.apply(e));var f,p=[];i&&p.push(i),a&&p.push(a),o&&o.length&&(p=p.concat(o));for(var h=0,g=p.length;g>h;h++){var $=p[h];if(y[$]&&"undefined"!=typeof y[$][e]&&(f=re(e,t,n,a)),"undefined"!=typeof f)break}return f||""===f||(m||v?f=q(e):(f=O.interpolate(e,t),d&&!N&&(f=J(e,t)))),f},z.versionInfo=function(){return I},z.loaderCache=function(){return $},z.directivePriority=function(){return k},z.statefulFilter=function(){return T},z.isReady=function(){return A};var ae=r.defer();ae.promise.then(function(){A=!0}),z.onReady=function(e){var t=r.defer();return angular.isFunction(e)&&t.promise.then(e),A?t.resolve():ae.promise.then(t.resolve),t.promise};var oe=n.$on("$translateReady",function(){ae.resolve(),oe(),oe=null}),se=n.$on("$translateChangeEnd",function(){ae.resolve(),se(),se=null});if(h){if(angular.equals(y,{})&&z.use()&&z.use(z.use()),o&&o.length)for(var ue=function(e){return D(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},le=0,ce=o.length;ce>le;le++){var fe=o[le];(E||!y[fe])&&(M[fe]=W(fe).then(ue))}}else n.$emit("$translateReady",{language:z.use()});return z}]}function r(e,t){"use strict";var n,r={},i="default";return r.setLocale=function(e){n=e},r.getInterpolationIdentifier=function(){return i},r.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},r.interpolate=function(n,r){r=r||{},r=t.sanitize(r,"params");var i=e(n)(r);return i=t.sanitize(i,"text")},r}function i(e,t,n,r,i,o){"use strict";var s=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(t,u){var l=u.translateValues?u.translateValues:void 0,c=u.translateInterpolation?u.translateInterpolation:void 0,f=t[0].outerHTML.match(/translate-value-+/i),d="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",p="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,h,g){t.interpolateParams={},t.preText="",t.postText="",t.translateNamespace=a(t);var m={},v=function(e,n,r){if(n.translateValues&&angular.extend(e,i(n.translateValues)(t.$parent)),f)for(var a in r)if(Object.prototype.hasOwnProperty.call(n,a)&&"translateValue"===a.substr(0,14)&&"translateValues"!==a){var o=angular.lowercase(a.substr(14,1))+a.substr(15);e[o]=r[a]}},$=function(e){if(angular.isFunction($._unwatchOld)&&($._unwatchOld(),$._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var r=s.apply(h.text()),i=r.match(d);if(angular.isArray(i)){t.preText=i[1],t.postText=i[3],m.translate=n(i[2])(t.$parent);var a=r.match(p);angular.isArray(a)&&a[2]&&a[2].length&&($._unwatchOld=t.$watch(a[2],function(e){m.translate=e,C()}))}else m.translate=r?r:void 0}else m.translate=e;C()},y=function(e){g.$observe(e,function(t){m[e]=t,C()})};v(t.interpolateParams,g,u);var b=!0;g.$observe("translate",function(e){"undefined"==typeof e?$(""):""===e&&b||(m.translate=e,C()),b=!1});for(var _ in g)g.hasOwnProperty(_)&&"translateAttr"===_.substr(0,13)&&y(_);if(g.$observe("translateDefault",function(e){t.defaultText=e,C()}),l&&g.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,i(e)(t.$parent))})}),f){var w=function(e){g.$observe(e,function(n){var r=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[r]=n})};for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&w(x)}var C=function(){for(var e in m)m.hasOwnProperty(e)&&void 0!==m[e]&&E(e,m[e],t,t.interpolateParams,t.defaultText,t.translateNamespace)},E=function(t,n,r,i,a,o){n?(o&&"."===n.charAt(0)&&(n=o+n),e(n,i,c,a,r.translateLanguage).then(function(e){S(e,r,!0,t)},function(e){S(e,r,!1,t)})):S(n,r,!1,t)},S=function(t,n,i,a){if("translate"===a){i||"undefined"==typeof n.defaultText||(t=n.defaultText),h.empty().append(n.preText+t+n.postText);var o=e.isPostCompilingEnabled(),s="undefined"!=typeof u.translateCompile,l=s&&"false"!==u.translateCompile;(o&&!s||l)&&r(h.contents())(n)}else{i||"undefined"==typeof n.defaultText||(t=n.defaultText);var c=g.$attr[a];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),h.attr(c,t)}};(l||f||g.translateDefault)&&t.$watch("interpolateParams",C,!0),t.$watch("translateLanguage",C);var A=o.$on("$translateChangeSuccess",C);h.text().length?$(g.translate?g.translate:""):g.translate&&$(g.translate),C(),t.$on("$destroy",A)}}}}function a(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?a(e.$parent):void 0}function o(e,t){"use strict";return{compile:function(n){var r=function(){n.addClass(e.cloakClassName())},i=function(){n.removeClass(e.cloakClassName())};return e.onReady(function(){i()}),r(),function(n,a,o){o.translateCloak&&o.translateCloak.length&&(o.$observe("translateCloak",function(t){e(t).then(i,r)}),t.$on("$translateChangeSuccess",function(){e(o.translateCloak).then(i,r)}))}}}}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=a(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function a(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?a(e.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t})}}}}function l(e,t){"use strict";var n=function(n,r,i,a){return angular.isObject(r)||(r=e(r)(this)),t.instant(n,r,i,a)};return t.statefulFilter()&&(n.$stateful=!0),n}function c(e){"use strict";return e("translations")}return angular.module("pascalprecht.translate",["ng"]).run(e),e.$inject=["$translate"],e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.$inject=["$interpolate","$translateSanitization"],r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.$inject=["$translate","$rootScope"],o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",s),s.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",l),l.$inject=["$parse","$translate"],l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",c),c.$inject=["$cacheFactory"],c.displayName="$translationCache","pascalprecht.translate"}),!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(this,function(){function e(e,t){"use strict";return function(n){if(!n||!(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return t(angular.extend({url:[r.prefix,n.key,r.suffix].join(""),method:"GET",params:""},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})},i=[],a=n.files.length,o=0;a>o;o++)i.push(r({prefix:n.files[o].prefix,key:n.key,suffix:n.files[o].suffix}));return e.all(i).then(function(e){for(var t=e.length,n={},r=0;t>r;r++)for(var i in e[r])n[i]=e[r][i];return n})}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.$inject=["$q","$http"],e.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),angular.module("app",["ngRoute","ngResource","ngSanitize","angularjs-dropdown-multiselect","angularUtils.directives.dirPagination","ngFileUpload","ui.sortable","pascalprecht.translate"]).config(["$routeProvider","$locationProvider","$resourceProvider",function(e,t,n){e.otherwise({redirectTo:"/"})}]),function(){"use strict";angular.module("app").config(["$routeProvider","$locationProvider","$resourceProvider",function(e,t,n){e.when("/",{templateUrl:"/js/app/home/home.html",controller:"HomeController",resolve:{data:["userAuthService",function(e){return e.checkUser()}]}}).when("/create",{templateUrl:"/js/app/create/create.html",controller:"CreateController",resolve:{data:["userAuthService",function(e){return e.checkUser({error_location:"/login"})}]}}).when("/dashboard",{templateUrl:"/js/app/dashboard/dashboard.html",controller:"DashboardController",resolve:{data:["userAuthService",function(e){return e.checkUser({error_location:"/login"})}]}}).when("/edit/:id",{templateUrl:"/js/app/edit/edit.html",controller:"EditController",resolve:{data:["userAuthService",function(e){return e.checkUser({error_location:"/login"})}]}}).when("/edit-details/:id",{templateUrl:"/js/app/edit-details/edit-details.html",controller:"EditDetailsController",resolve:{data:["userAuthService",function(e){return e.checkUser({error_location:"/login"})}]}}).when("/login",{templateUrl:"/js/app/login/login.html",controller:"LoginController",resolve:{data:["userAuthService",function(e){return e.checkUser({success_location:"/dashboard"})}]}}).when("/reset/:token",{templateUrl:"/js/app/reset/reset.html",controller:"ResetController",resolve:{data:["userAuthService",function(e){return e.checkUser()}]}}).when("/signup",{templateUrl:"/js/app/signup/signup.html",controller:"SignUpController",resolve:{data:["userAuthService",function(e){return e.checkUser({success_location:"/dashboard"})}]}}).when("/scenario/:id",{templateUrl:"/js/app/scenario/scenario.html",controller:"ScenarioController",resolve:{data:["userAuthService",function(e){return e.checkUser()}]}}).when("/search",{templateUrl:"/js/app/search/search.html",controller:"SearchController",resolve:{data:["userAuthService",function(e){return e.checkUser()}]}}).when("/settings",{templateUrl:"/js/app/settings/settings.html",controller:"SettingsController",resolve:{data:["userAuthService",function(e){return e.checkUser({error_location:"/login"})}]}}).when("/user/:id",{templateUrl:"/js/app/user/user.html",controller:"UserController",resolve:{data:["userAuthService",function(e){return e.checkUser()}]}})}])}(),function(){"use strict";angular.module("app").config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"localization/min/locale-",suffix:".json"}),e.useSanitizeValueStrategy("escape"),e.registerAvailableLanguageKeys(["en","et"],{"en_*":"en","en-*":"en","et_*":"et","et-*":"et"}),e.preferredLanguage("en"),e.uniformLanguageTag("bcp47").determinePreferredLanguage(),e.fallbackLanguage("en")}])}(),function(){"use strict";angular.module("app").controller("MainController",["$scope","$route","$rootScope","$location","requestService","$translate",function(e,t,n,r,i,a){n.title="Leplanner beta",e.logout=function(){i.get("/user/logout").then(function(e){console.log(e),n.user=void 0,r.path("/")})},e.navigateToLogin=function(e){e.preventDefault(),"/"!=r.path().toString()?(n.navigatedToLoginFrom=r.path(),r.path("/login")):r.path("/login")},e.searchFromTop=function(t){"/search"==r.path()?(n.top_search_word=e.top_search_word,e.$broadcast("triggerSearchForm")):("undefined"!=typeof t&&t.preventDefault(),n.top_search_word=e.top_search_word,r.path("/search"))},e.changeLanguage=function(r){a.use(r),n.user?e.setLanguage():(e.translateDefaults(),t.reload())},e.setLanguage=function(){var r=a.proposedLanguage()||a.use();i.post("/user/save-language",{lang:r}).then(function(i){i.success&&(n.user.lang=r,e.translateDefaults(),t.reload()),i.error&&console.log("unable to set user lang")})},n.translateDefaults=function(){a(["ORGANIZATION.0","ORGANIZATION.1","ORGANIZATION.2","ORGANIZATION.3","CO_AUTHORSHIP.0","CO_AUTHORSHIP.1","CO_AUTHORSHIP.2","CO_AUTHORSHIP.3","CO_AUTHORSHIP.4","CO_AUTHORSHIP.5","CO_AUTHORSHIP.6","DISPLAYS.0","DISPLAYS.1","DISPLAYS.2","DISPLAYS.3","DISPLAYS.4","INPUT.SUBJECTS","INPUT.UNCHECK_ALL","INPUT.SEARCH","INPUT.LEARNING_OUTCOMES","BUTTON.PUBLISHED","BUTTON.DRAFT","NOTICE.DELETE_CONFIRM"]).then(function(e){n.translated={organization:[e["ORGANIZATION.0"],e["ORGANIZATION.1"],e["ORGANIZATION.2"],e["ORGANIZATION.3"]],co_authorship:[e["CO_AUTHORSHIP.0"],e["CO_AUTHORSHIP.1"],e["CO_AUTHORSHIP.2"],e["CO_AUTHORSHIP.3"],e["CO_AUTHORSHIP.4"],e["CO_AUTHORSHIP.5"],e["CO_AUTHORSHIP.6"]],displays:[e["DISPLAYS.0"],e["DISPLAYS.1"],e["DISPLAYS.2"],e["DISPLAYS.3"],e["DISPLAYS.4"]],dropdowns:{subjects:e["INPUT.SUBJECTS"],uncheck_all:e["INPUT.UNCHECK_ALL"],search:e["INPUT.SEARCH"],learning_outcomes:e["INPUT.LEARNING_OUTCOMES"],published:e["BUTTON.PUBLISHED"],draft:e["BUTTON.DRAFT"]},confirm:e["NOTICE.DELETE_CONFIRM"]}})},e.translateDefaults()}])}(),function(){"use strict";angular.module("app").controller("HomeController",["$scope","$rootScope","$location","requestService",function(e,t,n,r){function i(){var n={};if(n.limit=4,"undefined"==typeof t.home_active_sort_tab)t.home_active_sort_tab="latest";else switch(t.home_active_sort_tab){case"latest":n.order="latest";break;case"popular":n.order="popular";break;case"favorited":n.order="favorited";break;case"commented":n.order="commented";break;default:n.order="latest"}r.post("/scenario/widget-list",n).then(function(t){t.scenarios&&(e.scenarios=t.scenarios),t.error&&console.log(t.error)})}function a(){r.get("/meta/subjects").then(function(t){t.subjects&&(e.subjects=t.subjects),t.error&&console.log(t.error)})}t.title="Leplanner beta","undefined"==typeof t.home_active_sort_tab&&(t.home_active_sort_tab="latest"),i(),a(),e.isSortActive=function(e){return e==t.home_active_sort_tab?!0:!1},e.updateSortList=function(e){"latest "==e||"popular"==e||"favorited"==e||"commented"==e?(t.home_active_sort_tab=e,i()):(t.home_active_sort_tab="latest",i())},e.searchSubject=function(e,r){"undefined"!=typeof r&&r.preventDefault(),t.search_subject=e,n.path("/search")}}])}(),function(){"use strict";angular.module("app").controller("LoginController",["$scope","$rootScope","$location","$timeout","requestService","$translate",function(e,t,n,r,i,a){a("PAGE.LOG_IN").then(function(e){t.title=e+" | Leplanner beta"}),e.activateResetForm=function(t){t.preventDefault(),e.reset_form=!0},e.deactivateResetForm=function(t){t.preventDefault(),e.reset_form=!1},e.login=function(o){e.login_in_process=!0,o||(o={}),o.new_beta_code="tallinnaülikool",i.post("/user/login",{email:o.email,password:o.password,remember_me:o.remember_me}).then(function(i){if(e.login_in_process=void 0,i.user&&(i.user.lang?a.use(i.user.lang):e.setLanguage(),"undefined"!=typeof t.navigatedToLoginFrom?(n.path(t.navigatedToLoginFrom),t.navigatedToLoginFrom=void 0):"undefined"!=typeof t.navigatedToLoginFrom?(n.path(t.navigatedToLoginFrom),t.navigatedToLoginFrom=void 0):n.path("/dashboard")),i.error){switch(i.error.id){case 10:a("NOTICE.WRONG_CREDENTIALS").then(function(t){e.login_error=t});break;default:a("NOTICE.UNKNOWN").then(function(t){e.login_error=t})}r(function(){e.login_error=null},2e3)}})},e.reset=function(t){e.sending_in_progress=!0,i.post("/user/send-reset-token",t).then(function(t){if(e.sending_in_progress=void 0,t.success&&(a("NOTICE.SUCCESS_EMAIL_SENT").then(function(t){e.success_alert=t}),e.reset_error=null,r(function(){e.success_alert=null},2e3)),t.error){switch(console.log(t),t.error.id){case 3:a("NOTICE.PLEASE_ENTER_CORRECT_EMAIL").then(function(t){e.reset_error=t});break;case 20:a("NOTICE.NO_SUCH_EMAIL").then(function(t){e.reset_error=t});break;default:a("NOTICE.UNKNOWN").then(function(t){e.reset_error=t})}r(function(){e.reset_error=null},2e3)}})}}])}(),function(){"use strict";angular.module("app").controller("SignUpController",["$scope","$rootScope","$location","$timeout","requestService","$translate",function(e,t,n,r,i,a){a("PAGE.SIGN_UP").then(function(e){t.title=e+" | Leplanner beta"}),e.create=function(o){e.creating_in_progress=!0,i.post("/user/create",o).then(function(i){if(e.creating_in_progress=void 0,console.log(i),i.user&&("undefined"!=typeof t.navigatedToLoginFrom?(n.path(t.navigatedToLoginFrom),t.navigatedToLoginFrom=void 0):n.path("/dashboard")),i.error){switch(i.error.id){case"beta":e.create_error="Please enter required beta code";break;case"wrong_beta":e.create_error="Wrong beta code!";break;case 0:a("NOTICE.PLEASE_ENTER_FIRST_NAME").then(function(t){e.create_error=t});break;case 1:a("NOTICE.PLEASE_ENTER_LAST_NAME").then(function(t){e.create_error=t});break;case 2:a("NOTICE.PLEASE_ENTER_EMAIL").then(function(t){e.create_error=t});break;case 3:a("NOTICE.PLEASE_ENTER_CORRECT_EMAIL").then(function(t){e.create_error=t});break;case 4:a("NOTICE.PLEASE_ENTER_PASSWORD").then(function(t){e.create_error=t});break;case 5:a("NOTICE.PASSWORD_MIN_LENGTH").then(function(t){e.create_error=t});break;case 6:a("NOTICE.EMAIL_IN_USE").then(function(t){
e.create_error=t});break;default:a("NOTICE.UNKNOWN").then(function(t){e.create_error=t})}r(function(){e.create_error=null},2e3)}})}}])}(),function(){"use strict";angular.module("app").controller("CreateController",["$scope","$rootScope","$timeout","$location","requestService","$translate",function(e,t,n,r,i,a){a("PAGE.CREATE").then(function(e){t.title=e+" | Leplanner beta"}),e.createScenario=function(o){if(e.saving_in_progress=!0,!o||"undefined"==typeof o.name||""===o.name||o.name.length<=2)return a("NOTICE.SCENARIO_NAME_LONG").then(function(t){e.errorMessage=t}),e.saving_in_progress=void 0,void n(function(){e.errorMessage=null},2e3);if("undefined"==typeof o.description||""===o.description||o.description.length<=2)return a("NOTICE.SCENARIO_DESC_LONG").then(function(t){e.errorMessage=t}),e.saving_in_progress=void 0,void n(function(){e.errorMessage=null},2e3);var s={user:{_id:t.user._id},scenario:o};e.saving=!0,i.post("/scenario/create",s).then(function(t){if(e.saving_in_progress=void 0,t.scenario&&(e.errorMessage=null,r.path("/edit-details/"+t.scenario._id)),t.error){switch(console.log(t.error),t.error.id){case 100:r.path("/");break;case 0:a("NOTICE.SCENARIO_NAME_LONG").then(function(t){e.errorMessage=t});break;case 1:a("NOTICE.SCENARIO_DESC_LONG").then(function(t){e.errorMessage=t});break;default:a("NOTICE.UNKNOWN").then(function(t){e.errorMessage=t})}n(function(){e.errorMessage=null},2e3)}})}}])}(),function(){"use strict";angular.module("app").controller("EditDetailsController",["$scope","$rootScope","$timeout","$routeParams","$location","requestService","$translate",function(e,t,n,r,i,a,o){function s(){var n={user:{_id:t.user._id},scenario:{_id:e.scenario_id}};a.post("/scenario/get-edit-data-single-scenario",n).then(function(n){n.scenario&&(e.scenario=n.scenario,n.scenario.subjects&&(e.selected_subjects=n.scenario.subjects),console.log("Loaded scenario"),"undefined"!=typeof n.scenario.outcomes&&(e.outcomes_list=n.scenario.outcomes,console.log("Loaded outcomes")),"undefined"!=typeof n.scenario.activities&&(e.activity_list=n.scenario.activities,console.log("Loaded activities")),o("PAGE.EDIT").then(function(n){t.title=n+" "+e.scenario.name+" details | Leplanner beta"}),u()),n.error&&("undefined"!=typeof n.error.id&&0===n.error.id?o("NOTICE.NO_SCENARIO").then(function(t){e.errorMessage=t}):"undefined"!=typeof n.error.id&&3===n.error.id?i.path("/"):o("NOTICE.NO_SCENARIO").then(function(t){e.errorMessage=t}),console.log(n.error))})}function u(){0===e.outcomes_list.length&&(e.outcomes_list.push(f()),console.log("added empty outcome init")),0===e.activity_list.length&&(e.activity_list.push(d()),console.log("added empty activity init")),e.publish_options=[{name:t.translated.dropdowns.draft,value:!0},{name:t.translated.dropdowns.published,value:!1}],a.get("/meta/get-scenario-meta").then(function(n){if(n.subjects&&n.activity_organization){if(e.subjects_list=n.subjects,e.activity_organization=n.activity_organization,t.translated&&t.translated.organization)for(var r=0;r<e.activity_organization.length;r++)e.activity_organization[r].name=t.translated.organization[r];e.fully_loaded=!0,l(),c()}else o("NOTICE.RELOAD").then(function(t){e.errorMessage=t});n.error&&(console.log(n.error),o("NOTICE.RELOAD").then(function(t){e.errorMessage=t}))})}function l(){e.subjectsSettings={scrollableHeight:"250px",scrollable:!0,smartButtonMaxItems:1,displayProp:"name",showCheckAll:!1,enableSearch:!0,idProp:"_id",externalIdProp:"",buttonClasses:"btn btn-default"},e.subjectsText={buttonDefaultText:t.translated.dropdowns.subjects,uncheckAll:t.translated.dropdowns.uncheck_all,searchPlaceholder:t.translated.dropdowns.search},e.outcomesSettings={scrollableHeight:"200px",scrollable:!0,smartButtonMaxItems:1,displayProp:"name",showCheckAll:!1,showUncheckAll:!1,idProp:"_id",externalIdProp:"",buttonClasses:"btn btn-default"},e.outcomesText={buttonDefaultText:t.translated.dropdowns.learning_outcomes},e.activity_organizationSettings={scrollableHeight:"200px",scrollable:!1,selectionLimit:1,smartButtonMaxItems:1,displayProp:"name",showCheckAll:!1,showUncheckAll:!1,closeOnSelect:!0,idProp:"_id",externalIdProp:"",buttonClasses:"btn btn-default"},e.activity_organizationText={buttonDefaultText:"Organization"}}function c(){e.watch_init_event=!0,e.$watch("scenario",function(e){p()},!0),e.$watch("subjects_list",function(e){p()},!0),e.$watch("outcomes_list",function(e){p()},!0),e.$watch("activity_list",function(e){p()},!0),e.$watch("scenario.description",function(t){e.resizeTextarea()},!0)}function f(){return{_id:g(),name:""}}function d(){return{_id:g(),name:"",duration:"",in_class:!0,activity_organization:{_id:0},outcomes:[]}}function p(){var t=3e3;e.timer&&n.cancel(e.timer),e.timer=n(function(){e.watch_init_event?e.watch_init_event=void 0:h()},t)}function h(r){e.saving_in_progress=!0,e.scenario.outcomes=e.outcomes_list,e.scenario.activities=e.activity_list,"undefined"==typeof e.scenario.grade&&(e.scenario.grade=null),"undefined"==typeof e.scenario.duration&&(e.scenario.duration=null);var s={user:{_id:t.user._id},scenario_data:e.scenario};e.saving=!0,a.post("/scenario/save",s).then(function(t){if(e.saving_in_progress=void 0,t.scenario&&(console.log("saved scenario "),r&&i.path("/edit/"+t.scenario._id),n(function(){e.saved=!0,e.saving=void 0},1e3),e.errorMessage=null),t.error){switch(console.log(t.error),t.error.id){case 100:i.path("/");break;case 3:o("NOTICE.NO_RIGHTS").then(function(t){e.errorMessage=t}),i.path("/");break;default:o("NOTICE.UNKNOWN").then(function(t){e.errorMessage=t})}n(function(){e.errorMessage=null},2e3)}})}function g(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}"undefined"!=typeof r.id?e.scenario_id=r.id:i.path("/"),e.selected_subjects=[],e.subjects_list=[],e.outcomes_list=[],e.activity_list=[],s(),e.resizeTextarea=function(){var e=angular.element("#description")[0],t=400;e.style.height="",e.style.height=Math.min(e.scrollHeight,t)+"px"},e.saveScenario=function(e){h({forward_to_edit_canvas:!0})},e.addNewOutcomeItem=function(){var t=f();e.outcomes_list.push(t)},e.removeOutcome=function(t){for(var n=0;n<e.activity_list.length;n++)for(var r=0;r<e.activity_list[n].outcomes.length;r++)e.activity_list[n].outcomes[r].id==e.outcomes_list[t].id&&(e.activity_list[n].outcomes.splice(r,1),r--);e.outcomes_list.splice(t,1)},e.addNewActivityItem=function(){var t=d();e.activity_list.push(t)},e.removeActivity=function(t){e.activity_list.splice(t,1)},e.deleteScenario=function(){var n=confirm(t.translated.confirm);if(n===!0){var r={user:{_id:t.user._id},scenario:{_id:e.scenario_id}};a.post("/scenario/delete-scenario",r).then(function(t){t.success&&(console.log("deleted"),i.path("/dashboard")),t.error&&(console.log(t.error),o("NOTICE.RELOAD").then(function(t){e.errorMessage=t}))})}},e.$on("$destroy",function(t){e.timer&&n.cancel(e.timer)})}])}(),function(){"use strict";angular.module("app").controller("EditController",["$scope","$rootScope","$timeout","$routeParams","$location","requestService","$translate",function(e,t,n,r,i,a,o){function s(){var n={user:{_id:t.user._id},scenario:{_id:e.scenario_id}};a.post("/scenario/get-edit-data-single-scenario",n).then(function(n){n.scenario&&n.materials&&(e.scenario=n.scenario,o("PAGE.EDIT").then(function(n){t.title=n+" "+e.scenario.name+" canvas"}),console.log("Loaded scenario"),"undefined"!=typeof n.scenario.outcomes&&(e.outcomes_list=n.scenario.outcomes,console.log("Loaded outcomes")),"undefined"!=typeof n.scenario.activities&&(e.activity_list=n.scenario.activities,console.log("Loaded activities")),"undefined"!=typeof n.materials&&(e.materials=n.materials,c(),console.log("Loaded materials")),u()),n.error&&("undefined"!=typeof n.error.id&&0===n.error.id?o("NOTICE.NO_SCENARIO").then(function(t){e.errorMessage=t}):"undefined"!=typeof n.error.id&&3===n.error.id?i.path("/"):o("NOTICE.NO_SCENARIO").then(function(t){e.errorMessage=t}),console.log(n.error))})}function u(){a.get("/meta/get-scenario-meta").then(function(n){if(n.subjects&&n.activity_organization&&n.involvement_options&&n.displays){if(e.subjects=n.subjects,e.activity_organization=n.activity_organization,e.involvement_options=n.involvement_options,e.displays_list=n.displays,t.translated&&t.translated.organization)for(var r=0;r<e.activity_organization.length;r++)e.activity_organization[r].name=t.translated.organization[r];if(t.translated&&t.translated.co_authorship)for(var i=0;i<e.involvement_options.length;i++)e.involvement_options[i].name=t.translated.co_authorship[i];if(t.translated&&t.translated.displays)for(var a=0;a<e.displays_list.length;a++)e.displays_list[a].name=t.translated.displays[a];e.fully_loaded=!0}else o("NOTICE.RELOAD").then(function(t){e.errorMessage=t});n.error&&(console.log(n.error),o("NOTICE.RELOAD").then(function(t){e.errorMessage=t}))})}"undefined"!=typeof r.id?e.scenario_id=r.id:i.path("/"),e.outcomes_list=[],e.activity_list=[],e.materials=[],e.involvement_options=[],e.displays_list=[],e.conveyor_list=[],e.whois_material="",e.activity=null,e.allow_edit=!0,s(),e.openAddMaterialModal=function(t,n){e.activity=t,e.whois_material="Student",e.material_position="bottom","top"===n&&(e.whois_material="Teacher",e.material_position="top"),e.material={},e.material.involvement_level=0,e.displays_selection=[],e.material.conveyors=[{name:null,url:null}],e.manageModal("show")},e.openEditMaterialModal=function(t,n,r){e.activity=t,e.whois_material="Student",e.material_position="bottom","top"===n&&(e.whois_material="Teacher",e.material_position="top"),e.material=r,e.displays_selection=[];for(var i=0;i<r.displays.length;i++)e.displays_selection[r.displays[i]]=!0;0===e.material.conveyors.length&&(e.material.conveyors=[{name:null,url:null}]),e.manageModal("show")},e.setManageFunction=function(t){e.manageModal=t.theDirFn},e.setreDrawMaterialFunction=function(t){e.reDrawMaterial=t.theDirFn},e.deleteMaterial=function(r){var s=confirm(t.translated.confirm);if(s===!0){var u={user:{_id:t.user._id},scenario:{_id:e.scenario_id},material:{_id:r}};e.deleting_material=!0,a.post("/scenario/delete-material",u).then(function(t){if(e.deleting_material=void 0,t.material&&(console.log("deleted"),l(t.material,"delete"),e.manageModal("hide")),t.error){switch(console.log(t.error),t.error.id){case 100:i.path("/");break;default:o("NOTICE.UNKNOWN").then(function(t){e.materialErrorMessage=t})}n(function(){e.materialErrorMessage=null},2e3)}})}},e.saveMaterial=function(){var r="update";"undefined"==typeof e.material._id&&(r="new"),e.material.activity_id=e.activity._id,e.material.position=e.material_position;for(var s=[],u=0;u<e.displays_list.length;u++)e.displays_selection[e.displays_list[u]._id]&&s.push(e.displays_list[u]._id);e.material.displays=s;for(var c=0;c<e.material.conveyors.length;c++)e.material.conveyors[c].name||e.material.conveyors[c].url||e.material.conveyors.splice(c,1);var f={user:{_id:t.user._id},scenario:{_id:e.scenario_id},material:e.material};e.saving_material=!0,a.post("/scenario/save-material",f).then(function(t){if(e.saving_material=void 0,0===e.material.conveyors.length&&(e.material.conveyors=[{name:null,url:null}]),t.material&&(console.log("saved"),l(t.material,r),e.manageModal("hide")),t.error){switch(console.log(t.error),t.error.id){case 100:i.path("/");break;case 0:o("NOTICE.MATERIAL_NAME_REQUIRED").then(function(t){e.materialErrorMessage=t});break;case 20:o("NOTICE.MATERIAL_EXISTS").then(function(t){e.materialErrorMessage=t});break;default:o("NOTICE.UNKNOWN").then(function(t){e.materialErrorMessage=t})}n(function(){e.materialErrorMessage=null},2e3)}})};var l=function(t,n){if("new"==n)return e.materials.push(t),c(),void e.reDrawMaterial("new");if("delete"==n){console.log(t._id),console.log(e.materials.length);for(var r=null,i=0;i<e.materials.length;i++)if(e.materials[i]._id==t._id){r=i;break}e.materials.splice(r,1),c(),e.reDrawMaterial("delete",t._id),console.log(e.materials.length)}if("update"==n){for(var a=0;a<e.materials.length;a++)if(e.materials[a]._id==t._id){e.materials[a]=t;break}c(),e.reDrawMaterial("update",t._id)}},c=function(){for(var t=0;t<e.activity_list.length;t++){e.activity_list[t].materials=void 0;for(var n=0;n<e.materials.length;n++)e.activity_list[t]._id==e.materials[n].activity_id&&("undefined"==typeof e.activity_list[t].materials&&(e.activity_list[t].materials=[]),e.activity_list[t].materials.push(e.materials[n]))}};e.addNewActivityItem=function(){e.material.conveyors.push({name:null,url:null})},e.removeActivityItem=function(t){e.material.conveyors.splice(t,1)}}])}(),function(){"use strict";angular.module("app").controller("ScenarioController",["$scope","$rootScope","$routeParams","$location","$timeout","requestService","$translate",function(e,t,n,r,i,a,o){function s(){a.get("/meta/get-scenario-meta").then(function(t){t.subjects&&t.activity_organization&&t.involvement_options&&t.displays?(e.subjects=t.subjects,e.activity_organization=t.activity_organization,e.involvement_options=t.involvement_options,e.displays_list=t.displays,e.fully_loaded=!0):o("NOTICE.RELOAD").then(function(t){e.errorMessage=t}),t.error&&(console.log(t.error),o("NOTICE.RELOAD").then(function(t){e.errorMessage=t}))})}function u(){var t={order:"popular",limit:3,exclude:e.scenario._id,author:e.scenario.author._id};a.post("/scenario/widget-list",t).then(function(t){t.scenarios&&(t.scenarios.length>0?e.scenarios=t.scenarios:e.no_popular_scenarios=!0),t.error&&console.log(t.error)})}function l(){a.post("/scenario/comments",{scenario_id:e.scenario._id}).then(function(t){t.comments&&t.comments.length>0&&(e.comments=t.comments),t.error&&console.log(t.error)})}"undefined"!=typeof n.id?e.scenario_id=n.id:r.path("/"),e.activity_list=[],e.materials=[];var c={scenario:{_id:e.scenario_id}};"undefined"!=typeof t.user&&(c.user={_id:t.user._id}),a.post("/scenario/single-scenario",c).then(function(n){if(n.scenario&&(t.title=n.scenario.name+" - "+n.scenario.author.first_name+" "+n.scenario.author.last_name+" | Leplanner beta",e.scenario=n.scenario,e.activity_list=n.scenario.activities,e.is_favorite=n.is_favorite,e.is_following=n.is_following,"undefined"!=typeof n.materials&&(e.materials=n.materials,f()),s(),u(),l()),n.error)switch(n.error.id){case 0:e.no_scenario=!0;break;default:e.no_scenario=!0,console.log(n.error)}}),e.addRemoveFavorite=function(n){var i={user:{_id:t.user._id},scenario_id:e.scenario._id};"undefined"!=typeof n&&(i.remove=!0),a.post("/scenario/add-remove-favorite",i).then(function(t){if(t.success&&("remove"==t.success?(e.is_favorite=!1,e.scenario.favorites_count--):(e.is_favorite=!0,e.scenario.favorites_count++)),t.error)switch(t.error.id){case 100:r.path("/");break;default:console.log(t.error)}})},e.addRemoveFollow=function(n){var i={user:{_id:t.user._id},following:{_id:e.scenario.author._id}};"undefined"!=typeof n&&(i.remove_follow=!0),a.post("/user/add-remove-follow",i).then(function(t){if(t.success&&(e.is_following="unfollow"==t.success?!1:!0),t.error)switch(t.error.id){case 100:r.path("/");break;default:console.log(t.error)}})},e.navigateToLogin=function(e){e.preventDefault(),t.navigatedToLoginFrom=r.path(),r.path("/login")},e.addComment=function(n){if("undefined"==typeof n||"undefined"==typeof n.text)return o("NOTICE.COMMENT_EMPTY").then(function(t){e.save_error=t}),void i(function(){e.save_error=null},2e3);e.adding_comment_in_progress=!0;var s={comment:{text:n.text},user:{_id:t.user._id},scenario:{_id:e.scenario_id},author:{_id:e.scenario.author._id}};a.post("/scenario/add-comment",s).then(function(t){if(e.adding_comment_in_progress=void 0,t.comments&&(e.comments=t.comments,e.scenario.comments_count=t.comments.length,n.text=void 0,o("NOTICE.COMMENT_SUCCESS").then(function(t){e.save_success=t}),i(function(){e.save_success=null},2e3)),t.error)switch(t.error.id){case 100:r.path("/");break;case 0:o("NOTICE.COMMENT_EMPTY").then(function(t){e.save_error=t}),i(function(){e.save_error=null},2e3);break;default:console.log(t.error)}})},e.showDeleteText=function(t){return e.is_deleting==t?!0:!1},e.deleteComment=function(n,s){var u=confirm("Are you sure that you want to delete comment: "+s);if(u===!0){e.is_deleting=n,o("NOTICE.DELETING").then(function(t){e.comment_delete_text=t});var l={user:{_id:t.user._id},scenario:{_id:e.scenario_id},comment:{_id:n}};a.post("/scenario/delete-comment",l).then(function(t){if(t.comments&&(o("NOTICE.DELETED").then(function(t){e.comment_delete_text=t}),i(function(){e.is_deleting=void 0,e.comments=t.comments,e.scenario.comments_count=t.comments.length},1500)),t.error){switch(t.error.id){case 100:r.path("/");break;case 3:o("NOTICE.NO_RIGHTS").then(function(t){e.comment_delete_text=t}),console.log("No rights");break;default:console.log(t.error)}o("NOTICE.RELOAD").then(function(t){e.comment_delete_text=t}),i(function(){e.is_deleting=void 0},2e3)}})}};var f=function(){for(var t=0;t<e.activity_list.length;t++){e.activity_list[t].materials=void 0;for(var n=0;n<e.materials.length;n++)e.activity_list[t]._id==e.materials[n].activity_id&&("undefined"==typeof e.activity_list[t].materials&&(e.activity_list[t].materials=[]),e.activity_list[t].materials.push(e.materials[n]))}}}])}(),function(){"use strict";angular.module("app").controller("UserController",["$scope","$rootScope","$routeParams","requestService",function(e,t,n,r){function i(){var n={user:{_id:e.get_profile_id}};r.post("/user/load-user-data",n).then(function(n){if(n.profile){if(a(),e.profile=n.profile,t.title=n.profile.first_name+" "+n.profile.last_name+" | Leplanner beta","undefined"==typeof t.user)e.is_following=!1;else if("undefined"==typeof n.followers)e.is_following=!1;else for(var r=0;r<n.followers.length;r++)if(t.user._id==n.followers[r].follower._id){e.is_following=!0;break}e.followings="undefined"!=typeof n.following?n.following:void 0,e.followers="undefined"!=typeof n.followers?n.followers:void 0}if(n.error)switch(n.error.id){case 0:e.no_user=!0;break;default:e.no_user=!0,console.log(n.error)}})}function a(){e.loading_animation=!0,e.no_scenarios=!1,e.scenarios=[];var n={};switch(n.user={_id:e.get_profile_id},"undefined"==typeof t.sort_tab.profile&&(t.sort_tab.profile="latest"),t.sort_tab.profile){case"latest":n.order="latest";break;case"popular":n.order="popular";break;case"favorited":n.order="favorited";break;case"commented":n.order="commented";break;default:n.order="latest"}r.post("/scenario/list",n).then(function(t){t.scenarios&&(0===t.scenarios.length&&(e.no_scenarios=!0),e.scenarios=t.scenarios,e.loading_animation=!1),t.error&&console.log(t.error)})}"undefined"!=typeof n.id?e.get_profile_id=n.id:$location.path("/"),"undefined"==typeof t.sort_tab?t.sort_tab={}:"undefined"==typeof t.sort_tab.profile&&(t.sort_tab.profile="latest"),e.sidebox_quantity={},e.sidebox_quantity.followings=8,e.sidebox_quantity.followers=8,i(),e.addRemoveFollow=function(n){var a={user:{_id:t.user._id},following:{_id:e.get_profile_id}};"undefined"!=typeof n&&(a.remove_follow=!0),r.post("/user/add-remove-follow",a).then(function(t){if(t.success&&(e.is_following="unfollow"==t.success?!1:!0,i()),t.error)switch(t.error.id){case 100:$location.path("/");break;default:console.log(t.error)}})},e.isSortActive=function(e){return e==t.sort_tab.profile?!0:!1},e.updateSortList=function(e){"latest "==e||"popular"==e||"favorited"==e||"commented"==e?(t.sort_tab.profile=e,a()):(t.sort_tab.profile="latest",a())},e.expandSideBox=function(t){switch(t){case"followings":e.sidebox_quantity.followings=void 0;break;case"followers":e.sidebox_quantity.followers=void 0;break;default:console.log("no name")}}}])}(),function(){"use strict";angular.module("app").controller("ResetController",["$scope","$location","$rootScope","$routeParams","$timeout","requestService","$translate",function(e,t,n,r,i,a,o){o("PAGE.PASSWORD_RESET").then(function(e){n.title=e+" | Leplanner beta"}),e.reset=function(n){"undefined"!=typeof n.new_password&&"undefined"!=typeof n.new_password_twice?n.new_password==n.new_password_twice?(n.token=r.token,a.post("/user/reset-password",n).then(function(n){if(n.success&&t.path("/login"),n.error){switch(n.error.id){case 5:o("NOTICE.PASSWORD_MIN_LENGTH").then(function(t){e.reset_error=t});break;case 7:o("NOTICE.ENTER_ALL").then(function(t){e.reset_error=t});break;case 9:o("NOTICE.NEW_PASSWORDS_DONT_MATCH").then(function(t){e.reset_error=t});break;case 10:o("NOTICE.REQUEST_NEW_TOKEN").then(function(t){e.reset_error=t});break;case 11:o("NOTICE.TOKEN_EXPIRED").then(function(t){e.reset_error=t});break;default:o("NOTICE.UNKNOWN").then(function(t){e.reset_error=t})}i(function(){e.reset_error=null},2e3)}})):(o("NOTICE.NEW_PASSWORDS_DONT_MATCH").then(function(t){e.reset_error=t}),i(function(){e.reset_error=null},2e3)):(o("NOTICE.ENTER_ALL").then(function(t){e.reset_error=t}),i(function(){e.reset_error=null},2e3))}}])}(),function(){"use strict";angular.module("app").controller("SettingsController",["$scope","$rootScope","$location","$timeout","requestService","Upload","$translate",function(e,t,n,r,i,a,o){function s(){e.user.new_first_name=e.user.first_name,e.user.new_last_name=e.user.last_name,e.user.new_email=e.user.email,e.user.new_organization=e.user.organization}o("PAGE.SETTINGS").then(function(e){t.title=e+" | Leplanner beta"}),e.user=t.user,e.user.profile_image="./images/user/"+e.user._id+".jpg",s(e.user),e.updateProfile=function(a){e.user.new_first_name!=e.user.first_name||e.user.new_last_name!=e.user.last_name||e.user.new_email!=e.user.email||e.user.new_organization!=e.user.organization?(e.updating_in_progress=!0,i.post("/user/update-profile",{user:e.user}).then(function(i){if(e.updating_in_progress=void 0,i.user&&(t.user=i.user,e.user=t.user,s(),o("NOTICE.UPDATE_SUCCESS").then(function(t){e.updateProfile_success=t}),e.updateProfile_error=null,r(function(){e.updateProfile_success=null},2e3)),i.error){switch(i.error.id){case 100:n.path("/");break;case 0:o("NOTICE.PLEASE_ENTER_FIRST_NAME").then(function(t){e.updateProfile_error=t});break;case 1:o("NOTICE.PLEASE_ENTER_LAST_NAME").then(function(t){e.updateProfile_error=t});break;case 2:o("NOTICE.PLEASE_ENTER_EMAIL").then(function(t){e.updateProfile_error=t});break;case 3:o("NOTICE.PLEASE_ENTER_CORRECT_EMAIL").then(function(t){e.updateProfile_error=t});break;case 6:o("NOTICE.EMAIL_IN_USE").then(function(t){e.updateProfile_error=t});break;case 7:o("NOTICE.ENTER_PASSWORD_TO_CONFIRM").then(function(t){e.updateProfile_error=t});break;case 10:o("NOTICE.WRONG_PASSWORD").then(function(t){e.updateProfile_error=t});break;default:o("NOTICE.UNKNOWN").then(function(t){e.updateProfile_error=t}),console.log(i.error)}r(function(){e.updateProfile_error=null},2e3)}})):(o("NOTICE.NO_DATA_MODIFIED").then(function(t){e.updateProfile_error=t}),r(function(){e.updateProfile_error=null},2e3))},e.updatePassword=function(t){"undefined"!=typeof t.password&&"undefined"!=typeof t.new_password&&"undefined"!=typeof t.new_password_twice?t.new_password==t.new_password_twice?(e.updating_in_progress=!0,i.post("/user/update-password",{user:t}).then(function(i){if(e.updating_in_progress=void 0,i.user&&(o("NOTICE.UPDATE_SUCCESS").then(function(t){e.updatePassword_success=t}),e.updatePassword_error=null,t.password=void 0,t.new_password=void 0,t.new_password_twice=void 0,r(function(){e.updatePassword_success=null},2e3)),i.error){switch(i.error.id){case 100:n.path("/");break;case 5:o("NOTICE.PASSWORD_MIN_LENGTH").then(function(t){e.updatePassword_error=t});break;case 7:o("NOTICE.ENTER_ALL").then(function(t){e.updatePassword_error=t});break;case 8:o("NOTICE.NEW_PASSWORD_DIFFERENT").then(function(t){e.updatePassword_error=t});break;case 9:o("NOTICE.NEW_PASSWORDS_DONT_MATCH").then(function(t){e.updatePassword_error=t});break;case 10:o("NOTICE.WRONG_PASSWORD").then(function(t){e.updatePassword_error=t});break;default:o("NOTICE.UNKNOWN").then(function(t){e.updatePassword_error=t})}r(function(){e.updatePassword_error=null},2e3)}})):(o("NOTICE.NEW_PASSWORDS_DONT_MATCH").then(function(t){e.updatePassword_error=t}),r(function(){e.updatePassword_error=null},2e3)):(o("NOTICE.ENTER_ALL").then(function(t){e.updatePassword_error=t}),r(function(){e.updatePassword_error=null},2e3))},e.uploadPicture=function(i){if(i&&i.length){var s=i[0],u={};u._id=t.user._id,a.upload({url:"api/upload/profile-image",fields:{user:u},sendFieldsAs:"form",file:s}).progress(function(t){var n=parseInt(100*t.loaded/t.total);e.progress_percentage=n+"% "}).success(function(i,a,s,u){if(i.success){var l=new Date;e.user.profile_image="./images/user/"+e.user._id+".jpg?last_modified="+l,t.user.image=e.user._id+".jpg?last_modified="+l,t.user.image_thumb=e.user._id+"_thumb.jpg?last_modified="+l,o("NOTICE.UPLOAD_SUCCESS").then(function(t){e.upload_success=t}),e.progress_percentage=null,r(function(){e.upload_success=null},2e3)}if(i.error){switch(i.error.id){case 100:n.path("/");break;case 20:o("NOTICE.FILE_TO_LARGE").then(function(t){e.upload_error=t});break;case 22:o("NOTICE.WRONG_FILE_TYPE").then(function(t){e.upload_error=t});break;case 23:o("NOTICE.UPLOAD_LARGER_IMAGE").then(function(t){e.upload_error=t+" 400px x 400px"})}e.progress_percentage=null,r(function(){e.upload_error=null},2e3)}}).error(function(t,n,i,a){e.progress_percentage=null,o("NOTICE.UNKNOWN").then(function(t){e.upload_error=t}),r(function(){e.upload_error=null},2e3)})}}}])}(),function(){"use strict";angular.module("app").controller("DashboardController",["$scope","$rootScope","requestService","$translate",function(e,t,n,r){function i(){e.loading_animation=!0,e.messages={},e.scenarios=[],e.users_list=[];var r={order:"latest",user:{_id:t.user._id}};if("undefined"==typeof t.sort_tab.dash)t.sort_tab.dash="latest";else switch(t.sort_tab.dash){case"latest":r.order="latest";break;case"popular":r.order="popular";break;case"favorited":r.order="favorited";break;case"commented":r.order="commented";break;default:r.order="latest"}if("undefined"==typeof t.dash_active_tab)r.page="feed";else switch(t.dash_active_tab){case"feed":r.page="feed";break;case"drafts":r.page="drafts";break;case"published":r.page="published";break;case"favorites":r.page="favorites";break;case"users":r.page="users";break;default:r.page="feed"}if("users"!=r.page)a(r);else{var i={user:{_id:t.user._id}};n.post("/user/list",i).then(function(t){if(t.users&&(e.users_list=t.users,e.loading_animation=!1),t.error)switch(t.error.id){case 100:$location.path("/");break;default:console.log(t.error)}})}}function a(t){n.post("/scenario/scenarios-dash-list",t).then(function(n){if(n.scenarios){switch(t.page){case"feed":0===n.scenarios.length&&(e.messages.no_following=!0);break;case"drafts":e.drafts_count=n.scenarios.length,0===n.scenarios.length&&(e.messages.no_drafts=!0);break;case"published":0===n.scenarios.length&&(e.messages.no_published=!0);break;case"favorites":0===n.scenarios.length&&(e.messages.no_favorites=!0);break;default:alert("something went wrong, please refresh the page")}e.scenarios=n.scenarios,e.loading_animation=!1}if(n.error)switch(n.error.id){case 100:$location.path("/");break;default:console.log(n.error)}})}function o(r){e.notifications_loading_animation=!0;var i={user:{_id:t.user._id}};"undefined"!=typeof r&&(i.limit=r),n.post("/user/notifications",i).then(function(t){if(t.notifications&&(e.notifications=t.notifications,e.notifications_loading_animation=void 0),t.error)switch(t.error.id){case 100:$location.path("/");break;default:console.log(t.error)}})}r("PAGE.DASHBOARD").then(function(e){t.title=t.user.first_name+" "+t.user.last_name+" "+e+" | Leplanner beta"}),"undefined"==typeof t.dash_active_tab&&(t.dash_active_tab="feed"),"undefined"==typeof t.sort_tab?t.sort_tab={}:"undefined"==typeof t.sort_tab.dash&&(t.sort_tab.dash="latest"),i();var s=20;o(s),e.isActiveDash=function(e){return e==t.dash_active_tab?!0:!1},e.updateDashList=function(e){"feed "==e||"drafts"==e||"published"==e||"favorites"==e||"users"==e?(t.dash_active_tab=e,i()):(t.dash_active_tab="feed",i())},e.isSortActive=function(e){return e==t.sort_tab.dash?!0:!1},e.updateSortList=function(e){"latest "==e||"popular"==e||"favorited"==e||"commented"==e?(t.sort_tab.dash=e,i()):(t.sort_tab.dash="latest",i())},e.addRemoveFollow=function(r,i){var a={user:{_id:t.user._id},following:{_id:r}};"undefined"!=typeof i&&(a.remove_follow=!0),n.post("/user/add-remove-follow",a).then(function(t){if(t.success)if("unfollow"==t.success)for(var n=0;n<e.users_list.length;n++)e.users_list[n]._id==r&&(e.users_list[n].following=void 0);else for(var i=0;i<e.users_list.length;i++)e.users_list[i]._id==r&&(e.users_list[i].following="following");if(t.error)switch(t.error.id){case 100:$location.path("/");break;default:console.log(t.error)}})},e.getAllNotifications=function(){o()},e.getLatestNotifications=function(){o(s)}}])}(),function(){"use strict";angular.module("app").controller("SearchController",["$scope","$rootScope","requestService","$translate",function(e,t,n,r){function i(){e.selected_subjects=[],e.subjectsSettings={scrollableHeight:"400px",scrollable:!0,enableSearch:!0,smartButtonMaxItems:3,displayProp:"name",idProp:"_id",showCheckAll:!1,externalIdProp:"",buttonClasses:"btn btn-default btn-fixed-width"},e.subjectsText={buttonDefaultText:t.translated.dropdowns.subjects,uncheckAll:t.translated.dropdowns.uncheck_all,searchPlaceholder:t.translated.dropdowns.search},n.get("/meta/subjects").then(function(n){if(n.subjects){if(e.subjects=n.subjects,"undefined"!=typeof t.searchParams){e.search_word=t.searchParams.search_word;for(var r=0;r<e.subjects.length;r++)for(var i=0;i<t.searchParams.subjects.length;i++)e.subjects[r].name==t.searchParams.subjects[i]&&e.selected_subjects.push(e.subjects[r])}a()}n.error&&console.log(n.error)})}function a(){e.loading_animation=!0,"undefined"!=typeof t.top_search_word&&(e.search_word=t.top_search_word,t.top_search_word=void 0,e.$parent.top_search_word=void 0,angular.element("#search-word-input").trigger("focus"));var n=[];if("undefined"!=typeof t.search_subject){e.search_word="",e.selected_subjects=[];for(var r=0;r<e.subjects.length;r++)e.subjects[r].name==t.search_subject&&e.selected_subjects.push(e.subjects[r]);t.search_subject=void 0}e.selected_subjects.forEach(function(e){n.push(e._id)});var i={search_word:e.search_word,subjects:n};t.searchParams=i,o(i)}function o(r){var i;if("undefined"!=typeof r&&(i=r),"undefined"==typeof t.sort_tab.search)t.sort_tab.search="latest";else switch(t.sort_tab.search){case"latest":i.order="latest";break;case"popular":i.order="popular";break;case"favorited":i.order="favorited";break;case"commented":i.order="commented";break;default:i.order="latest"}n.post("/scenario/search",i).then(function(t){t.scenarios&&(e.scenarios=t.scenarios,e.search_word_end="undefined"!=typeof i?i.search_word:void 0,e.loading_animation=!1),t.error&&console.log(t.error)})}r("PAGE.SEARCH").then(function(e){t.title=e+" | Leplanner beta"}),e.$on("triggerSearchForm",function(t){angular.element("#search-word-input").trigger("focus"),e.search()}),"undefined"==typeof t.sort_tab?t.sort_tab={}:"undefined"==typeof t.sort_tab.search&&(t.sort_tab.search="latest"),"undefined"!=typeof t.search_page_nr?e.search_page_nr=t.search_page_nr:t.search_page_nr=1,e.loading_animation=!0,i(),e.search=function(){e.search_page_nr=1,t.search_page_nr=1,a()},e.pageChanged=function(e){t.search_page_nr=e},e.isSortActive=function(e){return e==t.sort_tab.search?!0:!1},e.updateSortList=function(e){"latest "==e||"popular"==e||"favorited"==e||"commented"==e?(t.sort_tab.search=e,a()):(t.sort_tab.search="latest",a())}}])}(),function(){"use strict";angular.module("app").controller("ModalCtrl",["$scope",function(e){this.setModel=function(t){e.$apply(function(){e=t})},e.setModel=this.setModel}])}(),function(){"use strict";angular.module("app").factory("requestService",["$http",function(e){var t="/api";return{get:function(n){return e.get(t+n).then(function(e){return e.data})},post:function(n,r){return e.post(t+n,r).then(function(e){return e.data})}}}])}(),function(){"use strict";angular.module("app").factory("userAuthService",["$q","$rootScope","$location","requestService","$translate",function(e,t,n,r,i){
return{checkUser:function(a){var o=e.defer();return r.get("/user/me").then(function(e){t.user||(t.user=e),t.user._id!=e._id&&(console.log("user changed"),t.user=e);var r=i.proposedLanguage()||i.use();e.lang&&r!=e.lang&&(i.use(e.lang),t.translateDefaults()),"undefined"!=typeof a&&a.success_location?(console.log("redirected to "+a.success_location),n.path(a.success_location)):o.resolve()})["catch"](function(e){t.user=void 0,"undefined"!=typeof a&&a.error_location?(console.log("redirected to "+a.error_location),n.path(a.error_location)):o.resolve()}),o.promise}}}])}(),function(){"use strict";angular.module("app").directive("timeline",["$routeParams","$timeout","$window","$filter","$translate",function(e,t,n,r,i){return{restrict:"E",templateUrl:"js/app/directives/timeline/timeline.html",link:function(e,t,r){var a=function(e){return a.instance_?a.instance_:(a.instance_=this,this.config=a.config,e&&e.edit&&(this.config.allow_edit=!0),this.timeline=this.WIDTH=this.HEIGHT=null,this.activities=[],this.activities_duration=null,this.activity_images=[],this.timeouts=[],this.zoom=!1,this.activity_min_px_for_zoom=50,this.top_percent=30,this.resizeDelay=null,void i(["BUTTON.EDIT","CONTENT.TEACHER_RESOURCE","CONTENT.STUDENT_RESOURCE","CONTENT.INCLASS_ACTIVITY","CONTENT.OFFCLASS_ACTIVITY","CONTENT.TEACHER_RESOURCE","CONTENT.STUDENT_RESOURCE"]).then(function(e){a.instance_.config.edit=e["BUTTON.EDIT"],a.instance_.config.AddaboveAxisLegend=e["CONTENT.TEACHER_RESOURCE"],a.instance_.config.AddbelowAxisLegend=e["CONTENT.STUDENT_RESOURCE"],a.instance_.config.legendInClass=e["CONTENT.INCLASS_ACTIVITY"],a.instance_.config.legendOffClass=e["CONTENT.OFFCLASS_ACTIVITY"],a.instance_.config.aboveAxisLegend=e["CONTENT.TEACHER_RESOURCE"],a.instance_.config.belowAxisLegend=e["CONTENT.STUDENT_RESOURCE"],a.instance_.init()}))};a.config={activityImageNames:["./images/one.png","./images/pair.png","./images/group.png"],scenarioWrapperId:"#scenario-wrapper",timelineWrapperId:"#scenario-timeline-wrapper",ColorInClass:"rgb(100,126,228)",ColorOffClass:"rgb(92,184,92)",ColorMaterialInClass:"rgb(159,192,255)",ColorMaterialOffClass:"rgb(202,255,190)",ColorAddNewButtonInClass:"rgb(159,192,255)",ColorAddNewButtonOffClass:"rgb(202,255,190)",legendInClass:"tunnitegevus (in-class)",legendOffClass:"muu (off-class)",aboveAxisLegend:"õpetaja (teacher)",belowAxisLegend:"õpilane (student)",AddaboveAxisLegend:"materjal õpetajale (for teacher)",AddbelowAxisLegend:"materjal õpilasele (for student)",defaultFontSize:12,org_language:"name",edit:"Edit",add:"+"},a.prototype={init:function(){this.timeline=document.querySelector(this.config.timelineWrapperId);var t=new Image;t.src=this.config.activityImageNames[0],this.activity_images.push(t);var n=new Image;n.src=this.config.activityImageNames[1],this.activity_images.push(n);var r=new Image;r.src=this.config.activityImageNames[2],this.activity_images.push(r),this.activity_images.push(r),this.activities_duration=e.scenario.activities_duration,this.resize(),this.clearTimeline(),this.drawBaseLayer(),this.initActivities(),window.addEventListener("resize",this.timelineResizeDelay.bind(this)),window.addEventListener("keypress",this.keyPressed.bind(this)),this.timeline.addEventListener("dblclick",this.dblClickEvent.bind(this))},resize:function(){var e=2,t=document.querySelector(this.config.scenarioWrapperId),n=t.offsetWidth-e,r=Math.round(.5*t.offsetWidth);if(this.zoom_start_width=n,this.zoom){var i=100;n=i/this.activity_min_px_for_zoom*n}this.timeline.style.width=n+"px",this.timeline.style.height=r+"px",this.WIDTH=n-e,this.HEIGHT=r},keyPressed:function(e){var t=e.which||e.keyCode,n=String.fromCharCode(t);"z"===n.toLowerCase()&&this.zoomEvent()},dblClickEvent:function(e){this.zoomEvent();var t=document.querySelector(this.config.scenarioWrapperId),n=this.WIDTH/this.zoom_start_width;t.scrollLeft=n*e.offsetX},zoomEvent:function(){if(this.zoom){this.zoom=!1;var e=document.querySelector(this.config.scenarioWrapperId);e.scrollLeft=0}else this.zoom=!0;this.timelineResize()},timelineResizeDelay:function(){clearTimeout(this.resizeDelay),this.resizeDelay=setTimeout(this.timelineResize.bind(this),200)},timelineResize:function(){for(var e=0;e<this.timeouts.length;e++)clearTimeout(this.timeouts[e]);jQuery(".has-popover").popover("hide"),jQuery(".has-tooltip").tooltip("hide"),this.resize(),this.rePositionTimeline()},rePositionTimeline:function(){for(var e=0;e<this.activities.length;e++)this.activities[e].updateActivitystyle()},drawBaseLayer:function(){var e=15,t=15,n=11;this.Drawlegend(this.config.legendInClass,15,e,n,n,this.config.ColorInClass,this.timeline),this.Drawlegend(this.config.legendOffClass,160,e,n,n,this.config.ColorOffClass,this.timeline),this.DrawTextlegend(this.config.aboveAxisLegend,t,this.timeline,!0),this.DrawTextlegend(this.config.belowAxisLegend,e,this.timeline),this.DrawLine(this.WIDTH,this.HEIGHT,1,"lightgray",this.timeline)},initActivities:function(){console.log("loading activities");var e=u();if(0===e.length||1===e.length&&0===e[0].duration)return void i("NOTICE.PLEASE_ADD_ACTIVITY").then(function(e){alert(e)});var t=0;console.log("drawing"),this.activities=[];for(var n=0;n<e.length;n++){var r=new a.Activity(n,t,e[n]);this.activities.push(r),t+=e[n].duration}},clearTimeline:function(){this.timeline.innerHTML=""},Drawlegend:function(e,t,n,r,i,a,s){var u={bottom:n+"px",left:t+"px",width:r+"px",height:i+"px"},l=o("div",".legend",u);l.setAttribute("style",l.getAttribute("style")+" background-color:"+a+" !important;"),s.appendChild(l);var c=17,f={bottom:n+"px",left:t+c+"px"};u.left=t+c+"px";var d=o("div",".legend-text",f,e);s.appendChild(d)},DrawTextlegend:function(e,t,n,r){var i=17,a={bottom:t+"px",right:i+"px"};r&&(a.bottom="none",a.top=t+"px");var s=o("div",".legend-text",a,e);n.appendChild(s)},DrawLine:function(e,t,n,r,i){var a={top:this.top_percent+"%",left:"0px",width:"100%",height:n+"px",backgroundColor:r},s=o("div",".timeline-line",a);i.appendChild(s)},reDrawMaterial:function(e,t){for(var n=0;n<a.instance_.activities.length;n++){if(a.instance_.activities[n].materials=u()[n].materials,"delete"===e||"update"===e)for(var r=0;r<a.instance_.activities[n].materialElements.length;r++)a.instance_.activities[n].materialElements[r].material._id==t&&("top"==a.instance_.activities[n].materialElements[r].material.position?a.instance_.activities[n].has_top_material=!1:a.instance_.activities[n].has_bottom_material=!1,a.instance_.activities[n].materialElements.splice(r,1),console.log("deleted material from timeline"),document.querySelector("#activities-wrapper").removeChild(document.querySelector('div.material-wrapper[data-id="'+t+'"]')));"new"===e||"update"===e?a.instance_.activities[n].drawMaterials():"delete"===e&&a.instance_.activities[n].updateAddNewButtons()}},findMaterial:function(e){for(var t=0;t<a.instance_.activities.length;t++)for(var n=0;n<a.instance_.activities[t].materialElements.length;n++)if(a.instance_.activities[t].materialElements[n].material._id==e)return a.instance_.activities[t].materialElements[n].material}},a.Activity=function(t,n,r){this.index=t,this.start=n,this.timeline=a.instance_.timeline,this.activites_wrapper=null,this.activity_wrapper=null,this.element=null,this.text_span=null,this._id=r._id,this.name=r.name,this.duration=r.duration,this.materials=r.materials,this.has_top_material=!1,this.has_bottom_material=!1,this.in_class="undefined"==typeof r.in_class?!1:!0,this.in_class?(this.class_color=a.instance_.config.ColorInClass,this.material_class_color=a.instance_.config.ColorMaterialInClass,this.add_new_button_color=a.instance_.config.ColorAddNewButtonInClass):(this.class_color=a.instance_.config.ColorOffClass,this.material_class_color=a.instance_.config.ColorMaterialOffClass,this.add_new_button_color=a.instance_.config.ColorAddNewButtonOffClass),this.materialElements=[],this.organization=r.activity_organization._id,this.org_title="";for(var i=0;i<e.activity_organization.length;i++)e.activity_organization[i]._id==this.organization&&(this.org_title=e.activity_organization[i][a.instance_.config.org_language]);this.org_image=a.instance_.activity_images[this.organization].cloneNode(),this.conveyor_icon_size=this.display_icon_size=12,this.duration_mark="min",this.x=this.height=this.y=this.width=this.minute_constant=this.material_height=null,this.calculateVariables();var o=40;a.instance_.timeouts.push(setTimeout(this.createActivity.bind(this),o*t))},a.Activity.prototype={calculateVariables:function(){var e=5;this.minute_constant=(a.instance_.WIDTH-(u().length+1)*e)/a.instance_.activities_duration,this.x=parseInt(this.minute_constant*this.start+(this.index+1)*e),this.height=20,this.y=parseInt(a.instance_.HEIGHT*a.instance_.top_percent/100-this.height/2),this.width=parseInt(this.minute_constant*this.duration),this.width<a.instance_.activity_min_px_for_zoom&&(a.instance_.activity_min_px_for_zoom=this.width),this.material_height=Math.round(a.instance_.HEIGHT*a.instance_.HEIGHT/6e3)},createActivity:function(){this.activities_wrapper=document.querySelector("#activities-wrapper"),this.activities_wrapper||(this.activities_wrapper=o("div","#activities-wrapper"),this.timeline.appendChild(this.activities_wrapper));var e=this.getActivityStyle(),t=o("div",".activity-container",e,null,{attribute:"data-id",value:this._id});t.setAttribute("style",t.getAttribute("style")+" background-color:"+this.class_color+" !important;");var n=this.getSpanStyle();this.text_span=o("span",".activity-text-container",n);var r=document.createTextNode(this.name);this.duration_span=o("span",".activity-duration-container"),this.duration_min_span=o("span",".activity-duration-min-container");var i=document.createTextNode(this.duration);this.duration_span.appendChild(i),this.duration_min_span.appendChild(document.createTextNode(this.duration_mark)),this.duration_span.appendChild(this.duration_min_span),this.text_span.appendChild(this.duration_span),this.text_span.appendChild(r),t.appendChild(this.text_span);var u=this.getOrgIconStyle();this.org_image.className="activity-org-icon",this.org_image.alt=this.org_title,s(this.org_image,u),t.appendChild(this.org_image);var l=document.createTextNode(this.org_title);this.org_title_span=o("span",".activity-org-title"),this.org_title_span.appendChild(l),t.appendChild(this.org_title_span),this.activities_wrapper.appendChild(t),this.element=t,a.instance_.timeouts.push(setTimeout(this.drawMaterials.bind(this),300)),this.bindEvents()},getActivityStyle:function(){return{top:this.y+"px",left:this.x+"px",width:this.width+"px",height:this.height+"px"}},getSpanStyle:function(){var e={};return e.display=this.width<30?"none":"block",e},getOrgIconStyle:function(){var e={};return e.display=this.width<20?"none":"block",e},updateActivitystyle:function(){this.calculateVariables();var e=this.getActivityStyle();s(this.element,e);var t=this.getSpanStyle();s(this.text_span,t);var n=this.getOrgIconStyle();s(this.org_image,n),this.updateMaterials()},bindEvents:function(e){this.element.addEventListener("mouseover",this.hover.bind(this),!0),this.element.addEventListener("mouseout",this.unHover.bind(this),!0)},hover:function(e){this.element.className+=" activity-container-hover";var t=200;this.width<t&&(this.element.style.width=t+"px",this.x<t/2||(this.element.style.left=this.x+t>a.instance_.WIDTH?this.x-(t-this.width)+"px":this.x-(t-this.width)/2+"px"))},unHover:function(e){this.element.className=this.element.className.replace(" activity-container-hover",""),this.element.style.left=this.x+"px",this.element.style.width=this.width+"px"},drawMaterials:function(){if(this.materials&&this.materials.length>0)for(var t=0;t<this.materials.length;t++){var n=this.materials[t];if(!this.materialExists(n)){var r=this.getMateriaMainStyle(n),i=o("div",".material-wrapper "+n.position,r,null,{attribute:"data-id",value:n._id}),s=o("div",".material-container "+n.position);s.title=n.material_name,s.setAttribute("style","background-color:"+this.material_class_color+" !important;");var u=null,l=document.createTextNode(n.material_name);n.material_url?(u=document.createElement("a"),u.href=n.material_url,u.target="_blank",u.appendChild(l)):u=l,s.appendChild(u),i.appendChild(s),this.activities_wrapper.appendChild(i);var c=[];if(n.conveyors.length>0){for(var f=n.conveyors.length-1;f>=0;f--){var d=n.conveyors[f];if(d.name){var p=this.getConveyorStyle(n,r,f,n.conveyors.length),h=o("a",".conveyor-container "+n.position,p);if(d.url){var g=new Image;g.className="conveyor-icon",g.src="http://www.google.com/s2/favicons?domain="+d.url,g.style.width=this.conveyor_icon_size+"px",g.style.height=this.conveyor_icon_size+"px",h.appendChild(g);var m=d.url;m.match(/^[a-zA-Z]+:\/\//)||(m="http://"+m),h.href=m,h.target="_blank"}h.setAttribute("data-popdata",d.name),i.appendChild(h),c.push({index:f,conveyor:h})}}var v=c[c.length-1].conveyor;v.className+=" has-popover",v.setAttribute("data-toggle","popover");for(var $=document.createElement("div"),y=0;y<c.length;y++){var b=c[y].conveyor.cloneNode(!0),_=document.createTextNode(b.dataset.popdata);b.appendChild(_),b.className="inner-conveyor-icon",$.appendChild(b),c[y].conveyor.removeAttribute("href")}this.createPopover(v,$)}var w=[];if(n.displays.length>0){for(var x=0;x<n.displays.length;x++){var C=n.displays[x],E=new Image;E.className="display-icon",E.src="images/"+e.displays_list[C].icon,E.style.width=this.display_icon_size+"px",E.style.height=this.display_icon_size+"px";var S=this.getDisplayStyle(n,r,x,n.displays.length),A=o("div",".display-container "+n.position,S);A.setAttribute("data-popdata",e.displays_list[C].name),A.appendChild(E),i.appendChild(A),w.push({index:x,display:A})}var k=w[w.length-1].display;k.className+=" has-popover",k.setAttribute("data-toggle","popover");for(var T=document.createElement("div"),O=0;O<w.length;O++){var N=w[O].display.cloneNode(!0),I=document.createTextNode(N.dataset.popdata);N.appendChild(I),N.className="inner-display-icon",T.appendChild(N)}this.createPopover(k,T)}if(a.instance_.config.allow_edit){var P=o("a",".material-edit "+n.position,{backgroundColor:"rgba(0,0,0,0.2)"});P.title=a.instance_.config.edit;var M=document.createTextNode(a.instance_.config.edit),j=document.createElement("span");j.appendChild(M),P.appendChild(j),i.appendChild(P),j.offsetWidth&&(j.style.marginLeft=-j.offsetWidth/2+"px"),this.bindOpenModal(P,n.position,n._id)}"top"===n.position?this.has_top_material=!0:"bottom"===n.position&&(this.has_bottom_material=!0),this.materialElements.push({material:n,element:i,conveyors:c,displays:w})}}this.updateAddNewButtons()},createPopover:function(e,t){jQuery(e).popover({animation:!1,content:t,trigger:"manual",container:"#scenario-timeline-wrapper",viewport:"#scenario-timeline-wrapper",placement:"right auto",html:!0}).on("mouseenter",function(){var e=this;jQuery(".has-popover").popover("hide"),jQuery(this).popover("show"),jQuery(".popover").on("mouseleave",function(){jQuery(e).popover("hide")})}).on("mouseleave",function(){var e=this;setTimeout(function(){jQuery(".popover:hover").length||jQuery(e).popover("hide")},300)})},materialExists:function(e){for(var t=0;t<this.materialElements.length;t++)if(this.materialElements[t].material._id===e._id)return!0;return!1},addNewButtonExists:function(e,t){return document.querySelector("div.new-material-button."+e+'[data-id="'+t+'"]')},updateAddNewButtons:function(){if(a.instance_.config.allow_edit){var t=this,n=this.addNewButtonExists("top",t._id),r=this.addNewButtonExists("bottom",t._id);if(this.has_top_material||n)this.has_top_material&&n&&this.activities_wrapper.removeChild(n);else{var i=this.getAddNewButtonStyle("top"),o=this.createAddButtonOverflow(i,"top",t._id);this.activities_wrapper.appendChild(o),o.addEventListener("click",function(){e.openAddMaterialModal(t,"top")})}if(this.has_bottom_material||r)this.has_bottom_material&&r&&this.activities_wrapper.removeChild(r);else{var s=this.getAddNewButtonStyle("bottom"),u=this.createAddButtonOverflow(s,"bottom",t._id);this.activities_wrapper.appendChild(u),u.addEventListener("click",function(){e.openAddMaterialModal(t,"bottom")})}}},bindOpenModal:function(t,n,r){var i=this;t.addEventListener("click",function(){e.openEditMaterialModal(i,n,a.instance_.findMaterial(r))})},createAddButtonOverflow:function(e,t,n){var r=o("div",".new-material-button "+t,e,null,{attribute:"data-id",value:n});r.setAttribute("style",r.getAttribute("style")+" background-color:"+e.backgroundColor+" !important;");var i=o("a",".new-add has-tooltip "+t,{backgroundColor:"rgba(0,0,0,0.2)"}),s=document.createTextNode(a.instance_.config.add),u=document.createElement("span");return u.appendChild(s),i.appendChild(u),r.appendChild(i),"top"==t?(i.title=a.instance_.config.AddaboveAxisLegend,jQuery(i).tooltip({container:"#scenario-timeline-wrapper",animation:!1,placement:"auto "+t,html:!0})):"bottom"==t&&(i.title=a.instance_.config.AddbelowAxisLegend,jQuery(i).tooltip({container:"#scenario-timeline-wrapper",animation:!1,placement:"auto "+t,html:!0})),r},getMateriaMainStyle:function(e){var t=29+this.material_height*e.involvement_level;"top"===e.position&&(t=10+this.material_height);var n=this.y+this.height;return"top"===e.position&&(n-=this.height+t),{top:n+"px",left:this.x+"px",width:this.width+"px",height:t+"px",backgroundColor:"transparent"}},getConveyorStyle:function(e,t,n,r){var i=4,a=null;"top"===e.position?a=-this.conveyor_icon_size-8-i:(a=parseInt(t.height.replace("px","")),a+=i);var o=3;return{left:this.width-this.conveyor_icon_size-8-r*o+n*o+o+"px",top:a+"px"}},getDisplayStyle:function(e,t,n,r){var i=4,a=null;"top"===e.position?a=-this.conveyor_icon_size-8-i:(a=parseInt(t.height.replace("px","")),a+=i);var o=3;return{left:r*o-n*o-o+"px",top:a+"px"}},getAddNewButtonStyle:function(e){var t=30,n=30,r=10,i=this.y+this.height+r;return"top"===e&&(i-=this.height+t+2*r),{top:i+"px",left:this.x+this.width/2-n/2+"px",width:n+"px",height:t+"px",backgroundColor:this.add_new_button_color}},updateMaterials:function(){if(this.materialElements.length>0)for(var e=0;e<this.materialElements.length;e++){var t=this.materialElements[e].material,n=this.materialElements[e].element,r=this.materialElements[e].conveyors,i=this.materialElements[e].displays,o=this.getMateriaMainStyle(t);if(s(n,o),r.length>0)for(var u=0;u<r.length;u++){var l=this.getConveyorStyle(t,o,u,r.length);s(r[u].conveyor,l)}if(i.length>0)for(var c=0;c<i.length;c++){var f=this.getDisplayStyle(t,o,c,i.length);s(i[c].display,f)}}if(a.instance_.config.allow_edit){var d=this,p=this.addNewButtonExists("top",d._id),h=this.addNewButtonExists("bottom",d._id);if(p){var g=this.getAddNewButtonStyle("top");s(p,g),p.setAttribute("style",p.getAttribute("style")+" background-color:"+g.backgroundColor+" !important;")}if(h){var m=this.getAddNewButtonStyle("bottom");s(h,m),h.setAttribute("style",h.getAttribute("style")+" background-color:"+m.backgroundColor+" !important;")}}}};var o=function(e,t,n,r,i){var a=document.createElement(e);return"."===t.charAt(0)?a.className=t.slice(1):a.id=t.slice(1),n&&s(a,n),r&&a.appendChild(document.createTextNode(r)),i&&a.setAttribute(i.attribute,i.value),a},s=function(e,t){if(t)for(var n in t)e.style[n]=t[n]},u=function(){return e.activity_list};angular.element(n).ready(function(){console.log("ready");var t=!1;e.allow_edit&&(t=!0);new a({edit:t});t===!0&&e.setreDrawMaterialFunction({theDirFn:a.instance_.reDrawMaterial})})}}}])}(),function(){"use strict";angular.module("app").directive("editcanvasmodal",["$timeout",function(e){return{restrict:"E",templateUrl:"js/app/directives/modal/modal.html",link:function(t,n,r){var i=function(n){e(function(){var e=angular.element("#myModal"),r=e.controller();r.setModel(t),e.modal(n)},0)};t.setManageFunction({theDirFn:i})}}}])}();