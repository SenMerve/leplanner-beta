

<div class="container main-content">

    <div class="row login-page">

        <div class="main-login">
            <h2>Profile picture</h2>
            <img height='200px' width='200px' class="img-circle" style="height:200px;width:200px" src="./images/user/{{user._id}}.jpg"/>
            <div ng-if='upload_error' class="alert alert-danger" role="alert">{{upload_error}}</div>
            <div ng-if='upload_success' class="alert alert-success" role="alert">{{upload_success}}</div>
            <p>Accepts image file types .png / .jpg / .jpeg  - file size up to 1MB</p>
              <input type="file" ngf-select ngf-change="uploadPicture($files)"></input>
              <p ng-if="progress_percentage">Upload - {{progress_percentage}}</p>
            <br>

            <h2>Update profile</h2>
            <form name="updateProfile-form" id="updateProfile-form" ng-submit="updateProfile(user)">
              <div ng-if='updateProfile_error' class="alert alert-danger" role="alert">{{updateProfile_error}}</div>
              <div ng-if='updateProfile_success' class="alert alert-success" role="alert">{{updateProfile_success}}</div>
              <div class="form-group">
                <label for="new_first_name">First name</label>
                <input type="text" class="form-control" id="new_first_name" name="new_first_name" ng-model="user.new_first_name" ng-value="user.first_name" required/>
              </div>
              <div class="form-group">
                <label for="new_last_name">Last name</label>
                <input type="text" class="form-control" id="new_last_name" name="new_last_name" ng-model="user.new_last_name" required />
              </div>
              <div class="form-group">
                <label for="new_organization">Organization</label>
                <input type="text" class="form-control" id="new_organization" name="new_organization" ng-model="user.new_organization" />
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" class="form-control" id="email" name="email" ng-model="user.new_email" required />
              </div>
              <div class="form-group" ng-if="user.new_email != user.email">
                <label for="confirm_password">Password (to confirm email change)</label>
                <input type="password" class="form-control" id="confirm_password" name="confirm_password" ng-model="user.confirm_password"  />
              </div>
              <div class="form-submit">
                <input type="submit" class="btn btn-sm btn btn-primary" value="Update" />
              </div>
            </form>
            <br>
            <h2>Update password</h2>
            <form name="updatePassword-form" id="updatePassword-form" ng-submit="updatePassword(user)">
              <div ng-if='updatePassword_error' class="alert alert-danger" role="alert">{{updatePassword_error}}</div>
              <div ng-if='updatePassword_success' class="alert alert-success" role="alert">{{updatePassword_success}}</div>
              <div class="form-group">
                <label for="password">Confirm old password</label>
                <input type="password" class="form-control" id="password" name="password" ng-model="user.password"  />
              </div>
              <div class="form-group">
                <label for="password">New password</label>
                <input type="password" class="form-control" id="password" name="password" ng-model="user.new_password"  />
              </div>
              <div class="form-group">
                <label for="password">New password twice</label>
                <input type="password" class="form-control" id="password" name="password" ng-model="user.new_password_twice"  />
              </div>
              <div class="form-submit">
                <input type="submit" class="btn btn-sm btn btn-primary" value="Update password" />
              </div>
            </form>

        </div>
    </div>
</div>
